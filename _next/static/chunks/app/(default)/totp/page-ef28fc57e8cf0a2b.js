(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1461],{70006:function(e,n,t){Promise.resolve().then(t.bind(t,2766))},2766:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return P}});var s=t(24670),r=t(57437),i=t(21481),u=t(63685),c=t(18142),o=t(20020),a=t(30060),l=t(53729),d=t(89158),f=function(e){var n=e.totps;return(0,r.jsx)(l.Z,{children:(0,r.jsx)(d.Z,{children:null==n?void 0:n.map(function(e){return(0,r.jsx)(d.Z.Item,{},e.secretKey)})})})},x=t(16687),j=t(88648),h=t(84979),Z=t(14472),p=t(88110),m=t.n(p),v=t(79404),y=t(43574),_=t(80338),g=t(2265),b=t(75),C=t(6822),w=t(97251),k=t(64323),F=t(54637),S=t(74548),A=t.n(S),E=function(e){var n=e.totp,t=(0,s._)((0,g.useState)(0),2),i=t[0],u=t[1],c=(0,s._)((0,g.useState)(""),2),o=c[0],a=c[1];(0,g.useEffect)(function(){if(u(0),n){var e=A()().second();u(A()().valueOf()+(e>=30?60-e:30-e)*1e3),a(n.generate())}},[n]);var l=(0,s._)((0,k.Z)({targetDate:i,onEnd:function(){if(u(0),n){var e=A()().second();u(A()().valueOf()+(e>=30?60-e:30-e)*1e3),a(n.generate())}}}),1)[0];return(0,r.jsx)(v.Z.Item,{label:"Token",children:(0,r.jsxs)(_.ZP.Compact,{children:[(0,r.jsx)(y.default,{value:o,addonAfter:(0,r.jsx)(function(){return(0,r.jsx)(F.default,{type:"circle",percent:(30-Math.round(l/1e3))/30*100,format:function(){return Math.round(l/1e3)},size:20})},{})}),(0,r.jsx)(w.Z,{text:o})]})})},I=function(e){var n=e.totp;return(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(l.Z,{children:(0,r.jsx)(C.Z,{value:(null==n?void 0:n.toString())||"-",style:{width:128,height:128}})}),(0,r.jsx)(l.Z,{sx:{mt:2},children:(0,r.jsx)(E,{totp:n})}),(0,r.jsx)(l.Z,{sx:{mt:2},children:(0,r.jsxs)(_.ZP.Compact,{style:{width:"100%"},children:[(0,r.jsx)(y.default,{value:(null==n?void 0:n.toString())||""}),(0,r.jsx)(w.Z,{text:null==n?void 0:n.toString()})]})})]})},O=function(){var e,n=(0,s._)(v.Z.useForm(),1)[0],t=(0,s._)((0,g.useState)(),2),i=t[0],u=t[1],c=function(){var e=new a.u3;n.setFieldValue("secret",e.base32)},o=(e=(0,x._)(function(e){return(0,j.Jh)(this,function(n){return u(new a.GF({issuer:e.issuer,label:e.account,secret:e.secretKey})),[2,!0]})}),function(n){return e.apply(this,arguments)});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(h.A,{form:n,layout:"horizontal",onFinish:o,children:[(0,r.jsx)(Z.Z,{label:"Issuer",name:"issuer",required:!0}),(0,r.jsx)(Z.Z,{label:"Account",name:"account"}),(0,r.jsx)(h.A.Item,{shouldUpdate:!0,children:function(e){return(0,r.jsx)(h.A.Item,{label:"Secret Key",name:"secret",required:!0,children:(0,r.jsxs)(_.ZP.Compact,{style:{width:"100%"},children:[(0,r.jsx)(y.default,{value:e.getFieldValue("secret"),showCount:!0}),(0,r.jsx)(m(),{icon:(0,r.jsx)(b.Z,{icon:"material-symbols:refresh"}),onClick:c})]})})}})]}),(0,r.jsx)(I,{totp:i})]})},P=function(){var e=(0,s._)((0,u.Z)("totps",{defaultValue:[]}),2),n=e[0];return e[1],(0,r.jsx)(i.Z,{children:(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(c.Z,{span:8,children:(0,r.jsx)(f,{totps:n})}),(0,r.jsx)(c.Z,{span:16,children:(0,r.jsx)(O,{})})]})})}},97251:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var s=t(24670),r=t(57437),i=t(75),u=t(88110),c=t.n(u),o=t(33116),a=t(2390),l=t.n(a);function d(e){var n=e.text,t=(0,s._)(o.ZP.useMessage(),2),u=t[0],a=t[1];return(0,r.jsxs)(r.Fragment,{children:[a,(0,r.jsx)(c(),{icon:(0,r.jsx)(i.Z,{icon:"material-symbols:content-copy-outline"}),onClick:function(){l()(n||"",{format:"text/plain",onCopy:function(e){u.open({type:"success",content:"复制成功"})}})}})]})}},75:function(e,n,t){"use strict";var s=t(57437),r=t(39830);n.Z=function(e){var n=e.icon;return(0,s.jsx)("span",{role:"img",className:"anticon",children:(0,s.jsx)(r.JO,{icon:n})})}}},function(e){e.O(0,[5634,9273,3635,7521,2934,9591,8110,3706,1204,7658,31,8623,6481,4840,1542,3574,9830,9370,2044,3116,1481,662,4260,3433,6425,2472,5623,7069,2971,596,1744],function(){return e(e.s=70006)}),_N_E=e.O()}]);