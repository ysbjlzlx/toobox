{"version":3,"file":"index-BkSZUkhJ.js","sources":["../../node_modules/ahooks/es/createUpdateEffect/index.js","../../node_modules/ahooks/es/useUpdateEffect/index.js","../../node_modules/ahooks/es/utils/isBrowser.js","../../node_modules/ahooks/es/createUseStorageState/index.js","../../node_modules/ahooks/es/useLocalStorageState/index.js"],"sourcesContent":["import { useRef } from 'react';\nexport var createUpdateEffect = function (hook) {\n  return function (effect, deps) {\n    var isMounted = useRef(false);\n    // for react-refresh\n    hook(function () {\n      return function () {\n        isMounted.current = false;\n      };\n    }, []);\n    hook(function () {\n      if (!isMounted.current) {\n        isMounted.current = true;\n      } else {\n        return effect();\n      }\n    }, deps);\n  };\n};\nexport default createUpdateEffect;","import { useEffect } from 'react';\nimport { createUpdateEffect } from '../createUpdateEffect';\nexport default createUpdateEffect(useEffect);","var isBrowser = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nexport default isBrowser;","import { __read } from \"tslib\";\nimport { useState } from 'react';\nimport useMemoizedFn from '../useMemoizedFn';\nimport useUpdateEffect from '../useUpdateEffect';\nimport { isFunction, isUndef } from '../utils';\nexport function createUseStorageState(getStorage) {\n  function useStorageState(key, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    var storage;\n    var _a = options.onError,\n      onError = _a === void 0 ? function (e) {\n        console.error(e);\n      } : _a;\n    // https://github.com/alibaba/hooks/issues/800\n    try {\n      storage = getStorage();\n    } catch (err) {\n      onError(err);\n    }\n    var serializer = function (value) {\n      if (options.serializer) {\n        return options.serializer(value);\n      }\n      return JSON.stringify(value);\n    };\n    var deserializer = function (value) {\n      if (options.deserializer) {\n        return options.deserializer(value);\n      }\n      return JSON.parse(value);\n    };\n    function getStoredValue() {\n      try {\n        var raw = storage === null || storage === void 0 ? void 0 : storage.getItem(key);\n        if (raw) {\n          return deserializer(raw);\n        }\n      } catch (e) {\n        onError(e);\n      }\n      if (isFunction(options.defaultValue)) {\n        return options.defaultValue();\n      }\n      return options.defaultValue;\n    }\n    var _b = __read(useState(getStoredValue), 2),\n      state = _b[0],\n      setState = _b[1];\n    useUpdateEffect(function () {\n      setState(getStoredValue());\n    }, [key]);\n    var updateState = function (value) {\n      var currentState = isFunction(value) ? value(state) : value;\n      setState(currentState);\n      if (isUndef(currentState)) {\n        storage === null || storage === void 0 ? void 0 : storage.removeItem(key);\n      } else {\n        try {\n          storage === null || storage === void 0 ? void 0 : storage.setItem(key, serializer(currentState));\n        } catch (e) {\n          console.error(e);\n        }\n      }\n    };\n    return [state, useMemoizedFn(updateState)];\n  }\n  return useStorageState;\n}","import { createUseStorageState } from '../createUseStorageState';\nimport isBrowser from '../utils/isBrowser';\nvar useLocalStorageState = createUseStorageState(function () {\n  return isBrowser ? localStorage : undefined;\n});\nexport default useLocalStorageState;"],"names":["createUpdateEffect","hook","effect","deps","isMounted","useRef","useUpdateEffect","useEffect","isBrowser","createUseStorageState","getStorage","useStorageState","key","options","storage","_a","onError","err","serializer","value","deserializer","getStoredValue","raw","e","isFunction","_b","__read","useState","state","setState","updateState","currentState","isUndef","useMemoizedFn","useLocalStorageState"],"mappings":"oGACO,IAAIA,EAAqB,SAAUC,EAAM,CAC9C,OAAO,SAAUC,EAAQC,EAAM,CAC7B,IAAIC,EAAYC,SAAO,EAAK,EAE5BJ,EAAK,UAAY,CACf,OAAO,UAAY,CACjBG,EAAU,QAAU,EAC5B,CACK,EAAE,CAAE,CAAA,EACLH,EAAK,UAAY,CACf,GAAI,CAACG,EAAU,QACbA,EAAU,QAAU,OAEpB,QAAOF,EAAM,CAEhB,EAAEC,CAAI,CACX,CACA,EChBA,MAAeG,EAAAN,EAAmBO,EAAAA,SAAS,ECF3C,IAAIC,EAAY,CAAC,EAAE,OAAO,OAAW,KAAe,OAAO,UAAY,OAAO,SAAS,eCKhF,SAASC,EAAsBC,EAAY,CAChD,SAASC,EAAgBC,EAAKC,EAAS,CACjCA,IAAY,SACdA,EAAU,CAAA,GAEZ,IAAIC,EACAC,EAAKF,EAAQ,QACfG,EAAUD,IAAO,OAAS,SAAU,EAAG,CACrC,QAAQ,MAAM,CAAC,CAChB,EAAGA,EAEN,GAAI,CACFD,EAAUJ,EAAU,CACrB,OAAQO,EAAK,CACZD,EAAQC,CAAG,CACZ,CACD,IAAIC,EAAa,SAAUC,EAAO,CAChC,OAAIN,EAAQ,WACHA,EAAQ,WAAWM,CAAK,EAE1B,KAAK,UAAUA,CAAK,CACjC,EACQC,EAAe,SAAUD,EAAO,CAClC,OAAIN,EAAQ,aACHA,EAAQ,aAAaM,CAAK,EAE5B,KAAK,MAAMA,CAAK,CAC7B,EACI,SAASE,GAAiB,CACxB,GAAI,CACF,IAAIC,EAAMR,GAAY,KAA6B,OAASA,EAAQ,QAAQF,CAAG,EAC/E,GAAIU,EACF,OAAOF,EAAaE,CAAG,CAE1B,OAAQC,EAAG,CACVP,EAAQO,CAAC,CACV,CACD,OAAIC,EAAWX,EAAQ,YAAY,EAC1BA,EAAQ,eAEVA,EAAQ,YAChB,CACD,IAAIY,EAAKC,EAAOC,EAAQ,SAACN,CAAc,EAAG,CAAC,EACzCO,EAAQH,EAAG,CAAC,EACZI,EAAWJ,EAAG,CAAC,EACjBnB,EAAgB,UAAY,CAC1BuB,EAASR,EAAc,CAAE,CAC/B,EAAO,CAACT,CAAG,CAAC,EACR,IAAIkB,EAAc,SAAUX,EAAO,CACjC,IAAIY,EAAeP,EAAWL,CAAK,EAAIA,EAAMS,CAAK,EAAIT,EAEtD,GADAU,EAASE,CAAY,EACjBC,EAAQD,CAAY,EACtBjB,GAAY,MAAsCA,EAAQ,WAAWF,CAAG,MAExE,IAAI,CACFE,GAAY,MAAsCA,EAAQ,QAAQF,EAAKM,EAAWa,CAAY,CAAC,CAChG,OAAQR,EAAG,CACV,QAAQ,MAAMA,CAAC,CAChB,CAET,EACI,MAAO,CAACK,EAAOK,EAAcH,CAAW,CAAC,CAC1C,CACD,OAAOnB,CACT,CCnEG,IAACuB,EAAuBzB,EAAsB,UAAY,CAC3D,OAAOD,EAAY,aAAe,MACpC,CAAC","x_google_ignoreList":[0,1,2,3,4]}