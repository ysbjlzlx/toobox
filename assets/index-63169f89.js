var he=Object.defineProperty;var pe=(e,n,r)=>n in e?he(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r;var K=(e,n,r)=>(pe(e,typeof n!="symbol"?n+"":n,r),r);import{a6 as me,j as N,B as ye,P as ge,a4 as Se}from"./index-c4fa426a.js";import{_ as j}from"./lodash-3027b055.js";import{r as C,g as Ee,a as we}from"./ace-306b8502.js";import{u as be}from"./index-87b0a0a3.js";import{N as ve,Y as Ae}from"./jsoneditor-ba064d66.js";import"./index-e1d43a1e.js";const z=e=>{let n;const r=new Set,t=(m,l)=>{const i=typeof m=="function"?m(n):m;if(!Object.is(i,n)){const a=n;n=l??typeof i!="object"?i:Object.assign({},n,i),r.forEach(p=>p(n,a))}},s=()=>n,g={setState:t,getState:s,subscribe:m=>(r.add(m),()=>r.delete(m)),destroy:()=>{r.clear()}};return n=e(t,s,g),g},Ce=e=>e?z(e):z;var Q={exports:{}},Y={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T=C,Oe=me;function xe(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ie=typeof Object.is=="function"?Object.is:xe,Ne=Oe.useSyncExternalStore,Re=T.useRef,De=T.useEffect,$e=T.useMemo,_e=T.useDebugValue;Y.useSyncExternalStoreWithSelector=function(e,n,r,t,s){var o=Re(null);if(o.current===null){var y={hasValue:!1,value:null};o.current=y}else y=o.current;o=$e(function(){function m(h){if(!l){if(l=!0,i=h,h=t(h),s!==void 0&&y.hasValue){var S=y.value;if(s(S,h))return a=S}return a=h}if(S=a,Ie(i,h))return S;var c=t(h);return s!==void 0&&s(S,c)?S:(i=h,a=c)}var l=!1,i,a,p=r===void 0?null:r;return[function(){return m(n())},p===null?void 0:function(){return m(p())}]},[n,r,t,s]);var g=Ne(e,o[0],o[1]);return De(function(){y.hasValue=!0,y.value=g},[g]),_e(g),g};Q.exports=Y;var je=Q.exports;const Te=Ee(je),{useDebugValue:Fe}=we,{useSyncExternalStoreWithSelector:Le}=Te;function Je(e,n=e.getState,r){const t=Le(e.subscribe,e.getState,e.getServerState||e.getState,n,r);return Fe(t),t}const W=e=>{const n=typeof e=="function"?Ce(e):e,r=(t,s)=>Je(n,t,s);return Object.assign(r,n),r},Pe=e=>e?W(e):W;function ee(e,n){let r;try{r=e()}catch{return}return{getItem:s=>{var o;const y=m=>m===null?null:JSON.parse(m,n==null?void 0:n.reviver),g=(o=r.getItem(s))!=null?o:null;return g instanceof Promise?g.then(y):y(g)},setItem:(s,o)=>r.setItem(s,JSON.stringify(o,n==null?void 0:n.replacer)),removeItem:s=>r.removeItem(s)}}const R=e=>n=>{try{const r=e(n);return r instanceof Promise?r:{then(t){return R(t)(r)},catch(t){return this}}}catch(r){return{then(t){return this},catch(t){return R(t)(r)}}}},ke=(e,n)=>(r,t,s)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:u=>u,version:0,merge:(u,E)=>({...E,...u}),...n},y=!1;const g=new Set,m=new Set;let l;try{l=o.getStorage()}catch{}if(!l)return e((...u)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...u)},t,s);const i=R(o.serialize),a=()=>{const u=o.partialize({...t()});let E;const d=i({state:u,version:o.version}).then(b=>l.setItem(o.name,b)).catch(b=>{E=b});if(E)throw E;return d},p=s.setState;s.setState=(u,E)=>{p(u,E),a()};const h=e((...u)=>{r(...u),a()},t,s);let S;const c=()=>{var u;if(!l)return;y=!1,g.forEach(d=>d(t()));const E=((u=o.onRehydrateStorage)==null?void 0:u.call(o,t()))||void 0;return R(l.getItem.bind(l))(o.name).then(d=>{if(d)return o.deserialize(d)}).then(d=>{if(d)if(typeof d.version=="number"&&d.version!==o.version){if(o.migrate)return o.migrate(d.state,d.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return d.state}).then(d=>{var b;return S=o.merge(d,(b=t())!=null?b:h),r(S,!0),a()}).then(()=>{E==null||E(S,void 0),y=!0,m.forEach(d=>d(S))}).catch(d=>{E==null||E(void 0,d)})};return s.persist={setOptions:u=>{o={...o,...u},u.getStorage&&(l=u.getStorage())},clearStorage:()=>{l==null||l.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>c(),hasHydrated:()=>y,onHydrate:u=>(g.add(u),()=>{g.delete(u)}),onFinishHydration:u=>(m.add(u),()=>{m.delete(u)})},c(),S||h},Be=(e,n)=>(r,t,s)=>{let o={storage:ee(()=>localStorage),partialize:c=>c,version:0,merge:(c,u)=>({...u,...c}),...n},y=!1;const g=new Set,m=new Set;let l=o.storage;if(!l)return e((...c)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...c)},t,s);const i=()=>{const c=o.partialize({...t()});return l.setItem(o.name,{state:c,version:o.version})},a=s.setState;s.setState=(c,u)=>{a(c,u),i()};const p=e((...c)=>{r(...c),i()},t,s);let h;const S=()=>{var c,u;if(!l)return;y=!1,g.forEach(d=>{var b;return d((b=t())!=null?b:p)});const E=((u=o.onRehydrateStorage)==null?void 0:u.call(o,(c=t())!=null?c:p))||void 0;return R(l.getItem.bind(l))(o.name).then(d=>{if(d)if(typeof d.version=="number"&&d.version!==o.version){if(o.migrate)return o.migrate(d.state,d.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return d.state}).then(d=>{var b;return h=o.merge(d,(b=t())!=null?b:p),r(h,!0),i()}).then(()=>{E==null||E(h,void 0),h=t(),y=!0,m.forEach(d=>d(h))}).catch(d=>{E==null||E(void 0,d)})};return s.persist={setOptions:c=>{o={...o,...c},c.storage&&(l=c.storage)},clearStorage:()=>{l==null||l.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>S(),hasHydrated:()=>y,onHydrate:c=>(g.add(c),()=>{g.delete(c)}),onFinishHydration:c=>(m.add(c),()=>{m.delete(c)})},o.skipHydration||S(),h||p},Me=(e,n)=>"getStorage"in n||"serialize"in n||"deserialize"in n?ke(e,n):Be(e,n),He=Me,Ue=Pe()(He((e,n)=>({jsonTabs:["0"],activeKey:"0",addJsonTab:r=>e(()=>({jsonTabs:j.concat(n().jsonTabs,r)})),removeJsonTab:r=>e(()=>({jsonTabs:j.without(n().jsonTabs,r)})),setActiveKey:r=>e(()=>({activeKey:r}))}),{name:"json-tab-store",storage:ee(()=>localStorage)}));function qe(e){throw new Error("config is deprecated, support for circularRefs is removed from the library. If you encounter circular references in your data structures, please rethink your datastructures: better prevent circular references in the first place.")}function D(e){return Ke.test(e)}const Ke=/^-?[0-9]+$/;function k(e){return ze.test(e)}const ze=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function te(e,n){const r=parseFloat(e),t=String(r),s=J(e),o=J(t);return!!(s===o||(n==null?void 0:n.approx)===!0&&!D(e)&&o.length>=14&&s.startsWith(o.substring(0,14)))}let O=function(e){return e.underflow="underflow",e.overflow="overflow",e.truncate_integer="truncate_integer",e.truncate_float="truncate_float",e}({});function B(e){if(te(e,{approx:!1}))return;if(D(e))return O.truncate_integer;const n=parseFloat(e);return isFinite(n)?n===0?O.underflow:O.truncate_float:O.overflow}function We(e,n){const r=parseFloat(e),t=B(e);if((n==null?void 0:n.approx)===!0?t&&t!==O.truncate_float:t){const s=t.replace(/_\w+$/,"");throw new Error(`Cannot safely convert to number: the value '${e}' would ${s} and become ${r}`)}return r}function J(e){return e.replace(Ge,"").replace(Xe,"").replace(Ze,"").replace(Ve,"")}const Ge=/[eE][+-]?\d+$/,Ve=/^-?(0*)?/,Xe=/\./,Ze=/0+$/;class M{constructor(n){K(this,"isLosslessNumber",!0);if(!k(n))throw new Error('Invalid number (value: "'+n+'")');this.value=n}valueOf(){const n=B(this.value);if(n===void 0||n===O.truncate_float)return parseFloat(this.value);if(D(this.value))return BigInt(this.value);throw new Error(`Cannot safely convert to number: the value '${this.value}' would ${n} and become ${parseFloat(this.value)}`)}toString(){return this.value}}function ne(e){return e&&typeof e=="object"&&e.isLosslessNumber===!0||!1}function Qe(e){if(J(e+"").length>15)throw new Error(`Invalid number: contains more than 15 digits and is most likely truncated and unsafe by itself (value: ${e})`);if(isNaN(e))throw new Error("Invalid number: NaN");if(!isFinite(e))throw new Error("Invalid number: "+e);return new M(String(e))}function re(e){return new M(e)}function Ye(e){return D(e)?BigInt(e):parseFloat(e)}function et(e,n){return H({"":e},"",e,n)}function H(e,n,r,t){return Array.isArray(r)?t.call(e,n,nt(r,t)):r&&typeof r=="object"&&!ne(r)?t.call(e,n,tt(r,t)):t.call(e,n,r)}function tt(e,n){return Object.keys(e).forEach(r=>{const t=H(e,r,e[r],n);t!==void 0?e[r]=t:delete e[r]}),e}function nt(e,n){for(let r=0;r<e.length;r++)e[r]=H(e,r+"",e[r],n);return e}function rt(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:re,t=0;const s=g();return S(s),u(),n?et(s,n):s;function o(){if(e.charCodeAt(t)===ut){t++,l();const f={};let w=!0;for(;t<e.length&&e.charCodeAt(t)!==V;){w?w=!1:(p(),l());const A=t,I=i();I===void 0&&b(),l(),h();const F=g();F===void 0&&fe(),Object.prototype.hasOwnProperty.call(f,I)&&!P(F,f[I])&&se(I,A+1),f[I]=F}return e.charCodeAt(t)!==V&&ie(),t++,f}}function y(){if(e.charCodeAt(t)===ft){t++,l();const f=[];let w=!0;for(;t<e.length&&e.charCodeAt(t)!==X;){w?w=!1:p();const A=g();c(A),f.push(A)}return e.charCodeAt(t)!==X&&ce(),t++,f}}function g(){l();const f=i()??a()??o()??y()??m("true",!0)??m("false",!1)??m("null",null);return l(),f}function m(f,w){if(e.slice(t,t+f.length)===f)return t+=f.length,w}function l(){for(;ot(e.charCodeAt(t));)t++}function i(){if(e.charCodeAt(t)===L){t++;let f="";for(;t<e.length&&e.charCodeAt(t)!==L;){if(e.charCodeAt(t)===at){const w=e[t+1],A=ct[w];A!==void 0?(f+=A,t++):w==="u"?$(e.charCodeAt(t+2))&&$(e.charCodeAt(t+3))&&$(e.charCodeAt(t+4))&&$(e.charCodeAt(t+5))?(f+=String.fromCharCode(parseInt(e.slice(t+2,t+6),16)),t+=5):le(t):ue(t)}else it(e.charCodeAt(t))?f+=e[t]:ae(e[t]);t++}return d(),t++,f}}function a(){const f=t;if(e.charCodeAt(t)===Z&&(t++,E(f)),e.charCodeAt(t)===U)t++;else if(st(e.charCodeAt(t)))for(t++;_(e.charCodeAt(t));)t++;if(e.charCodeAt(t)===St)for(t++,E(f);_(e.charCodeAt(t));)t++;if(e.charCodeAt(t)===At||e.charCodeAt(t)===vt)for(t++,(e.charCodeAt(t)===Z||e.charCodeAt(t)===mt)&&t++,E(f);_(e.charCodeAt(t));)t++;if(t>f)return r(e.slice(f,t))}function p(){if(e.charCodeAt(t)!==gt)throw new SyntaxError(`Comma ',' expected after value ${v()}`);t++}function h(){if(e.charCodeAt(t)!==Et)throw new SyntaxError(`Colon ':' expected after property name ${v()}`);t++}function S(f){if(f===void 0)throw new SyntaxError(`JSON value expected ${v()}`)}function c(f){if(f===void 0)throw new SyntaxError(`Array item expected ${v()}`)}function u(){if(t<e.length)throw new SyntaxError(`Expected end of input ${v()}`)}function E(f){if(!_(e.charCodeAt(t))){const w=e.slice(f,t);throw new SyntaxError(`Invalid number '${w}', expecting a digit ${v()}`)}}function d(){if(e.charCodeAt(t)!==L)throw new SyntaxError(`End of string '"' expected ${v()}`)}function b(){throw new SyntaxError(`Quoted object key expected ${v()}`)}function se(f,w){throw new SyntaxError(`Duplicate key '${f}' encountered at position ${w}`)}function ie(){throw new SyntaxError(`Quoted object key or end of object '}' expected ${v()}`)}function ce(){throw new SyntaxError(`Array item or end of array ']' expected ${v()}`)}function ae(f){throw new SyntaxError(`Invalid character '${f}' ${x()}`)}function ue(f){const w=e.slice(f,f+2);throw new SyntaxError(`Invalid escape character '${w}' ${x()}`)}function fe(){throw new SyntaxError(`Object value expected after ':' ${x()}`)}function le(f){const w=e.slice(f,f+6);throw new SyntaxError(`Invalid unicode character '${w}' ${x()}`)}function x(){return`at position ${t}`}function de(){return t<e.length?`but got '${e[t]}'`:"but reached end of input"}function v(){return de()+" "+x()}}function ot(e){return e===lt||e===dt||e===ht||e===pt}function $(e){return e>=U&&e<=q||e>=wt&&e<=Ct||e>=bt&&e<=Ot}function _(e){return e>=U&&e<=q}function st(e){return e>=yt&&e<=q}function it(e){return e>=32&&e<=1114111}function P(e,n){return e===n?!0:Array.isArray(e)&&Array.isArray(n)?e.length===n.length&&e.every((r,t)=>P(r,n[t])):G(e)&&G(n)?[...new Set([...Object.keys(e),...Object.keys(n)])].every(t=>P(e[t],n[t])):!1}function G(e){return typeof e=="object"&&e!==null}const ct={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},at=92,ut=123,V=125,ft=91,X=93,lt=32,dt=10,ht=9,pt=13,L=34,mt=43,Z=45,U=48,yt=49,q=57,gt=44,St=46,Et=58,wt=65,bt=97,vt=69,At=101,Ct=70,Ot=102;function oe(e,n,r,t){const s=xt(r),o=typeof n=="function"?n.call({"":e},"",e):e;return y(o,"");function y(i,a){if(Array.isArray(t)){const p=t.find(h=>h.test(i));if(p){const h=p.stringify(i);if(typeof h!="string"||!k(h))throw new Error(`Invalid JSON number: output of a number stringifier must be a string containing a JSON number (output: ${h})`);return h}}if(typeof i=="boolean"||typeof i=="number"||typeof i=="string"||i===null||i instanceof Date||i instanceof Boolean||i instanceof Number||i instanceof String)return JSON.stringify(i);if(i&&i.isLosslessNumber||typeof i=="bigint")return i.toString();if(Array.isArray(i))return g(i,a);if(i&&typeof i=="object")return m(i,a)}function g(i,a){if(i.length===0)return"[]";const p=s?a+s:void 0;let h=s?`[
`:"[";for(let S=0;S<i.length;S++){const c=typeof n=="function"?n.call(i,String(S),i[S]):i[S];s&&(h+=p),typeof c<"u"&&typeof c!="function"?h+=y(c,p):h+="null",S<i.length-1&&(h+=s?`,
`:",")}return h+=s?`
`+a+"]":"]",h}function m(i,a){if(typeof i.toJSON=="function")return oe(i.toJSON(),n,r,void 0);const p=Array.isArray(n)?n.map(String):Object.keys(i);if(p.length===0)return"{}";const h=s?a+s:void 0;let S=!0,c=s?`{
`:"{";return p.forEach(u=>{const E=typeof n=="function"?n.call(i,u,i[u]):i[u];if(l(u,E)){S?S=!1:c+=s?`,
`:",";const d=JSON.stringify(u);c+=s?h+d+": ":d+":",c+=y(E,h)}}),c+=s?`
`+a+"}":"}",c}function l(i,a){return typeof a<"u"&&typeof a!="function"&&typeof a!="symbol"}}function xt(e){if(typeof e=="number")return" ".repeat(e);if(typeof e=="string"&&e!=="")return e}function It(e,n){return typeof n=="string"&&Nt.test(n)?new Date(n):n}const Nt=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z$/,Rt=Object.freeze(Object.defineProperty({__proto__:null,LosslessNumber:M,UnsafeNumberReason:O,config:qe,getUnsafeNumberReason:B,isInteger:D,isLosslessNumber:ne,isNumber:k,isSafeNumber:te,parse:rt,parseLosslessNumber:re,parseNumberAndBigInt:Ye,reviveDate:It,stringify:oe,toLosslessNumber:Qe,toSafeNumberOrThrow:We},Symbol.toStringTag,{value:"Module"})),Dt=e=>{const n=C.useRef(),r=C.useRef();return C.useEffect(()=>{const t={target:n.current,props:{}};return r.current=new ve(t),()=>{r.current&&(r.current.destroy(),r.current=void 0)}},[]),C.useEffect(()=>{var t;r.current&&((t=r.current)==null||t.updateProps({...e,parser:Rt}))},[e]),N.jsx(ye,{ref:n,height:"100%"})},$t=e=>{const n={mode:"text",content:{text:""}},r=(e==null?void 0:e.idx)||"0",[t,s]=be(`json-${r}`,{defaultValue:n}),o=()=>t==null?Ae.text:t.mode,y=m=>{s(l=>({...l,content:m}))},g=m=>{s(l=>({...l,mode:m}))};return N.jsx(Dt,{mode:o(),content:t.content,onChange:y,onChangeMode:g})};const kt=()=>{const{jsonTabs:e,activeKey:n,addJsonTab:r,removeJsonTab:t,setActiveKey:s}=Ue(),[o,y]=C.useState([]);C.useEffect(()=>{const a=e.map(p=>({key:p,label:"JSON Editor - "+p,closable:!0,children:N.jsx($t,{idx:p}),style:{height:"calc(100vh - 36px)"}}));if(j.indexOf(e,n)===-1){const p=j.last(a);s((p==null?void 0:p.key)||"0")}y(a)},[e,n,s]);const g=a=>{s(a)},m=(a,p)=>{p==="add"?l():i(a)},l=()=>{let a="0";if(e&&e.length>0){const p=e.map(S=>Number(S));a=`${Math.max(...p)+1}`}r(a),s(a)},i=a=>{t(String(a)),localStorage.removeItem(`json-${a}`),e&&e.length<=1&&r("0")};return N.jsx(ge,{title:!1,token:{paddingInlinePageContainerContent:0},children:N.jsx(Se,{type:"editable-card",size:"small",onChange:g,activeKey:n,onEdit:m,items:o})})};export{kt as default};
//# sourceMappingURL=index-63169f89.js.map
