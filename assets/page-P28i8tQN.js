import{j as s,P as w,c as n,d as u,e as $,F as C,p as b,f as I}from"./pro-components-DqS1vNmp.js";import{r as a,ab as f,a5 as x,aI as P,a7 as p,ay as y}from"./antd-2qrym3SB.js";const d=({children:e})=>s.jsx("div",{className:"flex w-full justify-center",children:e}),h=()=>({width:150,height:150,suffix:".png",bgColor:"#cccccc",textColor:"#969696",text:""}),m=e=>{const l=h();return e.width&&e.width>0&&(l.width=e.width),e.height&&e.height>0&&(l.height=e.height),e.suffix&&(l.suffix=e.suffix),e.bgColor&&(l.bgColor=e.bgColor),e.textColor&&(l.textColor=e.textColor),e.text&&e.text!==""&&(l.text=e.text),l},v=e=>{const[l,i]=a.useState(""),[t,g]=a.useState(h());return a.useEffect(()=>{g(m(e))},[e]),a.useEffect(()=>{var o,r;const c=`https://dummyimage.com/${t.width}x${t.height}/${(o=t.bgColor)==null?void 0:o.substring(1)}/${(r=t.textColor)==null?void 0:r.substring(1)}?text=${encodeURIComponent(t.text||"img")}`;i(c)},[t]),s.jsx(d,{children:s.jsx(f,{src:l,style:{width:`${t.width}px`,height:`${t.height}px`},alt:t.text||"placeholder img"})})},F=e=>{const[l,i]=a.useState(""),[t,g]=a.useState(h());return a.useEffect(()=>{g(m(e))},[e]),a.useEffect(()=>{var o,r;const c=`https://iph.href.lu/${t.width}x${t.height}?bg=${(o=t.bgColor)==null?void 0:o.substring(1)}&fg=${(r=t.textColor)==null?void 0:r.substring(1)}&text=${encodeURIComponent(t.text||"img")}`;i(c)},[t]),s.jsx(d,{children:s.jsx(f,{preview:!1,src:l,width:t.width,height:t.height,style:{width:`${t.width}px`,height:`${t.height}px`},alt:t.text||"placeholder img"})})},S=e=>{const[l,i]=a.useState(""),[t,g]=a.useState(h());return a.useEffect(()=>{g(m(e))},[e]),a.useEffect(()=>{var o,r;const c=`https://via.placeholder.com/${t.width}x${t.height}/${(o=t.bgColor)==null?void 0:o.substring(1)}/${(r=t.textColor)==null?void 0:r.substring(1)}?text=${encodeURIComponent(t.text||"img")}`+t.suffix;i(c)},[t]),s.jsx(d,{children:s.jsx(f,{src:l,style:{width:`${t.width}px`,height:`${t.height}px`},alt:t.text||"placeholder img"})})},j={width:320,height:320,suffix:".png",bgColor:"#8c8c8c",textColor:"#f0f0f0",text:"img"},E=[{label:".png",value:".png"},{label:".jpg",value:".jpg"},{label:".gif",value:".gif"}],V=()=>{const[e]=x.useForm(),[l,i]=a.useState(j),t=x.useWatch("bgColor",{form:e,preserve:!0}),g=x.useWatch("textColor",{form:e,preserve:!0});a.useEffect(()=>{const o=e.getFieldsValue();i(o)},[t,e,g]);const c={defaultActiveKey:"HrefLuImage",items:[{key:"HrefLuImage",label:"iph.href.lu",children:s.jsx(F,{...l})},{key:"PlaceholderImage",label:"via.placeholder.com",children:s.jsx(S,{...l})},{key:"DummyImage",label:"dummyimage.com",children:s.jsx(v,{...l})}]};return s.jsx(w,{title:!1,className:"mx-auto max-w-screen-lg pt-4",children:s.jsxs(P,{children:[s.jsx(n,{submitter:!1,form:e,initialValues:j,onValuesChange:(o,r)=>{i(r)},children:s.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-3",children:[s.jsx(u,{label:"宽度",name:"width",fieldProps:{size:"large"}}),s.jsx(u,{label:"高度",name:"height",fieldProps:{size:"large"}}),s.jsx($,{label:"后缀名",name:"suffix",options:E,allowClear:!1,fieldProps:{size:"large"}}),s.jsx(n.Item,{label:"背景颜色",name:"bgColor",children:s.jsx(C,{children:o=>s.jsx(p,{size:"large",showText:!0,disabledAlpha:!0,className:"w-full justify-start",...b(o),onChange:r=>{e.setFieldValue("bgColor",r.toHexString())}})})}),s.jsx(n.Item,{label:"文本颜色",name:"textColor",children:s.jsx(C,{children:o=>s.jsx(p,{size:"large",showText:!0,disabledAlpha:!0,className:"w-full justify-start",...b(o),onChange:r=>{e.setFieldValue("textColor",r.toHexString())}})})}),s.jsx(I,{label:"文本",name:"text",allowClear:!1,fieldProps:{size:"large"}})]})}),s.jsx("div",{children:s.jsx(y,{...c})})]})})};export{V as Component};
//# sourceMappingURL=page-P28i8tQN.js.map
