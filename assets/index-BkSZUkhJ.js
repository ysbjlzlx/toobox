import{_ as w,u as _,a as S,b as U}from"./index-Zzt7kOGj.js";import{r as f}from"./antd-2qrym3SB.js";var V=function(u){return function(i,n){var r=f.useRef(!1);u(function(){return function(){r.current=!1}},[]),u(function(){if(!r.current)r.current=!0;else return i()},n)}};const I=V(f.useEffect);var b=!!(typeof window<"u"&&window.document&&window.document.createElement);function h(u){function i(n,r){r===void 0&&(r={});var t,c=r.onError,o=c===void 0?function(e){console.error(e)}:c;try{t=u()}catch(e){o(e)}var m=function(e){return r.serializer?r.serializer(e):JSON.stringify(e)},g=function(e){return r.deserializer?r.deserializer(e):JSON.parse(e)};function d(){try{var e=t==null?void 0:t.getItem(n);if(e)return g(e)}catch(a){o(a)}return S(r.defaultValue)?r.defaultValue():r.defaultValue}var s=w(f.useState(d),2),l=s[0],v=s[1];I(function(){v(d())},[n]);var z=function(e){var a=S(e)?e(l):e;if(v(a),U(a))t==null||t.removeItem(n);else try{t==null||t.setItem(n,m(a))}catch(E){console.error(E)}};return[l,_(z)]}return i}var F=h(function(){return b?localStorage:void 0});export{F as u};
//# sourceMappingURL=index-BkSZUkhJ.js.map
