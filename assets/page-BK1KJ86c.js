import{r as y}from"./pro-components-D4VvMrwW.js";import{P as V}from"./index-CnZGZKCS.js";import{r as A,aI as W,ac as q,U as G,S as J,B as C}from"./antd-DeG7bo76.js";import{T as K}from"./TextResultBox-C1D-ye1r.js";import"./jsoneditor-B3PGnrMj.js";import"./index-DdNLxTL1.js";/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function B(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function $(...n){const e=o=>o,r=(o,s)=>l=>o(s(l)),a=n.map(o=>o.encode).reduceRight(r,e),i=n.map(o=>o.decode).reduce(r,e);return{encode:a,decode:i}}function j(n){return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(r=>{if(r<0||r>=n.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${n.length})`);return n[r]})},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(r=>{if(typeof r!="string")throw new Error(`alphabet.decode: not string element=${r}`);const a=n.indexOf(r);if(a===-1)throw new Error(`Unknown letter: "${r}". Allowed: ${n}`);return a})}}}function R(n=""){if(typeof n!="string")throw new Error("join separator should be string");return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("join.encode input should be array of strings");for(let r of e)if(typeof r!="string")throw new Error(`join.encode: non-string input=${r}`);return e.join(n)},decode:e=>{if(typeof e!="string")throw new Error("join.decode input should be string");return e.split(n)}}}function N(n,e="="){if(typeof e!="string")throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&typeof r[0]!="string")throw new Error("padding.encode input should be array of strings");for(let a of r)if(typeof a!="string")throw new Error(`padding.encode: non-string input=${a}`);for(;r.length*n%8;)r.push(e);return r},decode(r){if(!Array.isArray(r)||r.length&&typeof r[0]!="string")throw new Error("padding.encode input should be array of strings");for(let i of r)if(typeof i!="string")throw new Error(`padding.decode: non-string input=${i}`);let a=r.length;if(a*n%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;a>0&&r[a-1]===e;a--)if(!((a-1)*n%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,a)}}}function T(n,e,r){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(n))throw new Error("convertRadix: data should be array");if(!n.length)return[];let a=0;const i=[],o=Array.from(n);for(o.forEach(s=>{if(s<0||s>=e)throw new Error(`Wrong integer: ${s}`)});;){let s=0,l=!0;for(let w=a;w<o.length;w++){const t=o[w],c=e*s+t;if(!Number.isSafeInteger(c)||e*s/e!==s||c-t!==e*s)throw new Error("convertRadix: carry overflow");s=c%r;const d=Math.floor(c/r);if(o[w]=d,!Number.isSafeInteger(d)||d*r+s!==c)throw new Error("convertRadix: carry overflow");if(l)d?l=!1:a=w;else continue}if(i.push(s),l)break}for(let s=0;s<n.length-1&&n[s]===0;s++)i.push(0);return i.reverse()}const z=(n,e)=>e?z(e,n%e):n,m=(n,e)=>n+(e-z(n,e));function S(n,e,r,a){if(!Array.isArray(n))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(m(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${m(e,r)}`);let i=0,o=0;const s=2**r-1,l=[];for(const w of n){if(w>=2**e)throw new Error(`convertRadix2: invalid data word=${w} from=${e}`);if(i=i<<e|w,o+e>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${e}`);for(o+=e;o>=r;o-=r)l.push((i>>o-r&s)>>>0);i&=2**o-1}if(i=i<<r-o&s,!a&&o>=e)throw new Error("Excess padding");if(!a&&i)throw new Error(`Non-zero padding: ${i}`);return a&&o>0&&l.push(i>>>0),l}function Q(n){return{encode:e=>{if(!B(e))throw new Error("radix.encode input should be Uint8Array");return T(Array.from(e),2**8,n)},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(T(e,n,2**8))}}}function U(n,e=!1){if(n<=0||n>32)throw new Error("radix2: bits should be in (0..32]");if(m(8,n)>32||m(n,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!B(r))throw new Error("radix2.encode input should be Uint8Array");return S(Array.from(r),8,n,!e)},decode:r=>{if(!Array.isArray(r)||r.length&&typeof r[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(S(r,n,8,e))}}}const k=$(U(4),j("0123456789ABCDEF"),R("")),D=$(U(5),j("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),N(5),R("")),M=$(U(6),j("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),N(6),R("")),X=n=>$(Q(58),j(n),R("")),I=X("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function O(n){if(n.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let t=0;t<e.length;t++)e[t]=255;for(let t=0;t<n.length;t++){const c=n.charAt(t),d=c.charCodeAt(0);if(e[d]!==255)throw new TypeError(c+" is ambiguous");e[d]=t}const r=n.length,a=n.charAt(0),i=Math.log(r)/Math.log(256),o=Math.log(256)/Math.log(r);function s(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length===0)return"";let c=0,d=0,f=0;const g=t.length;for(;f!==g&&t[f]===0;)f++,c++;const b=(g-f)*o+1>>>0,u=new Uint8Array(b);for(;f!==g;){let h=t[f],E=0;for(let x=b-1;(h!==0||E<d)&&x!==-1;x--,E++)h+=256*u[x]>>>0,u[x]=h%r>>>0,h=h/r>>>0;if(h!==0)throw new Error("Non-zero carry");d=E,f++}let p=b-d;for(;p!==b&&u[p]===0;)p++;let v=a.repeat(c);for(;p<b;++p)v+=n.charAt(u[p]);return v}function l(t){if(typeof t!="string")throw new TypeError("Expected String");if(t.length===0)return new Uint8Array;let c=0,d=0,f=0;for(;t[c]===a;)d++,c++;const g=(t.length-c)*i+1>>>0,b=new Uint8Array(g);for(;t[c];){let h=e[t.charCodeAt(c)];if(h===255)return;let E=0;for(let x=g-1;(h!==0||E<f)&&x!==-1;x--,E++)h+=r*b[x]>>>0,b[x]=h%256>>>0,h=h/256>>>0;if(h!==0)throw new Error("Non-zero carry");f=E,c++}let u=g-f;for(;u!==g&&b[u]===0;)u++;const p=new Uint8Array(d+(g-u));let v=d;for(;u!==g;)p[v++]=b[u++];return p}function w(t){const c=l(t);if(c)return c;throw new Error("Non-base"+r+" character")}return{encode:s,decodeUnsafe:l,decode:w}}const F={"base-36":"0123456789abcdefghijklmnopqrstuvwxyz"},Y=(n,e)=>{switch(n){case"base-16":return k.encode(new TextEncoder().encode(e));case"base-32":return D.encode(new TextEncoder().encode(e));case"base-58":return I.encode(new TextEncoder().encode(e));case"base-64":return M.encode(new TextEncoder().encode(e))}const r=F[n];return O(r).encode(new TextEncoder().encode(e))},Z=(n,e)=>{switch(n){case"base-16":return new TextDecoder().decode(k.decode(e));case"base-32":return new TextDecoder().decode(D.decode(e));case"base-58":return new TextDecoder().decode(I.decode(e));case"base-64":return new TextDecoder().decode(M.decode(e))}const r=F[n];return new TextDecoder().decode(O(r).decode(e))},ne=()=>{const[n,e]=A.useState("base-64"),[r,a]=A.useState(""),[i,o]=A.useState(""),s=[{label:"Base16",value:"base-16"},{label:"Base32",value:"base-32",disabled:!1},{label:"Base36",value:"base-36",disabled:!1},{label:"Base58",value:"base-58",disabled:!1},{label:"Base64",value:"base-64"}],l=A.useCallback(()=>{const t=Y(n,r);o(t)},[n,r]),w=A.useCallback(()=>{const t=Z(n,r);o(t)},[n,r]);return y.jsx(V,{className:"mx-auto max-w-screen-md pt-4",children:y.jsxs(W,{children:[y.jsx(q,{block:!0,value:n,options:s,onChange:t=>{e(t)}}),y.jsx("div",{className:"mt-4",children:y.jsx(G.TextArea,{value:r,onChange:t=>{a(t.target.value)},placeholder:"文本",autoSize:{minRows:5,maxRows:10},showCount:!0})}),y.jsx("div",{className:"mt-4",children:y.jsxs(J.Compact,{children:[y.jsx(C,{onClick:l,children:"编码"}),y.jsx(C,{onClick:w,children:"解码"})]})}),y.jsx("div",{className:"mt-4",children:y.jsx(K,{title:"结果",text:i})})]})})};export{ne as Component};
