{"version":3,"file":"static/js/5282.3577cbb4.chunk.js","mappings":"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","sources":["utils/validator.ts","app/timestamp/page.tsx"],"sourcesContent":["import dayjs from 'dayjs';\nimport * as JOI from 'joi';\n\nexport const isUnixSecond = (num: string | number): boolean => {\n  const scheme = JOI.string()\n    .pattern(/^[0-9]{10}$/)\n    .required();\n  try {\n    JOI.assert(num, scheme);\n    return true;\n  } catch (e) {\n    return false;\n  }\n};\n\nexport const isMillisecond = (num: string | number): boolean => {\n  const scheme = JOI.string()\n    .pattern(/^[0-9]{13}$/)\n    .required();\n  try {\n    JOI.assert(num, scheme);\n    return true;\n  } catch (e) {\n    return false;\n  }\n};\n\nexport const isNumber = (num: string | number): boolean => {\n  const scheme = JOI.string()\n    .pattern(/^[0-9]+$/)\n    .required();\n  try {\n    JOI.assert(num, scheme);\n    return true;\n  } catch (e) {\n    return false;\n  }\n};\n\nexport const isDateStr = (str: string, format: string): boolean => {\n  return dayjs(str, format, true).isValid();\n};\n","import { ReloadOutlined } from '@ant-design/icons';\nimport { ProForm, ProFormText } from '@ant-design/pro-components';\nimport { Box, Container } from '@mui/material';\nimport { Button, Form, Input, Space } from 'antd';\nimport dayjs from 'dayjs';\nimport { ChangeEvent, useEffect, useState } from 'react';\n\nimport { isDateStr, isMillisecond, isNumber, isUnixSecond } from '../../utils/validator';\n\nimport 'dayjs/locale/zh-cn';\n\ninterface Current {\n  second: number;\n  millisecond: number;\n  date: string;\n  dateWithMillisecond: string;\n}\n\nconst Page = () => {\n  const [form] = Form.useForm();\n  const [input, setInput] = useState<string>(dayjs().format('YYYY-MM-DD HH:mm:ss'));\n\n  const inputOnChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setInput(e.target.value);\n  };\n\n  const refreshInputDate = () => {\n    setInput(dayjs().format('YYYY-MM-DD HH:mm:ss'));\n  };\n\n  useEffect(() => {\n    let instance = dayjs();\n    if (isUnixSecond(input)) {\n      const second = Number.parseInt(input, 10);\n      instance = dayjs.unix(second);\n    } else if (isMillisecond(input)) {\n      const millisecond = Number.parseInt(input, 10);\n      instance = dayjs(millisecond);\n    } else if (isNumber(input)) {\n      const second = Number.parseInt(input, 10);\n      instance = dayjs.unix(second);\n    } else if (isDateStr(input, 'YYYY-MM-DD HH:mm:ss')) {\n      instance = dayjs(input, 'YYYY-MM-DD HH:mm:ss');\n    } else if (isDateStr(input, 'YYYY-MM-DD')) {\n      instance = dayjs(input, 'YYYY-MM-DD 00:00:00');\n    }\n    form.setFieldValue('second', instance.unix());\n    form.setFieldValue('millisecond', instance.valueOf());\n    form.setFieldValue('date', instance.format('YYYY-MM-DD HH:mm:ss'));\n    form.setFieldValue('dateWithMillisecond', instance.format('YYYY-MM-DD HH:mm:ss.SSS'));\n  }, [input, form]);\n\n  return (\n    <Container sx={{ pt: 2 }}>\n      <Box sx={{ mb: 3 }}>\n        <Space.Compact style={{ width: '100%' }}>\n          <Input\n            value={input}\n            onChange={inputOnChange}\n            placeholder=\"请输入 10 位数字（秒）、13 位数字（毫秒）或者 YYYY-MM-DD HH:mm:ss 格式字符串\"\n            showCount\n          />\n          <Button icon={<ReloadOutlined />} onClick={refreshInputDate} />\n        </Space.Compact>\n      </Box>\n      <ProForm form={form} grid={true} submitter={false}>\n        <ProFormText name=\"date\" label=\"日期时间\" colProps={{ span: 12 }} allowClear={false} />\n        <ProFormText name=\"dateWithMillisecond\" label=\"日期时间（毫秒）\" colProps={{ span: 12 }} allowClear={false} />\n        <ProFormText name=\"second\" label=\"时间戳（秒）\" colProps={{ span: 12 }} allowClear={false} />\n        <ProFormText name=\"millisecond\" label=\"时间戳（毫秒）\" colProps={{ span: 12 }} allowClear={false} />\n      </ProForm>\n    </Container>\n  );\n};\n\nexport default Page;\n"],"names":["isDateStr","str","format","dayjs","isValid","_Form$useForm","Form","form","_slicedToArray","_useState","useState","_useState2","input","setInput","useEffect","instance","num","scheme","JOI","pattern","required","e","isUnixSecond","second","Number","parseInt","isMillisecond","millisecond","isNumber","setFieldValue","unix","valueOf","_jsxs","Container","sx","pt","children","_jsx","Box","mb","Space","style","width","Input","value","onChange","target","placeholder","showCount","Button","icon","ReloadOutlined","onClick","ProForm","grid","submitter","ProFormText","name","label","colProps","span","allowClear"],"sourceRoot":""}