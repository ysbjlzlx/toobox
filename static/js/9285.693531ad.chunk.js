"use strict";(self.webpackChunktoolbox=self.webpackChunktoolbox||[]).push([[9285],{9285:function(n,t,e){e.r(t),e.d(t,{default:function(){return g}});var o=e(93433),r=e(29439),u=e(95058),c=e(763),a=e.n(c),i=e(72791),s=e(65847),f=e(21085),d=(0,s.Ue)()((0,f.tJ)((function(n,t){return{jsonTabs:["0"],activeKey:"0",addJsonTab:function(e){return n((function(){return{jsonTabs:a().concat(t().jsonTabs,e)}}))},removeJsonTab:function(e){return n((function(){return{jsonTabs:a().without(t().jsonTabs,e)}}))},setActiveKey:function(t){return n((function(){return{activeKey:t}}))}}}),{name:"json-tab-store",storage:(0,f.FL)((function(){return localStorage}))})),l=e(1413),v=e(74685),b=e(902),h=e(64554),m=e(7684),p=e(80184),x=function(n){var t=(0,i.useRef)(),e=(0,i.useRef)();return(0,i.useEffect)((function(){var n={target:t.current,props:{}};return e.current=new b.q9(n),function(){e.current&&(e.current.destroy(),e.current=void 0)}}),[]),(0,i.useEffect)((function(){var t;e.current&&(null===(t=e.current)||void 0===t||t.updateProps((0,l.Z)((0,l.Z)({},n),{},{parser:m})))}),[n]),(0,p.jsx)(h.Z,{ref:t,height:"100%"})},j=function(n){var t=(null===n||void 0===n?void 0:n.idx)||"0",e=(0,v.Z)("json-".concat(t),{defaultValue:{mode:"text",content:{text:""}}}),o=(0,r.Z)(e,2),u=o[0],c=o[1];return(0,p.jsx)(x,{mode:void 0===u||null===u?b.AR.text:u.mode,content:u.content,onChange:function(n){c((function(t){return(0,l.Z)((0,l.Z)({},t),{},{content:n})}))},onChangeMode:function(n){c((function(t){return(0,l.Z)((0,l.Z)({},t),{},{mode:n})}))}})},g=function(){var n=d(),t=n.jsonTabs,e=n.activeKey,c=n.addJsonTab,s=n.removeJsonTab,f=n.setActiveKey,l=(0,i.useState)([]),v=(0,r.Z)(l,2),b=v[0],h=v[1];(0,i.useEffect)((function(){var n=t.map((function(n,t){return{key:n,label:"JSON Editor - "+n,closable:!0,children:(0,p.jsx)(j,{idx:n}),style:{height:"calc(100vh - 56px)"}}}));if(-1===a().indexOf(t,e)){var o=a().last(n);f((null===o||void 0===o?void 0:o.key)||"0")}h(n)}),[t,e,f]);var m=function(){var n="0";if(t&&t.length>0){var e=t.map((function(n){return Number(n)})),r=Math.max.apply(Math,(0,o.Z)(e));n="".concat(r+1)}c(n),f(n)},x=function(n){s(String(n)),localStorage.removeItem("json-".concat(n)),t&&t.length<=1&&c("0")};return(0,p.jsx)(u.Z,{type:"editable-card",onChange:function(n){f(n)},activeKey:e,onEdit:function(n,t){"add"===t?m():x(n)},items:b})}}}]);
//# sourceMappingURL=9285.693531ad.chunk.js.map