{"version":3,"file":"static/js/873.c905d3c6.chunk.js","mappings":"qOAIe,SAASA,IACtB,OAAwBC,EAAAA,EAAAA,UAAiB,IAAG,eAArCC,EAAI,KAAEC,EAAO,KACdC,GAAkBC,EAAAA,EAAAA,QAA0B,MAC5CC,GAAeD,EAAAA,EAAAA,QAAuB,MAEtCE,GAAUC,EAAAA,EAAAA,UAAQ,WACtB,MAAO,CAAEC,MAAO,IAClB,GAAG,IAYH,OAXAC,EAAAA,EAAAA,kBAAgB,WAAO,IAAD,EACpBH,EAAQE,OAA4B,QAApB,EAAAH,EAAaK,eAAO,aAApB,EAAsBC,cAAe,GACvD,GAAG,CAACL,KAEJM,EAAAA,EAAAA,YAAU,WACHX,GAAiB,KAATA,GAGbY,EAAAA,SAAgBV,EAAgBO,QAAST,EAAMK,EACjD,GAAG,CAACL,EAAMK,KAGR,SAAC,IAAS,CAACQ,GAAI,CAAEC,GAAI,GAAI,UACvB,UAAC,KAAI,CAACC,WAAS,EAACC,QAAS,EAAE,WACzB,SAAC,KAAI,CAACC,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAE,UACvB,SAAC,IAAS,CACRC,MAAM,eACNC,MAAOrB,EACPsB,SAAU,SAACC,GACTtB,EAAQsB,EAAMC,OAAOH,MACvB,EACAI,KAAM,EACNC,WAAS,EACTC,WAAS,OAGb,SAAC,KAAI,CAACV,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGS,IAAKxB,EAAa,UAC1C,mBAAQwB,IAAK1B,UAKvB,C","sources":["pages/QrCode.tsx"],"sourcesContent":["import { Container, Grid, TextField } from '@mui/material';\nimport QRCode from 'qrcode';\nimport { ReactElement, useEffect, useLayoutEffect, useMemo, useRef, useState } from 'react';\n\nexport default function QrCode(): ReactElement {\n  const [text, setText] = useState<string>('');\n  const qrcodeContainer = useRef<HTMLCanvasElement>(null);\n  const divContainer = useRef<HTMLDivElement>(null);\n\n  const options = useMemo(() => {\n    return { width: 128 };\n  }, []);\n  useLayoutEffect(() => {\n    options.width = divContainer.current?.offsetWidth || 128;\n  }, [options]);\n\n  useEffect(() => {\n    if (!text || text === '') {\n      return;\n    }\n    QRCode.toCanvas(qrcodeContainer.current, text, options);\n  }, [text, options]);\n\n  return (\n    <Container sx={{ mt: 5 }}>\n      <Grid container spacing={2}>\n        <Grid item xs={12} md={9}>\n          <TextField\n            label=\"文本\"\n            value={text}\n            onChange={(event) => {\n              setText(event.target.value);\n            }}\n            rows={9}\n            multiline\n            fullWidth\n          />\n        </Grid>\n        <Grid item xs={12} md={3} ref={divContainer}>\n          <canvas ref={qrcodeContainer} />\n        </Grid>\n      </Grid>\n    </Container>\n  );\n}\n"],"names":["QrCode","useState","text","setText","qrcodeContainer","useRef","divContainer","options","useMemo","width","useLayoutEffect","current","offsetWidth","useEffect","QRCode","sx","mt","container","spacing","item","xs","md","label","value","onChange","event","target","rows","multiline","fullWidth","ref"],"sourceRoot":""}