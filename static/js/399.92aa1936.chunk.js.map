{"version":3,"file":"static/js/399.92aa1936.chunk.js","mappings":"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EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,IAAK,GAAI,IAAK,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,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","sources":["../node_modules/diff-match-patch/index.js","../node_modules/lodash.get/index.js","../node_modules/lodash.isequal/index.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/index.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/react-ace/src/ace.tsx","../node_modules/react-ace/src/diff.tsx","../node_modules/react-ace/src/editorOptions.ts","../node_modules/react-ace/src/index.ts","../node_modules/react-ace/src/split.tsx","../node_modules/react-ace/node_modules/ace-builds/src-noconflict/ace.js","../node_modules/react-ace/node_modules/ace-builds/src-noconflict/ext-split.js"],"sourcesContent":["/**\n * Diff Match and Patch\n * Copyright 2018 The diff-match-patch Authors.\n * https://github.com/google/diff-match-patch\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Computes the difference between two texts to create a patch.\n * Applies the patch onto another text, allowing for errors.\n * @author fraser@google.com (Neil Fraser)\n */\n\n/**\n * Class containing the diff, match and patch methods.\n * @constructor\n */\nvar diff_match_patch = function() {\n\n  // Defaults.\n  // Redefine these in your program to override the defaults.\n\n  // Number of seconds to map a diff before giving up (0 for infinity).\n  this.Diff_Timeout = 1.0;\n  // Cost of an empty edit operation in terms of edit characters.\n  this.Diff_EditCost = 4;\n  // At what point is no match declared (0.0 = perfection, 1.0 = very loose).\n  this.Match_Threshold = 0.5;\n  // How far to search for a match (0 = exact location, 1000+ = broad match).\n  // A match this many characters away from the expected location will add\n  // 1.0 to the score (0.0 is a perfect match).\n  this.Match_Distance = 1000;\n  // When deleting a large block of text (over ~64 characters), how close do\n  // the contents have to be to match the expected contents. (0.0 = perfection,\n  // 1.0 = very loose).  Note that Match_Threshold controls how closely the\n  // end points of a delete need to match.\n  this.Patch_DeleteThreshold = 0.5;\n  // Chunk size for context length.\n  this.Patch_Margin = 4;\n\n  // The number of bits in an int.\n  this.Match_MaxBits = 32;\n};\n\n\n//  DIFF FUNCTIONS\n\n\n/**\n * The data structure representing a diff is an array of tuples:\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n */\nvar DIFF_DELETE = -1;\nvar DIFF_INSERT = 1;\nvar DIFF_EQUAL = 0;\n\n/**\n * Class representing one diff tuple.\n * ~Attempts to look like a two-element array (which is what this used to be).~\n * Constructor returns an actual two-element array, to allow destructing @JackuB\n * See https://github.com/JackuB/diff-match-patch/issues/14 for details\n * @param {number} op Operation, one of: DIFF_DELETE, DIFF_INSERT, DIFF_EQUAL.\n * @param {string} text Text to be deleted, inserted, or retained.\n * @constructor\n */\ndiff_match_patch.Diff = function(op, text) {\n  return [op, text];\n};\n\n/**\n * Find the differences between two texts.  Simplifies the problem by stripping\n * any common prefix or suffix off the texts before diffing.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {boolean=} opt_checklines Optional speedup flag. If present and false,\n *     then don't run a line-level diff first to identify the changed areas.\n *     Defaults to true, which does a faster, slightly less optimal diff.\n * @param {number=} opt_deadline Optional time when the diff should be complete\n *     by.  Used internally for recursive calls.  Users should set DiffTimeout\n *     instead.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_main = function(text1, text2, opt_checklines,\n    opt_deadline) {\n  // Set a deadline by which time the diff must be complete.\n  if (typeof opt_deadline == 'undefined') {\n    if (this.Diff_Timeout <= 0) {\n      opt_deadline = Number.MAX_VALUE;\n    } else {\n      opt_deadline = (new Date).getTime() + this.Diff_Timeout * 1000;\n    }\n  }\n  var deadline = opt_deadline;\n\n  // Check for null inputs.\n  if (text1 == null || text2 == null) {\n    throw new Error('Null input. (diff_main)');\n  }\n\n  // Check for equality (speedup).\n  if (text1 == text2) {\n    if (text1) {\n      return [new diff_match_patch.Diff(DIFF_EQUAL, text1)];\n    }\n    return [];\n  }\n\n  if (typeof opt_checklines == 'undefined') {\n    opt_checklines = true;\n  }\n  var checklines = opt_checklines;\n\n  // Trim off common prefix (speedup).\n  var commonlength = this.diff_commonPrefix(text1, text2);\n  var commonprefix = text1.substring(0, commonlength);\n  text1 = text1.substring(commonlength);\n  text2 = text2.substring(commonlength);\n\n  // Trim off common suffix (speedup).\n  commonlength = this.diff_commonSuffix(text1, text2);\n  var commonsuffix = text1.substring(text1.length - commonlength);\n  text1 = text1.substring(0, text1.length - commonlength);\n  text2 = text2.substring(0, text2.length - commonlength);\n\n  // Compute the diff on the middle block.\n  var diffs = this.diff_compute_(text1, text2, checklines, deadline);\n\n  // Restore the prefix and suffix.\n  if (commonprefix) {\n    diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, commonprefix));\n  }\n  if (commonsuffix) {\n    diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, commonsuffix));\n  }\n  this.diff_cleanupMerge(diffs);\n  return diffs;\n};\n\n\n/**\n * Find the differences between two texts.  Assumes that the texts do not\n * have any common prefix or suffix.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {boolean} checklines Speedup flag.  If false, then don't run a\n *     line-level diff first to identify the changed areas.\n *     If true, then run a faster, slightly less optimal diff.\n * @param {number} deadline Time when the diff should be complete by.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_compute_ = function(text1, text2, checklines,\n    deadline) {\n  var diffs;\n\n  if (!text1) {\n    // Just add some text (speedup).\n    return [new diff_match_patch.Diff(DIFF_INSERT, text2)];\n  }\n\n  if (!text2) {\n    // Just delete some text (speedup).\n    return [new diff_match_patch.Diff(DIFF_DELETE, text1)];\n  }\n\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  var i = longtext.indexOf(shorttext);\n  if (i != -1) {\n    // Shorter text is inside the longer text (speedup).\n    diffs = [new diff_match_patch.Diff(DIFF_INSERT, longtext.substring(0, i)),\n             new diff_match_patch.Diff(DIFF_EQUAL, shorttext),\n             new diff_match_patch.Diff(DIFF_INSERT,\n                 longtext.substring(i + shorttext.length))];\n    // Swap insertions for deletions if diff is reversed.\n    if (text1.length > text2.length) {\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\n    }\n    return diffs;\n  }\n\n  if (shorttext.length == 1) {\n    // Single character string.\n    // After the previous speedup, the character can't be an equality.\n    return [new diff_match_patch.Diff(DIFF_DELETE, text1),\n            new diff_match_patch.Diff(DIFF_INSERT, text2)];\n  }\n\n  // Check to see if the problem can be split in two.\n  var hm = this.diff_halfMatch_(text1, text2);\n  if (hm) {\n    // A half-match was found, sort out the return data.\n    var text1_a = hm[0];\n    var text1_b = hm[1];\n    var text2_a = hm[2];\n    var text2_b = hm[3];\n    var mid_common = hm[4];\n    // Send both pairs off for separate processing.\n    var diffs_a = this.diff_main(text1_a, text2_a, checklines, deadline);\n    var diffs_b = this.diff_main(text1_b, text2_b, checklines, deadline);\n    // Merge the results.\n    return diffs_a.concat([new diff_match_patch.Diff(DIFF_EQUAL, mid_common)],\n                          diffs_b);\n  }\n\n  if (checklines && text1.length > 100 && text2.length > 100) {\n    return this.diff_lineMode_(text1, text2, deadline);\n  }\n\n  return this.diff_bisect_(text1, text2, deadline);\n};\n\n\n/**\n * Do a quick line-level diff on both strings, then rediff the parts for\n * greater accuracy.\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} deadline Time when the diff should be complete by.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_lineMode_ = function(text1, text2, deadline) {\n  // Scan the text on a line-by-line basis first.\n  var a = this.diff_linesToChars_(text1, text2);\n  text1 = a.chars1;\n  text2 = a.chars2;\n  var linearray = a.lineArray;\n\n  var diffs = this.diff_main(text1, text2, false, deadline);\n\n  // Convert the diff back to original text.\n  this.diff_charsToLines_(diffs, linearray);\n  // Eliminate freak matches (e.g. blank lines)\n  this.diff_cleanupSemantic(diffs);\n\n  // Rediff any replacement blocks, this time character-by-character.\n  // Add a dummy entry at the end.\n  diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ''));\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete >= 1 && count_insert >= 1) {\n          // Delete the offending records and add the merged ones.\n          diffs.splice(pointer - count_delete - count_insert,\n                       count_delete + count_insert);\n          pointer = pointer - count_delete - count_insert;\n          var subDiff =\n              this.diff_main(text_delete, text_insert, false, deadline);\n          for (var j = subDiff.length - 1; j >= 0; j--) {\n            diffs.splice(pointer, 0, subDiff[j]);\n          }\n          pointer = pointer + subDiff.length;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n    pointer++;\n  }\n  diffs.pop();  // Remove the dummy entry at the end.\n\n  return diffs;\n};\n\n\n/**\n * Find the 'middle snake' of a diff, split the problem in two\n * and return the recursively constructed diff.\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} deadline Time at which to bail if not yet complete.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_bisect_ = function(text1, text2, deadline) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\n  var v_offset = max_d;\n  var v_length = 2 * max_d;\n  var v1 = new Array(v_length);\n  var v2 = new Array(v_length);\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n  // integers and undefined.\n  for (var x = 0; x < v_length; x++) {\n    v1[x] = -1;\n    v2[x] = -1;\n  }\n  v1[v_offset + 1] = 0;\n  v2[v_offset + 1] = 0;\n  var delta = text1_length - text2_length;\n  // If the total number of characters is odd, then the front path will collide\n  // with the reverse path.\n  var front = (delta % 2 != 0);\n  // Offsets for start and end of k loop.\n  // Prevents mapping of space beyond the grid.\n  var k1start = 0;\n  var k1end = 0;\n  var k2start = 0;\n  var k2end = 0;\n  for (var d = 0; d < max_d; d++) {\n    // Bail out if deadline is reached.\n    if ((new Date()).getTime() > deadline) {\n      break;\n    }\n\n    // Walk the front path one step.\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n      var k1_offset = v_offset + k1;\n      var x1;\n      if (k1 == -d || (k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1])) {\n        x1 = v1[k1_offset + 1];\n      } else {\n        x1 = v1[k1_offset - 1] + 1;\n      }\n      var y1 = x1 - k1;\n      while (x1 < text1_length && y1 < text2_length &&\n             text1.charAt(x1) == text2.charAt(y1)) {\n        x1++;\n        y1++;\n      }\n      v1[k1_offset] = x1;\n      if (x1 > text1_length) {\n        // Ran off the right of the graph.\n        k1end += 2;\n      } else if (y1 > text2_length) {\n        // Ran off the bottom of the graph.\n        k1start += 2;\n      } else if (front) {\n        var k2_offset = v_offset + delta - k1;\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\n          // Mirror x2 onto top-left coordinate system.\n          var x2 = text1_length - v2[k2_offset];\n          if (x1 >= x2) {\n            // Overlap detected.\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    }\n\n    // Walk the reverse path one step.\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n      var k2_offset = v_offset + k2;\n      var x2;\n      if (k2 == -d || (k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1])) {\n        x2 = v2[k2_offset + 1];\n      } else {\n        x2 = v2[k2_offset - 1] + 1;\n      }\n      var y2 = x2 - k2;\n      while (x2 < text1_length && y2 < text2_length &&\n             text1.charAt(text1_length - x2 - 1) ==\n             text2.charAt(text2_length - y2 - 1)) {\n        x2++;\n        y2++;\n      }\n      v2[k2_offset] = x2;\n      if (x2 > text1_length) {\n        // Ran off the left of the graph.\n        k2end += 2;\n      } else if (y2 > text2_length) {\n        // Ran off the top of the graph.\n        k2start += 2;\n      } else if (!front) {\n        var k1_offset = v_offset + delta - k2;\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\n          var x1 = v1[k1_offset];\n          var y1 = v_offset + x1 - k1_offset;\n          // Mirror x2 onto top-left coordinate system.\n          x2 = text1_length - x2;\n          if (x1 >= x2) {\n            // Overlap detected.\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    }\n  }\n  // Diff took too long and hit the deadline or\n  // number of diffs equals number of characters, no commonality at all.\n  return [new diff_match_patch.Diff(DIFF_DELETE, text1),\n          new diff_match_patch.Diff(DIFF_INSERT, text2)];\n};\n\n\n/**\n * Given the location of the 'middle snake', split the diff in two parts\n * and recurse.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} x Index of split point in text1.\n * @param {number} y Index of split point in text2.\n * @param {number} deadline Time at which to bail if not yet complete.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_bisectSplit_ = function(text1, text2, x, y,\n    deadline) {\n  var text1a = text1.substring(0, x);\n  var text2a = text2.substring(0, y);\n  var text1b = text1.substring(x);\n  var text2b = text2.substring(y);\n\n  // Compute both diffs serially.\n  var diffs = this.diff_main(text1a, text2a, false, deadline);\n  var diffsb = this.diff_main(text1b, text2b, false, deadline);\n\n  return diffs.concat(diffsb);\n};\n\n\n/**\n * Split two texts into an array of strings.  Reduce the texts to a string of\n * hashes where each Unicode character represents one line.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {{chars1: string, chars2: string, lineArray: !Array.<string>}}\n *     An object containing the encoded text1, the encoded text2 and\n *     the array of unique strings.\n *     The zeroth element of the array of unique strings is intentionally blank.\n * @private\n */\ndiff_match_patch.prototype.diff_linesToChars_ = function(text1, text2) {\n  var lineArray = [];  // e.g. lineArray[4] == 'Hello\\n'\n  var lineHash = {};   // e.g. lineHash['Hello\\n'] == 4\n\n  // '\\x00' is a valid character, but various debuggers don't like it.\n  // So we'll insert a junk entry to avoid generating a null character.\n  lineArray[0] = '';\n\n  /**\n   * Split a text into an array of strings.  Reduce the texts to a string of\n   * hashes where each Unicode character represents one line.\n   * Modifies linearray and linehash through being a closure.\n   * @param {string} text String to encode.\n   * @return {string} Encoded string.\n   * @private\n   */\n  function diff_linesToCharsMunge_(text) {\n    var chars = '';\n    // Walk the text, pulling out a substring for each line.\n    // text.split('\\n') would would temporarily double our memory footprint.\n    // Modifying text would create many large strings to garbage collect.\n    var lineStart = 0;\n    var lineEnd = -1;\n    // Keeping our own length variable is faster than looking it up.\n    var lineArrayLength = lineArray.length;\n    while (lineEnd < text.length - 1) {\n      lineEnd = text.indexOf('\\n', lineStart);\n      if (lineEnd == -1) {\n        lineEnd = text.length - 1;\n      }\n      var line = text.substring(lineStart, lineEnd + 1);\n\n      if (lineHash.hasOwnProperty ? lineHash.hasOwnProperty(line) :\n          (lineHash[line] !== undefined)) {\n        chars += String.fromCharCode(lineHash[line]);\n      } else {\n        if (lineArrayLength == maxLines) {\n          // Bail out at 65535 because\n          // String.fromCharCode(65536) == String.fromCharCode(0)\n          line = text.substring(lineStart);\n          lineEnd = text.length;\n        }\n        chars += String.fromCharCode(lineArrayLength);\n        lineHash[line] = lineArrayLength;\n        lineArray[lineArrayLength++] = line;\n      }\n      lineStart = lineEnd + 1;\n    }\n    return chars;\n  }\n  // Allocate 2/3rds of the space for text1, the rest for text2.\n  var maxLines = 40000;\n  var chars1 = diff_linesToCharsMunge_(text1);\n  maxLines = 65535;\n  var chars2 = diff_linesToCharsMunge_(text2);\n  return {chars1: chars1, chars2: chars2, lineArray: lineArray};\n};\n\n\n/**\n * Rehydrate the text in a diff from a string of line hashes to real lines of\n * text.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @param {!Array.<string>} lineArray Array of unique strings.\n * @private\n */\ndiff_match_patch.prototype.diff_charsToLines_ = function(diffs, lineArray) {\n  for (var i = 0; i < diffs.length; i++) {\n    var chars = diffs[i][1];\n    var text = [];\n    for (var j = 0; j < chars.length; j++) {\n      text[j] = lineArray[chars.charCodeAt(j)];\n    }\n    diffs[i][1] = text.join('');\n  }\n};\n\n\n/**\n * Determine the common prefix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the start of each\n *     string.\n */\ndiff_match_patch.prototype.diff_commonPrefix = function(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: https://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerstart = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(pointerstart, pointermid) ==\n        text2.substring(pointerstart, pointermid)) {\n      pointermin = pointermid;\n      pointerstart = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Determine the common suffix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of each string.\n */\ndiff_match_patch.prototype.diff_commonSuffix = function(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 ||\n      text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: https://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerend = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(text1.length - pointermid, text1.length - pointerend) ==\n        text2.substring(text2.length - pointermid, text2.length - pointerend)) {\n      pointermin = pointermid;\n      pointerend = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Determine if the suffix of one string is the prefix of another.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of the first\n *     string and the start of the second string.\n * @private\n */\ndiff_match_patch.prototype.diff_commonOverlap_ = function(text1, text2) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  // Eliminate the null case.\n  if (text1_length == 0 || text2_length == 0) {\n    return 0;\n  }\n  // Truncate the longer string.\n  if (text1_length > text2_length) {\n    text1 = text1.substring(text1_length - text2_length);\n  } else if (text1_length < text2_length) {\n    text2 = text2.substring(0, text1_length);\n  }\n  var text_length = Math.min(text1_length, text2_length);\n  // Quick check for the worst case.\n  if (text1 == text2) {\n    return text_length;\n  }\n\n  // Start by looking for a single character match\n  // and increase length until no match is found.\n  // Performance analysis: https://neil.fraser.name/news/2010/11/04/\n  var best = 0;\n  var length = 1;\n  while (true) {\n    var pattern = text1.substring(text_length - length);\n    var found = text2.indexOf(pattern);\n    if (found == -1) {\n      return best;\n    }\n    length += found;\n    if (found == 0 || text1.substring(text_length - length) ==\n        text2.substring(0, length)) {\n      best = length;\n      length++;\n    }\n  }\n};\n\n\n/**\n * Do the two texts share a substring which is at least half the length of the\n * longer text?\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {Array.<string>} Five element Array, containing the prefix of\n *     text1, the suffix of text1, the prefix of text2, the suffix of\n *     text2 and the common middle.  Or null if there was no match.\n * @private\n */\ndiff_match_patch.prototype.diff_halfMatch_ = function(text1, text2) {\n  if (this.Diff_Timeout <= 0) {\n    // Don't risk returning a non-optimal diff if we have unlimited time.\n    return null;\n  }\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\n    return null;  // Pointless.\n  }\n  var dmp = this;  // 'this' becomes 'window' in a closure.\n\n  /**\n   * Does a substring of shorttext exist within longtext such that the substring\n   * is at least half the length of longtext?\n   * Closure, but does not reference any external variables.\n   * @param {string} longtext Longer string.\n   * @param {string} shorttext Shorter string.\n   * @param {number} i Start index of quarter length substring within longtext.\n   * @return {Array.<string>} Five element Array, containing the prefix of\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n   *     of shorttext and the common middle.  Or null if there was no match.\n   * @private\n   */\n  function diff_halfMatchI_(longtext, shorttext, i) {\n    // Start with a 1/4 length substring at position i as a seed.\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\n    var j = -1;\n    var best_common = '';\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\n    while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\n      var prefixLength = dmp.diff_commonPrefix(longtext.substring(i),\n                                               shorttext.substring(j));\n      var suffixLength = dmp.diff_commonSuffix(longtext.substring(0, i),\n                                               shorttext.substring(0, j));\n      if (best_common.length < suffixLength + prefixLength) {\n        best_common = shorttext.substring(j - suffixLength, j) +\n            shorttext.substring(j, j + prefixLength);\n        best_longtext_a = longtext.substring(0, i - suffixLength);\n        best_longtext_b = longtext.substring(i + prefixLength);\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\n        best_shorttext_b = shorttext.substring(j + prefixLength);\n      }\n    }\n    if (best_common.length * 2 >= longtext.length) {\n      return [best_longtext_a, best_longtext_b,\n              best_shorttext_a, best_shorttext_b, best_common];\n    } else {\n      return null;\n    }\n  }\n\n  // First check if the second quarter is the seed for a half-match.\n  var hm1 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 4));\n  // Check again based on the third quarter.\n  var hm2 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 2));\n  var hm;\n  if (!hm1 && !hm2) {\n    return null;\n  } else if (!hm2) {\n    hm = hm1;\n  } else if (!hm1) {\n    hm = hm2;\n  } else {\n    // Both matched.  Select the longest.\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\n  }\n\n  // A half-match was found, sort out the return data.\n  var text1_a, text1_b, text2_a, text2_b;\n  if (text1.length > text2.length) {\n    text1_a = hm[0];\n    text1_b = hm[1];\n    text2_a = hm[2];\n    text2_b = hm[3];\n  } else {\n    text2_a = hm[0];\n    text2_b = hm[1];\n    text1_a = hm[2];\n    text1_b = hm[3];\n  }\n  var mid_common = hm[4];\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\n};\n\n\n/**\n * Reduce the number of edits by eliminating semantically trivial equalities.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupSemantic = function(diffs) {\n  var changes = false;\n  var equalities = [];  // Stack of indices where equalities are found.\n  var equalitiesLength = 0;  // Keeping our own length var is faster in JS.\n  /** @type {?string} */\n  var lastEquality = null;\n  // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n  var pointer = 0;  // Index of current position.\n  // Number of characters that changed prior to the equality.\n  var length_insertions1 = 0;\n  var length_deletions1 = 0;\n  // Number of characters that changed after the equality.\n  var length_insertions2 = 0;\n  var length_deletions2 = 0;\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] == DIFF_EQUAL) {  // Equality found.\n      equalities[equalitiesLength++] = pointer;\n      length_insertions1 = length_insertions2;\n      length_deletions1 = length_deletions2;\n      length_insertions2 = 0;\n      length_deletions2 = 0;\n      lastEquality = diffs[pointer][1];\n    } else {  // An insertion or deletion.\n      if (diffs[pointer][0] == DIFF_INSERT) {\n        length_insertions2 += diffs[pointer][1].length;\n      } else {\n        length_deletions2 += diffs[pointer][1].length;\n      }\n      // Eliminate an equality that is smaller or equal to the edits on both\n      // sides of it.\n      if (lastEquality && (lastEquality.length <=\n          Math.max(length_insertions1, length_deletions1)) &&\n          (lastEquality.length <= Math.max(length_insertions2,\n                                           length_deletions2))) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0,\n                     new diff_match_patch.Diff(DIFF_DELETE, lastEquality));\n        // Change second copy to insert.\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\n        // Throw away the equality we just deleted.\n        equalitiesLength--;\n        // Throw away the previous equality (it needs to be reevaluated).\n        equalitiesLength--;\n        pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1;\n        length_insertions1 = 0;  // Reset the counters.\n        length_deletions1 = 0;\n        length_insertions2 = 0;\n        length_deletions2 = 0;\n        lastEquality = null;\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n\n  // Normalize the diff.\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n  this.diff_cleanupSemanticLossless(diffs);\n\n  // Find any overlaps between deletions and insertions.\n  // e.g: <del>abcxxx</del><ins>xxxdef</ins>\n  //   -> <del>abc</del>xxx<ins>def</ins>\n  // e.g: <del>xxxabc</del><ins>defxxx</ins>\n  //   -> <ins>def</ins>xxx<del>abc</del>\n  // Only extract an overlap if it is as big as the edit ahead or behind it.\n  pointer = 1;\n  while (pointer < diffs.length) {\n    if (diffs[pointer - 1][0] == DIFF_DELETE &&\n        diffs[pointer][0] == DIFF_INSERT) {\n      var deletion = diffs[pointer - 1][1];\n      var insertion = diffs[pointer][1];\n      var overlap_length1 = this.diff_commonOverlap_(deletion, insertion);\n      var overlap_length2 = this.diff_commonOverlap_(insertion, deletion);\n      if (overlap_length1 >= overlap_length2) {\n        if (overlap_length1 >= deletion.length / 2 ||\n            overlap_length1 >= insertion.length / 2) {\n          // Overlap found.  Insert an equality and trim the surrounding edits.\n          diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL,\n              insertion.substring(0, overlap_length1)));\n          diffs[pointer - 1][1] =\n              deletion.substring(0, deletion.length - overlap_length1);\n          diffs[pointer + 1][1] = insertion.substring(overlap_length1);\n          pointer++;\n        }\n      } else {\n        if (overlap_length2 >= deletion.length / 2 ||\n            overlap_length2 >= insertion.length / 2) {\n          // Reverse overlap found.\n          // Insert an equality and swap and trim the surrounding edits.\n          diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL,\n              deletion.substring(0, overlap_length2)));\n          diffs[pointer - 1][0] = DIFF_INSERT;\n          diffs[pointer - 1][1] =\n              insertion.substring(0, insertion.length - overlap_length2);\n          diffs[pointer + 1][0] = DIFF_DELETE;\n          diffs[pointer + 1][1] =\n              deletion.substring(overlap_length2);\n          pointer++;\n        }\n      }\n      pointer++;\n    }\n    pointer++;\n  }\n};\n\n\n/**\n * Look for single edits surrounded on both sides by equalities\n * which can be shifted sideways to align the edit to a word boundary.\n * e.g: The c<ins>at c</ins>ame. -> The <ins>cat </ins>came.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupSemanticLossless = function(diffs) {\n  /**\n   * Given two strings, compute a score representing whether the internal\n   * boundary falls on logical boundaries.\n   * Scores range from 6 (best) to 0 (worst).\n   * Closure, but does not reference any external variables.\n   * @param {string} one First string.\n   * @param {string} two Second string.\n   * @return {number} The score.\n   * @private\n   */\n  function diff_cleanupSemanticScore_(one, two) {\n    if (!one || !two) {\n      // Edges are the best.\n      return 6;\n    }\n\n    // Each port of this function behaves slightly differently due to\n    // subtle differences in each language's definition of things like\n    // 'whitespace'.  Since this function's purpose is largely cosmetic,\n    // the choice has been made to use each language's native features\n    // rather than force total conformity.\n    var char1 = one.charAt(one.length - 1);\n    var char2 = two.charAt(0);\n    var nonAlphaNumeric1 = char1.match(diff_match_patch.nonAlphaNumericRegex_);\n    var nonAlphaNumeric2 = char2.match(diff_match_patch.nonAlphaNumericRegex_);\n    var whitespace1 = nonAlphaNumeric1 &&\n        char1.match(diff_match_patch.whitespaceRegex_);\n    var whitespace2 = nonAlphaNumeric2 &&\n        char2.match(diff_match_patch.whitespaceRegex_);\n    var lineBreak1 = whitespace1 &&\n        char1.match(diff_match_patch.linebreakRegex_);\n    var lineBreak2 = whitespace2 &&\n        char2.match(diff_match_patch.linebreakRegex_);\n    var blankLine1 = lineBreak1 &&\n        one.match(diff_match_patch.blanklineEndRegex_);\n    var blankLine2 = lineBreak2 &&\n        two.match(diff_match_patch.blanklineStartRegex_);\n\n    if (blankLine1 || blankLine2) {\n      // Five points for blank lines.\n      return 5;\n    } else if (lineBreak1 || lineBreak2) {\n      // Four points for line breaks.\n      return 4;\n    } else if (nonAlphaNumeric1 && !whitespace1 && whitespace2) {\n      // Three points for end of sentences.\n      return 3;\n    } else if (whitespace1 || whitespace2) {\n      // Two points for whitespace.\n      return 2;\n    } else if (nonAlphaNumeric1 || nonAlphaNumeric2) {\n      // One point for non-alphanumeric.\n      return 1;\n    }\n    return 0;\n  }\n\n  var pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      var equality1 = diffs[pointer - 1][1];\n      var edit = diffs[pointer][1];\n      var equality2 = diffs[pointer + 1][1];\n\n      // First, shift the edit as far left as possible.\n      var commonOffset = this.diff_commonSuffix(equality1, edit);\n      if (commonOffset) {\n        var commonString = edit.substring(edit.length - commonOffset);\n        equality1 = equality1.substring(0, equality1.length - commonOffset);\n        edit = commonString + edit.substring(0, edit.length - commonOffset);\n        equality2 = commonString + equality2;\n      }\n\n      // Second, step character by character right, looking for the best fit.\n      var bestEquality1 = equality1;\n      var bestEdit = edit;\n      var bestEquality2 = equality2;\n      var bestScore = diff_cleanupSemanticScore_(equality1, edit) +\n          diff_cleanupSemanticScore_(edit, equality2);\n      while (edit.charAt(0) === equality2.charAt(0)) {\n        equality1 += edit.charAt(0);\n        edit = edit.substring(1) + equality2.charAt(0);\n        equality2 = equality2.substring(1);\n        var score = diff_cleanupSemanticScore_(equality1, edit) +\n            diff_cleanupSemanticScore_(edit, equality2);\n        // The >= encourages trailing rather than leading whitespace on edits.\n        if (score >= bestScore) {\n          bestScore = score;\n          bestEquality1 = equality1;\n          bestEdit = edit;\n          bestEquality2 = equality2;\n        }\n      }\n\n      if (diffs[pointer - 1][1] != bestEquality1) {\n        // We have an improvement, save it back to the diff.\n        if (bestEquality1) {\n          diffs[pointer - 1][1] = bestEquality1;\n        } else {\n          diffs.splice(pointer - 1, 1);\n          pointer--;\n        }\n        diffs[pointer][1] = bestEdit;\n        if (bestEquality2) {\n          diffs[pointer + 1][1] = bestEquality2;\n        } else {\n          diffs.splice(pointer + 1, 1);\n          pointer--;\n        }\n      }\n    }\n    pointer++;\n  }\n};\n\n// Define some regex patterns for matching boundaries.\ndiff_match_patch.nonAlphaNumericRegex_ = /[^a-zA-Z0-9]/;\ndiff_match_patch.whitespaceRegex_ = /\\s/;\ndiff_match_patch.linebreakRegex_ = /[\\r\\n]/;\ndiff_match_patch.blanklineEndRegex_ = /\\n\\r?\\n$/;\ndiff_match_patch.blanklineStartRegex_ = /^\\r?\\n\\r?\\n/;\n\n/**\n * Reduce the number of edits by eliminating operationally trivial equalities.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupEfficiency = function(diffs) {\n  var changes = false;\n  var equalities = [];  // Stack of indices where equalities are found.\n  var equalitiesLength = 0;  // Keeping our own length var is faster in JS.\n  /** @type {?string} */\n  var lastEquality = null;\n  // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n  var pointer = 0;  // Index of current position.\n  // Is there an insertion operation before the last equality.\n  var pre_ins = false;\n  // Is there a deletion operation before the last equality.\n  var pre_del = false;\n  // Is there an insertion operation after the last equality.\n  var post_ins = false;\n  // Is there a deletion operation after the last equality.\n  var post_del = false;\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] == DIFF_EQUAL) {  // Equality found.\n      if (diffs[pointer][1].length < this.Diff_EditCost &&\n          (post_ins || post_del)) {\n        // Candidate found.\n        equalities[equalitiesLength++] = pointer;\n        pre_ins = post_ins;\n        pre_del = post_del;\n        lastEquality = diffs[pointer][1];\n      } else {\n        // Not a candidate, and can never become one.\n        equalitiesLength = 0;\n        lastEquality = null;\n      }\n      post_ins = post_del = false;\n    } else {  // An insertion or deletion.\n      if (diffs[pointer][0] == DIFF_DELETE) {\n        post_del = true;\n      } else {\n        post_ins = true;\n      }\n      /*\n       * Five types to be split:\n       * <ins>A</ins><del>B</del>XY<ins>C</ins><del>D</del>\n       * <ins>A</ins>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<ins>C</ins>\n       * <ins>A</del>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<del>C</del>\n       */\n      if (lastEquality && ((pre_ins && pre_del && post_ins && post_del) ||\n                           ((lastEquality.length < this.Diff_EditCost / 2) &&\n                            (pre_ins + pre_del + post_ins + post_del) == 3))) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0,\n                     new diff_match_patch.Diff(DIFF_DELETE, lastEquality));\n        // Change second copy to insert.\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\n        equalitiesLength--;  // Throw away the equality we just deleted;\n        lastEquality = null;\n        if (pre_ins && pre_del) {\n          // No changes made which could affect previous entry, keep going.\n          post_ins = post_del = true;\n          equalitiesLength = 0;\n        } else {\n          equalitiesLength--;  // Throw away the previous equality.\n          pointer = equalitiesLength > 0 ?\n              equalities[equalitiesLength - 1] : -1;\n          post_ins = post_del = false;\n        }\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n};\n\n\n/**\n * Reorder and merge like edit sections.  Merge equalities.\n * Any edit section can move as long as it doesn't cross an equality.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupMerge = function(diffs) {\n  // Add a dummy entry at the end.\n  diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ''));\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  var commonlength;\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete + count_insert > 1) {\n          if (count_delete !== 0 && count_insert !== 0) {\n            // Factor out any common prefixies.\n            commonlength = this.diff_commonPrefix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              if ((pointer - count_delete - count_insert) > 0 &&\n                  diffs[pointer - count_delete - count_insert - 1][0] ==\n                  DIFF_EQUAL) {\n                diffs[pointer - count_delete - count_insert - 1][1] +=\n                    text_insert.substring(0, commonlength);\n              } else {\n                diffs.splice(0, 0, new diff_match_patch.Diff(DIFF_EQUAL,\n                    text_insert.substring(0, commonlength)));\n                pointer++;\n              }\n              text_insert = text_insert.substring(commonlength);\n              text_delete = text_delete.substring(commonlength);\n            }\n            // Factor out any common suffixies.\n            commonlength = this.diff_commonSuffix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              diffs[pointer][1] = text_insert.substring(text_insert.length -\n                  commonlength) + diffs[pointer][1];\n              text_insert = text_insert.substring(0, text_insert.length -\n                  commonlength);\n              text_delete = text_delete.substring(0, text_delete.length -\n                  commonlength);\n            }\n          }\n          // Delete the offending records and add the merged ones.\n          pointer -= count_delete + count_insert;\n          diffs.splice(pointer, count_delete + count_insert);\n          if (text_delete.length) {\n            diffs.splice(pointer, 0,\n                new diff_match_patch.Diff(DIFF_DELETE, text_delete));\n            pointer++;\n          }\n          if (text_insert.length) {\n            diffs.splice(pointer, 0,\n                new diff_match_patch.Diff(DIFF_INSERT, text_insert));\n            pointer++;\n          }\n          pointer++;\n        } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\n          // Merge this equality with the previous one.\n          diffs[pointer - 1][1] += diffs[pointer][1];\n          diffs.splice(pointer, 1);\n        } else {\n          pointer++;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n  }\n  if (diffs[diffs.length - 1][1] === '') {\n    diffs.pop();  // Remove the dummy entry at the end.\n  }\n\n  // Second pass: look for single edits surrounded on both sides by equalities\n  // which can be shifted sideways to eliminate an equality.\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n  var changes = false;\n  pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      if (diffs[pointer][1].substring(diffs[pointer][1].length -\n          diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\n        // Shift the edit over the previous equality.\n        diffs[pointer][1] = diffs[pointer - 1][1] +\n            diffs[pointer][1].substring(0, diffs[pointer][1].length -\n                                        diffs[pointer - 1][1].length);\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n        diffs.splice(pointer - 1, 1);\n        changes = true;\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) ==\n          diffs[pointer + 1][1]) {\n        // Shift the edit over the next equality.\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\n        diffs[pointer][1] =\n            diffs[pointer][1].substring(diffs[pointer + 1][1].length) +\n            diffs[pointer + 1][1];\n        diffs.splice(pointer + 1, 1);\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n  // If shifts were made, the diff needs reordering and another shift sweep.\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n};\n\n\n/**\n * loc is a location in text1, compute and return the equivalent location in\n * text2.\n * e.g. 'The cat' vs 'The big cat', 1->1, 5->8\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @param {number} loc Location within text1.\n * @return {number} Location within text2.\n */\ndiff_match_patch.prototype.diff_xIndex = function(diffs, loc) {\n  var chars1 = 0;\n  var chars2 = 0;\n  var last_chars1 = 0;\n  var last_chars2 = 0;\n  var x;\n  for (x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {  // Equality or deletion.\n      chars1 += diffs[x][1].length;\n    }\n    if (diffs[x][0] !== DIFF_DELETE) {  // Equality or insertion.\n      chars2 += diffs[x][1].length;\n    }\n    if (chars1 > loc) {  // Overshot the location.\n      break;\n    }\n    last_chars1 = chars1;\n    last_chars2 = chars2;\n  }\n  // Was the location was deleted?\n  if (diffs.length != x && diffs[x][0] === DIFF_DELETE) {\n    return last_chars2;\n  }\n  // Add the remaining character length.\n  return last_chars2 + (loc - last_chars1);\n};\n\n\n/**\n * Convert a diff array into a pretty HTML report.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} HTML representation.\n */\ndiff_match_patch.prototype.diff_prettyHtml = function(diffs) {\n  var html = [];\n  var pattern_amp = /&/g;\n  var pattern_lt = /</g;\n  var pattern_gt = />/g;\n  var pattern_para = /\\n/g;\n  for (var x = 0; x < diffs.length; x++) {\n    var op = diffs[x][0];    // Operation (insert, delete, equal)\n    var data = diffs[x][1];  // Text of change.\n    var text = data.replace(pattern_amp, '&amp;').replace(pattern_lt, '&lt;')\n        .replace(pattern_gt, '&gt;').replace(pattern_para, '&para;<br>');\n    switch (op) {\n      case DIFF_INSERT:\n        html[x] = '<ins style=\"background:#e6ffe6;\">' + text + '</ins>';\n        break;\n      case DIFF_DELETE:\n        html[x] = '<del style=\"background:#ffe6e6;\">' + text + '</del>';\n        break;\n      case DIFF_EQUAL:\n        html[x] = '<span>' + text + '</span>';\n        break;\n    }\n  }\n  return html.join('');\n};\n\n\n/**\n * Compute and return the source text (all equalities and deletions).\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Source text.\n */\ndiff_match_patch.prototype.diff_text1 = function(diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {\n      text[x] = diffs[x][1];\n    }\n  }\n  return text.join('');\n};\n\n\n/**\n * Compute and return the destination text (all equalities and insertions).\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Destination text.\n */\ndiff_match_patch.prototype.diff_text2 = function(diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_DELETE) {\n      text[x] = diffs[x][1];\n    }\n  }\n  return text.join('');\n};\n\n\n/**\n * Compute the Levenshtein distance; the number of inserted, deleted or\n * substituted characters.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {number} Number of changes.\n */\ndiff_match_patch.prototype.diff_levenshtein = function(diffs) {\n  var levenshtein = 0;\n  var insertions = 0;\n  var deletions = 0;\n  for (var x = 0; x < diffs.length; x++) {\n    var op = diffs[x][0];\n    var data = diffs[x][1];\n    switch (op) {\n      case DIFF_INSERT:\n        insertions += data.length;\n        break;\n      case DIFF_DELETE:\n        deletions += data.length;\n        break;\n      case DIFF_EQUAL:\n        // A deletion and an insertion is one substitution.\n        levenshtein += Math.max(insertions, deletions);\n        insertions = 0;\n        deletions = 0;\n        break;\n    }\n  }\n  levenshtein += Math.max(insertions, deletions);\n  return levenshtein;\n};\n\n\n/**\n * Crush the diff into an encoded string which describes the operations\n * required to transform text1 into text2.\n * E.g. =3\\t-2\\t+ing  -> Keep 3 chars, delete 2 chars, insert 'ing'.\n * Operations are tab-separated.  Inserted text is escaped using %xx notation.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Delta text.\n */\ndiff_match_patch.prototype.diff_toDelta = function(diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    switch (diffs[x][0]) {\n      case DIFF_INSERT:\n        text[x] = '+' + encodeURI(diffs[x][1]);\n        break;\n      case DIFF_DELETE:\n        text[x] = '-' + diffs[x][1].length;\n        break;\n      case DIFF_EQUAL:\n        text[x] = '=' + diffs[x][1].length;\n        break;\n    }\n  }\n  return text.join('\\t').replace(/%20/g, ' ');\n};\n\n\n/**\n * Given the original text1, and an encoded string which describes the\n * operations required to transform text1 into text2, compute the full diff.\n * @param {string} text1 Source string for the diff.\n * @param {string} delta Delta text.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @throws {!Error} If invalid input.\n */\ndiff_match_patch.prototype.diff_fromDelta = function(text1, delta) {\n  var diffs = [];\n  var diffsLength = 0;  // Keeping our own length var is faster in JS.\n  var pointer = 0;  // Cursor in text1\n  var tokens = delta.split(/\\t/g);\n  for (var x = 0; x < tokens.length; x++) {\n    // Each token begins with a one character parameter which specifies the\n    // operation of this token (delete, insert, equality).\n    var param = tokens[x].substring(1);\n    switch (tokens[x].charAt(0)) {\n      case '+':\n        try {\n          diffs[diffsLength++] =\n              new diff_match_patch.Diff(DIFF_INSERT, decodeURI(param));\n        } catch (ex) {\n          // Malformed URI sequence.\n          throw new Error('Illegal escape in diff_fromDelta: ' + param);\n        }\n        break;\n      case '-':\n        // Fall through.\n      case '=':\n        var n = parseInt(param, 10);\n        if (isNaN(n) || n < 0) {\n          throw new Error('Invalid number in diff_fromDelta: ' + param);\n        }\n        var text = text1.substring(pointer, pointer += n);\n        if (tokens[x].charAt(0) == '=') {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_EQUAL, text);\n        } else {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_DELETE, text);\n        }\n        break;\n      default:\n        // Blank tokens are ok (from a trailing \\t).\n        // Anything else is an error.\n        if (tokens[x]) {\n          throw new Error('Invalid diff operation in diff_fromDelta: ' +\n                          tokens[x]);\n        }\n    }\n  }\n  if (pointer != text1.length) {\n    throw new Error('Delta length (' + pointer +\n        ') does not equal source text length (' + text1.length + ').');\n  }\n  return diffs;\n};\n\n\n//  MATCH FUNCTIONS\n\n\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc'.\n * @param {string} text The text to search.\n * @param {string} pattern The pattern to search for.\n * @param {number} loc The location to search around.\n * @return {number} Best match index or -1.\n */\ndiff_match_patch.prototype.match_main = function(text, pattern, loc) {\n  // Check for null inputs.\n  if (text == null || pattern == null || loc == null) {\n    throw new Error('Null input. (match_main)');\n  }\n\n  loc = Math.max(0, Math.min(loc, text.length));\n  if (text == pattern) {\n    // Shortcut (potentially not guaranteed by the algorithm)\n    return 0;\n  } else if (!text.length) {\n    // Nothing to match.\n    return -1;\n  } else if (text.substring(loc, loc + pattern.length) == pattern) {\n    // Perfect match at the perfect spot!  (Includes case of null pattern)\n    return loc;\n  } else {\n    // Do a fuzzy compare.\n    return this.match_bitap_(text, pattern, loc);\n  }\n};\n\n\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc' using the\n * Bitap algorithm.\n * @param {string} text The text to search.\n * @param {string} pattern The pattern to search for.\n * @param {number} loc The location to search around.\n * @return {number} Best match index or -1.\n * @private\n */\ndiff_match_patch.prototype.match_bitap_ = function(text, pattern, loc) {\n  if (pattern.length > this.Match_MaxBits) {\n    throw new Error('Pattern too long for this browser.');\n  }\n\n  // Initialise the alphabet.\n  var s = this.match_alphabet_(pattern);\n\n  var dmp = this;  // 'this' becomes 'window' in a closure.\n\n  /**\n   * Compute and return the score for a match with e errors and x location.\n   * Accesses loc and pattern through being a closure.\n   * @param {number} e Number of errors in match.\n   * @param {number} x Location of match.\n   * @return {number} Overall score for match (0.0 = good, 1.0 = bad).\n   * @private\n   */\n  function match_bitapScore_(e, x) {\n    var accuracy = e / pattern.length;\n    var proximity = Math.abs(loc - x);\n    if (!dmp.Match_Distance) {\n      // Dodge divide by zero error.\n      return proximity ? 1.0 : accuracy;\n    }\n    return accuracy + (proximity / dmp.Match_Distance);\n  }\n\n  // Highest score beyond which we give up.\n  var score_threshold = this.Match_Threshold;\n  // Is there a nearby exact match? (speedup)\n  var best_loc = text.indexOf(pattern, loc);\n  if (best_loc != -1) {\n    score_threshold = Math.min(match_bitapScore_(0, best_loc), score_threshold);\n    // What about in the other direction? (speedup)\n    best_loc = text.lastIndexOf(pattern, loc + pattern.length);\n    if (best_loc != -1) {\n      score_threshold =\n          Math.min(match_bitapScore_(0, best_loc), score_threshold);\n    }\n  }\n\n  // Initialise the bit arrays.\n  var matchmask = 1 << (pattern.length - 1);\n  best_loc = -1;\n\n  var bin_min, bin_mid;\n  var bin_max = pattern.length + text.length;\n  var last_rd;\n  for (var d = 0; d < pattern.length; d++) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from 'loc' we can stray at this\n    // error level.\n    bin_min = 0;\n    bin_mid = bin_max;\n    while (bin_min < bin_mid) {\n      if (match_bitapScore_(d, loc + bin_mid) <= score_threshold) {\n        bin_min = bin_mid;\n      } else {\n        bin_max = bin_mid;\n      }\n      bin_mid = Math.floor((bin_max - bin_min) / 2 + bin_min);\n    }\n    // Use the result from this iteration as the maximum for the next.\n    bin_max = bin_mid;\n    var start = Math.max(1, loc - bin_mid + 1);\n    var finish = Math.min(loc + bin_mid, text.length) + pattern.length;\n\n    var rd = Array(finish + 2);\n    rd[finish + 1] = (1 << d) - 1;\n    for (var j = finish; j >= start; j--) {\n      // The alphabet (s) is a sparse hash, so the following line generates\n      // warnings.\n      var charMatch = s[text.charAt(j - 1)];\n      if (d === 0) {  // First pass: exact match.\n        rd[j] = ((rd[j + 1] << 1) | 1) & charMatch;\n      } else {  // Subsequent passes: fuzzy match.\n        rd[j] = (((rd[j + 1] << 1) | 1) & charMatch) |\n                (((last_rd[j + 1] | last_rd[j]) << 1) | 1) |\n                last_rd[j + 1];\n      }\n      if (rd[j] & matchmask) {\n        var score = match_bitapScore_(d, j - 1);\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (score <= score_threshold) {\n          // Told you so.\n          score_threshold = score;\n          best_loc = j - 1;\n          if (best_loc > loc) {\n            // When passing loc, don't exceed our current distance from loc.\n            start = Math.max(1, 2 * loc - best_loc);\n          } else {\n            // Already passed loc, downhill from here on in.\n            break;\n          }\n        }\n      }\n    }\n    // No hope for a (better) match at greater error levels.\n    if (match_bitapScore_(d + 1, loc) > score_threshold) {\n      break;\n    }\n    last_rd = rd;\n  }\n  return best_loc;\n};\n\n\n/**\n * Initialise the alphabet for the Bitap algorithm.\n * @param {string} pattern The text to encode.\n * @return {!Object} Hash of character locations.\n * @private\n */\ndiff_match_patch.prototype.match_alphabet_ = function(pattern) {\n  var s = {};\n  for (var i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] = 0;\n  }\n  for (var i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] |= 1 << (pattern.length - i - 1);\n  }\n  return s;\n};\n\n\n//  PATCH FUNCTIONS\n\n\n/**\n * Increase the context until it is unique,\n * but don't let the pattern expand beyond Match_MaxBits.\n * @param {!diff_match_patch.patch_obj} patch The patch to grow.\n * @param {string} text Source text.\n * @private\n */\ndiff_match_patch.prototype.patch_addContext_ = function(patch, text) {\n  if (text.length == 0) {\n    return;\n  }\n  if (patch.start2 === null) {\n    throw Error('patch not initialized');\n  }\n  var pattern = text.substring(patch.start2, patch.start2 + patch.length1);\n  var padding = 0;\n\n  // Look for the first and last matches of pattern in text.  If two different\n  // matches are found, increase the pattern length.\n  while (text.indexOf(pattern) != text.lastIndexOf(pattern) &&\n         pattern.length < this.Match_MaxBits - this.Patch_Margin -\n         this.Patch_Margin) {\n    padding += this.Patch_Margin;\n    pattern = text.substring(patch.start2 - padding,\n                             patch.start2 + patch.length1 + padding);\n  }\n  // Add one chunk for good luck.\n  padding += this.Patch_Margin;\n\n  // Add the prefix.\n  var prefix = text.substring(patch.start2 - padding, patch.start2);\n  if (prefix) {\n    patch.diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, prefix));\n  }\n  // Add the suffix.\n  var suffix = text.substring(patch.start2 + patch.length1,\n                              patch.start2 + patch.length1 + padding);\n  if (suffix) {\n    patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, suffix));\n  }\n\n  // Roll back the start points.\n  patch.start1 -= prefix.length;\n  patch.start2 -= prefix.length;\n  // Extend the lengths.\n  patch.length1 += prefix.length + suffix.length;\n  patch.length2 += prefix.length + suffix.length;\n};\n\n\n/**\n * Compute a list of patches to turn text1 into text2.\n * Use diffs if provided, otherwise compute it ourselves.\n * There are four ways to call this function, depending on what data is\n * available to the caller:\n * Method 1:\n * a = text1, b = text2\n * Method 2:\n * a = diffs\n * Method 3 (optimal):\n * a = text1, b = diffs\n * Method 4 (deprecated, use method 3):\n * a = text1, b = text2, c = diffs\n *\n * @param {string|!Array.<!diff_match_patch.Diff>} a text1 (methods 1,3,4) or\n * Array of diff tuples for text1 to text2 (method 2).\n * @param {string|!Array.<!diff_match_patch.Diff>=} opt_b text2 (methods 1,4) or\n * Array of diff tuples for text1 to text2 (method 3) or undefined (method 2).\n * @param {string|!Array.<!diff_match_patch.Diff>=} opt_c Array of diff tuples\n * for text1 to text2 (method 4) or undefined (methods 1,2,3).\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_make = function(a, opt_b, opt_c) {\n  var text1, diffs;\n  if (typeof a == 'string' && typeof opt_b == 'string' &&\n      typeof opt_c == 'undefined') {\n    // Method 1: text1, text2\n    // Compute diffs from text1 and text2.\n    text1 = /** @type {string} */(a);\n    diffs = this.diff_main(text1, /** @type {string} */(opt_b), true);\n    if (diffs.length > 2) {\n      this.diff_cleanupSemantic(diffs);\n      this.diff_cleanupEfficiency(diffs);\n    }\n  } else if (a && typeof a == 'object' && typeof opt_b == 'undefined' &&\n      typeof opt_c == 'undefined') {\n    // Method 2: diffs\n    // Compute text1 from diffs.\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(a);\n    text1 = this.diff_text1(diffs);\n  } else if (typeof a == 'string' && opt_b && typeof opt_b == 'object' &&\n      typeof opt_c == 'undefined') {\n    // Method 3: text1, diffs\n    text1 = /** @type {string} */(a);\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(opt_b);\n  } else if (typeof a == 'string' && typeof opt_b == 'string' &&\n      opt_c && typeof opt_c == 'object') {\n    // Method 4: text1, text2, diffs\n    // text2 is not used.\n    text1 = /** @type {string} */(a);\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(opt_c);\n  } else {\n    throw new Error('Unknown call format to patch_make.');\n  }\n\n  if (diffs.length === 0) {\n    return [];  // Get rid of the null case.\n  }\n  var patches = [];\n  var patch = new diff_match_patch.patch_obj();\n  var patchDiffLength = 0;  // Keeping our own length var is faster in JS.\n  var char_count1 = 0;  // Number of characters into the text1 string.\n  var char_count2 = 0;  // Number of characters into the text2 string.\n  // Start with text1 (prepatch_text) and apply the diffs until we arrive at\n  // text2 (postpatch_text).  We recreate the patches one by one to determine\n  // context info.\n  var prepatch_text = text1;\n  var postpatch_text = text1;\n  for (var x = 0; x < diffs.length; x++) {\n    var diff_type = diffs[x][0];\n    var diff_text = diffs[x][1];\n\n    if (!patchDiffLength && diff_type !== DIFF_EQUAL) {\n      // A new patch starts here.\n      patch.start1 = char_count1;\n      patch.start2 = char_count2;\n    }\n\n    switch (diff_type) {\n      case DIFF_INSERT:\n        patch.diffs[patchDiffLength++] = diffs[x];\n        patch.length2 += diff_text.length;\n        postpatch_text = postpatch_text.substring(0, char_count2) + diff_text +\n                         postpatch_text.substring(char_count2);\n        break;\n      case DIFF_DELETE:\n        patch.length1 += diff_text.length;\n        patch.diffs[patchDiffLength++] = diffs[x];\n        postpatch_text = postpatch_text.substring(0, char_count2) +\n                         postpatch_text.substring(char_count2 +\n                             diff_text.length);\n        break;\n      case DIFF_EQUAL:\n        if (diff_text.length <= 2 * this.Patch_Margin &&\n            patchDiffLength && diffs.length != x + 1) {\n          // Small equality inside a patch.\n          patch.diffs[patchDiffLength++] = diffs[x];\n          patch.length1 += diff_text.length;\n          patch.length2 += diff_text.length;\n        } else if (diff_text.length >= 2 * this.Patch_Margin) {\n          // Time for a new patch.\n          if (patchDiffLength) {\n            this.patch_addContext_(patch, prepatch_text);\n            patches.push(patch);\n            patch = new diff_match_patch.patch_obj();\n            patchDiffLength = 0;\n            // Unlike Unidiff, our patch lists have a rolling context.\n            // https://github.com/google/diff-match-patch/wiki/Unidiff\n            // Update prepatch text & pos to reflect the application of the\n            // just completed patch.\n            prepatch_text = postpatch_text;\n            char_count1 = char_count2;\n          }\n        }\n        break;\n    }\n\n    // Update the current character count.\n    if (diff_type !== DIFF_INSERT) {\n      char_count1 += diff_text.length;\n    }\n    if (diff_type !== DIFF_DELETE) {\n      char_count2 += diff_text.length;\n    }\n  }\n  // Pick up the leftover patch if not empty.\n  if (patchDiffLength) {\n    this.patch_addContext_(patch, prepatch_text);\n    patches.push(patch);\n  }\n\n  return patches;\n};\n\n\n/**\n * Given an array of patches, return another array that is identical.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_deepCopy = function(patches) {\n  // Making deep copies is hard in JavaScript.\n  var patchesCopy = [];\n  for (var x = 0; x < patches.length; x++) {\n    var patch = patches[x];\n    var patchCopy = new diff_match_patch.patch_obj();\n    patchCopy.diffs = [];\n    for (var y = 0; y < patch.diffs.length; y++) {\n      patchCopy.diffs[y] =\n          new diff_match_patch.Diff(patch.diffs[y][0], patch.diffs[y][1]);\n    }\n    patchCopy.start1 = patch.start1;\n    patchCopy.start2 = patch.start2;\n    patchCopy.length1 = patch.length1;\n    patchCopy.length2 = patch.length2;\n    patchesCopy[x] = patchCopy;\n  }\n  return patchesCopy;\n};\n\n\n/**\n * Merge a set of patches onto the text.  Return a patched text, as well\n * as a list of true/false values indicating which patches were applied.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @param {string} text Old text.\n * @return {!Array.<string|!Array.<boolean>>} Two element Array, containing the\n *      new text and an array of boolean values.\n */\ndiff_match_patch.prototype.patch_apply = function(patches, text) {\n  if (patches.length == 0) {\n    return [text, []];\n  }\n\n  // Deep copy the patches so that no changes are made to originals.\n  patches = this.patch_deepCopy(patches);\n\n  var nullPadding = this.patch_addPadding(patches);\n  text = nullPadding + text + nullPadding;\n\n  this.patch_splitMax(patches);\n  // delta keeps track of the offset between the expected and actual location\n  // of the previous patch.  If there are patches expected at positions 10 and\n  // 20, but the first patch was found at 12, delta is 2 and the second patch\n  // has an effective expected position of 22.\n  var delta = 0;\n  var results = [];\n  for (var x = 0; x < patches.length; x++) {\n    var expected_loc = patches[x].start2 + delta;\n    var text1 = this.diff_text1(patches[x].diffs);\n    var start_loc;\n    var end_loc = -1;\n    if (text1.length > this.Match_MaxBits) {\n      // patch_splitMax will only provide an oversized pattern in the case of\n      // a monster delete.\n      start_loc = this.match_main(text, text1.substring(0, this.Match_MaxBits),\n                                  expected_loc);\n      if (start_loc != -1) {\n        end_loc = this.match_main(text,\n            text1.substring(text1.length - this.Match_MaxBits),\n            expected_loc + text1.length - this.Match_MaxBits);\n        if (end_loc == -1 || start_loc >= end_loc) {\n          // Can't find valid trailing context.  Drop this patch.\n          start_loc = -1;\n        }\n      }\n    } else {\n      start_loc = this.match_main(text, text1, expected_loc);\n    }\n    if (start_loc == -1) {\n      // No match found.  :(\n      results[x] = false;\n      // Subtract the delta for this failed patch from subsequent patches.\n      delta -= patches[x].length2 - patches[x].length1;\n    } else {\n      // Found a match.  :)\n      results[x] = true;\n      delta = start_loc - expected_loc;\n      var text2;\n      if (end_loc == -1) {\n        text2 = text.substring(start_loc, start_loc + text1.length);\n      } else {\n        text2 = text.substring(start_loc, end_loc + this.Match_MaxBits);\n      }\n      if (text1 == text2) {\n        // Perfect match, just shove the replacement text in.\n        text = text.substring(0, start_loc) +\n               this.diff_text2(patches[x].diffs) +\n               text.substring(start_loc + text1.length);\n      } else {\n        // Imperfect match.  Run a diff to get a framework of equivalent\n        // indices.\n        var diffs = this.diff_main(text1, text2, false);\n        if (text1.length > this.Match_MaxBits &&\n            this.diff_levenshtein(diffs) / text1.length >\n            this.Patch_DeleteThreshold) {\n          // The end points match, but the content is unacceptably bad.\n          results[x] = false;\n        } else {\n          this.diff_cleanupSemanticLossless(diffs);\n          var index1 = 0;\n          var index2;\n          for (var y = 0; y < patches[x].diffs.length; y++) {\n            var mod = patches[x].diffs[y];\n            if (mod[0] !== DIFF_EQUAL) {\n              index2 = this.diff_xIndex(diffs, index1);\n            }\n            if (mod[0] === DIFF_INSERT) {  // Insertion\n              text = text.substring(0, start_loc + index2) + mod[1] +\n                     text.substring(start_loc + index2);\n            } else if (mod[0] === DIFF_DELETE) {  // Deletion\n              text = text.substring(0, start_loc + index2) +\n                     text.substring(start_loc + this.diff_xIndex(diffs,\n                         index1 + mod[1].length));\n            }\n            if (mod[0] !== DIFF_DELETE) {\n              index1 += mod[1].length;\n            }\n          }\n        }\n      }\n    }\n  }\n  // Strip the padding off.\n  text = text.substring(nullPadding.length, text.length - nullPadding.length);\n  return [text, results];\n};\n\n\n/**\n * Add some padding on text start and end so that edges can match something.\n * Intended to be called only from within patch_apply.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {string} The padding string added to each side.\n */\ndiff_match_patch.prototype.patch_addPadding = function(patches) {\n  var paddingLength = this.Patch_Margin;\n  var nullPadding = '';\n  for (var x = 1; x <= paddingLength; x++) {\n    nullPadding += String.fromCharCode(x);\n  }\n\n  // Bump all the patches forward.\n  for (var x = 0; x < patches.length; x++) {\n    patches[x].start1 += paddingLength;\n    patches[x].start2 += paddingLength;\n  }\n\n  // Add some padding on start of first diff.\n  var patch = patches[0];\n  var diffs = patch.diffs;\n  if (diffs.length == 0 || diffs[0][0] != DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));\n    patch.start1 -= paddingLength;  // Should be 0.\n    patch.start2 -= paddingLength;  // Should be 0.\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n  } else if (paddingLength > diffs[0][1].length) {\n    // Grow first equality.\n    var extraLength = paddingLength - diffs[0][1].length;\n    diffs[0][1] = nullPadding.substring(diffs[0][1].length) + diffs[0][1];\n    patch.start1 -= extraLength;\n    patch.start2 -= extraLength;\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n  }\n\n  // Add some padding on end of last diff.\n  patch = patches[patches.length - 1];\n  diffs = patch.diffs;\n  if (diffs.length == 0 || diffs[diffs.length - 1][0] != DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n  } else if (paddingLength > diffs[diffs.length - 1][1].length) {\n    // Grow last equality.\n    var extraLength = paddingLength - diffs[diffs.length - 1][1].length;\n    diffs[diffs.length - 1][1] += nullPadding.substring(0, extraLength);\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n  }\n\n  return nullPadding;\n};\n\n\n/**\n * Look through the patches and break up any which are longer than the maximum\n * limit of the match algorithm.\n * Intended to be called only from within patch_apply.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_splitMax = function(patches) {\n  var patch_size = this.Match_MaxBits;\n  for (var x = 0; x < patches.length; x++) {\n    if (patches[x].length1 <= patch_size) {\n      continue;\n    }\n    var bigpatch = patches[x];\n    // Remove the big old patch.\n    patches.splice(x--, 1);\n    var start1 = bigpatch.start1;\n    var start2 = bigpatch.start2;\n    var precontext = '';\n    while (bigpatch.diffs.length !== 0) {\n      // Create one of several smaller patches.\n      var patch = new diff_match_patch.patch_obj();\n      var empty = true;\n      patch.start1 = start1 - precontext.length;\n      patch.start2 = start2 - precontext.length;\n      if (precontext !== '') {\n        patch.length1 = patch.length2 = precontext.length;\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, precontext));\n      }\n      while (bigpatch.diffs.length !== 0 &&\n             patch.length1 < patch_size - this.Patch_Margin) {\n        var diff_type = bigpatch.diffs[0][0];\n        var diff_text = bigpatch.diffs[0][1];\n        if (diff_type === DIFF_INSERT) {\n          // Insertions are harmless.\n          patch.length2 += diff_text.length;\n          start2 += diff_text.length;\n          patch.diffs.push(bigpatch.diffs.shift());\n          empty = false;\n        } else if (diff_type === DIFF_DELETE && patch.diffs.length == 1 &&\n                   patch.diffs[0][0] == DIFF_EQUAL &&\n                   diff_text.length > 2 * patch_size) {\n          // This is a large deletion.  Let it pass in one chunk.\n          patch.length1 += diff_text.length;\n          start1 += diff_text.length;\n          empty = false;\n          patch.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));\n          bigpatch.diffs.shift();\n        } else {\n          // Deletion or equality.  Only take as much as we can stomach.\n          diff_text = diff_text.substring(0,\n              patch_size - patch.length1 - this.Patch_Margin);\n          patch.length1 += diff_text.length;\n          start1 += diff_text.length;\n          if (diff_type === DIFF_EQUAL) {\n            patch.length2 += diff_text.length;\n            start2 += diff_text.length;\n          } else {\n            empty = false;\n          }\n          patch.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));\n          if (diff_text == bigpatch.diffs[0][1]) {\n            bigpatch.diffs.shift();\n          } else {\n            bigpatch.diffs[0][1] =\n                bigpatch.diffs[0][1].substring(diff_text.length);\n          }\n        }\n      }\n      // Compute the head context for the next patch.\n      precontext = this.diff_text2(patch.diffs);\n      precontext =\n          precontext.substring(precontext.length - this.Patch_Margin);\n      // Append the end context for this patch.\n      var postcontext = this.diff_text1(bigpatch.diffs)\n                            .substring(0, this.Patch_Margin);\n      if (postcontext !== '') {\n        patch.length1 += postcontext.length;\n        patch.length2 += postcontext.length;\n        if (patch.diffs.length !== 0 &&\n            patch.diffs[patch.diffs.length - 1][0] === DIFF_EQUAL) {\n          patch.diffs[patch.diffs.length - 1][1] += postcontext;\n        } else {\n          patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, postcontext));\n        }\n      }\n      if (!empty) {\n        patches.splice(++x, 0, patch);\n      }\n    }\n  }\n};\n\n\n/**\n * Take a list of patches and return a textual representation.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {string} Text representation of patches.\n */\ndiff_match_patch.prototype.patch_toText = function(patches) {\n  var text = [];\n  for (var x = 0; x < patches.length; x++) {\n    text[x] = patches[x];\n  }\n  return text.join('');\n};\n\n\n/**\n * Parse a textual representation of patches and return a list of Patch objects.\n * @param {string} textline Text representation of patches.\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n * @throws {!Error} If invalid input.\n */\ndiff_match_patch.prototype.patch_fromText = function(textline) {\n  var patches = [];\n  if (!textline) {\n    return patches;\n  }\n  var text = textline.split('\\n');\n  var textPointer = 0;\n  var patchHeader = /^@@ -(\\d+),?(\\d*) \\+(\\d+),?(\\d*) @@$/;\n  while (textPointer < text.length) {\n    var m = text[textPointer].match(patchHeader);\n    if (!m) {\n      throw new Error('Invalid patch string: ' + text[textPointer]);\n    }\n    var patch = new diff_match_patch.patch_obj();\n    patches.push(patch);\n    patch.start1 = parseInt(m[1], 10);\n    if (m[2] === '') {\n      patch.start1--;\n      patch.length1 = 1;\n    } else if (m[2] == '0') {\n      patch.length1 = 0;\n    } else {\n      patch.start1--;\n      patch.length1 = parseInt(m[2], 10);\n    }\n\n    patch.start2 = parseInt(m[3], 10);\n    if (m[4] === '') {\n      patch.start2--;\n      patch.length2 = 1;\n    } else if (m[4] == '0') {\n      patch.length2 = 0;\n    } else {\n      patch.start2--;\n      patch.length2 = parseInt(m[4], 10);\n    }\n    textPointer++;\n\n    while (textPointer < text.length) {\n      var sign = text[textPointer].charAt(0);\n      try {\n        var line = decodeURI(text[textPointer].substring(1));\n      } catch (ex) {\n        // Malformed URI sequence.\n        throw new Error('Illegal escape in patch_fromText: ' + line);\n      }\n      if (sign == '-') {\n        // Deletion.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_DELETE, line));\n      } else if (sign == '+') {\n        // Insertion.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_INSERT, line));\n      } else if (sign == ' ') {\n        // Minor equality.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, line));\n      } else if (sign == '@') {\n        // Start of next patch.\n        break;\n      } else if (sign === '') {\n        // Blank line?  Whatever.\n      } else {\n        // WTF?\n        throw new Error('Invalid patch mode \"' + sign + '\" in: ' + line);\n      }\n      textPointer++;\n    }\n  }\n  return patches;\n};\n\n\n/**\n * Class representing one patch operation.\n * @constructor\n */\ndiff_match_patch.patch_obj = function() {\n  /** @type {!Array.<!diff_match_patch.Diff>} */\n  this.diffs = [];\n  /** @type {?number} */\n  this.start1 = null;\n  /** @type {?number} */\n  this.start2 = null;\n  /** @type {number} */\n  this.length1 = 0;\n  /** @type {number} */\n  this.length2 = 0;\n};\n\n\n/**\n * Emulate GNU diff's format.\n * Header: @@ -382,8 +481,9 @@\n * Indices are printed as 1-based, not 0-based.\n * @return {string} The GNU diff string.\n */\ndiff_match_patch.patch_obj.prototype.toString = function() {\n  var coords1, coords2;\n  if (this.length1 === 0) {\n    coords1 = this.start1 + ',0';\n  } else if (this.length1 == 1) {\n    coords1 = this.start1 + 1;\n  } else {\n    coords1 = (this.start1 + 1) + ',' + this.length1;\n  }\n  if (this.length2 === 0) {\n    coords2 = this.start2 + ',0';\n  } else if (this.length2 == 1) {\n    coords2 = this.start2 + 1;\n  } else {\n    coords2 = (this.start2 + 1) + ',' + this.length2;\n  }\n  var text = ['@@ -' + coords1 + ' +' + coords2 + ' @@\\n'];\n  var op;\n  // Escape the body of the patch with %xx notation.\n  for (var x = 0; x < this.diffs.length; x++) {\n    switch (this.diffs[x][0]) {\n      case DIFF_INSERT:\n        op = '+';\n        break;\n      case DIFF_DELETE:\n        op = '-';\n        break;\n      case DIFF_EQUAL:\n        op = ' ';\n        break;\n    }\n    text[x + 1] = op + encodeURI(this.diffs[x][1]) + '\\n';\n  }\n  return text.join('').replace(/%20/g, ' ');\n};\n\n\n// The following export code was added by @ForbesLindesay\nmodule.exports = diff_match_patch;\nmodule.exports['diff_match_patch'] = diff_match_patch;\nmodule.exports['DIFF_DELETE'] = DIFF_DELETE;\nmodule.exports['DIFF_INSERT'] = DIFF_INSERT;\nmodule.exports['DIFF_EQUAL'] = DIFF_EQUAL;","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/,\n    reLeadingDot = /^\\./,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    splice = arrayProto.splice;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value) {\n  return isArray(value) ? value : stringToPath(value);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoize(function(string) {\n  string = toString(string);\n\n  var result = [];\n  if (reLeadingDot.test(string)) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result);\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Assign cache to `_.memoize`.\nmemoize.Cache = MapCache;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = isEqual;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","import { Ace, Range } from \"ace-builds\";\nimport * as AceBuilds from \"ace-builds\";\nimport * as PropTypes from \"prop-types\";\nimport * as React from \"react\";\nconst isEqual = require(\"lodash.isequal\");\nimport {\n  debounce,\n  editorEvents,\n  editorOptions,\n  getAceInstance\n} from \"./editorOptions\";\nconst ace = getAceInstance();\n\nimport {\n  IAceEditor,\n  IAceOptions,\n  ICommand,\n  IEditorProps,\n  IMarker\n} from \"./types\";\n/**\n * See https://github.com/ajaxorg/ace/wiki/Configuring-Ace\n */\n\nexport interface IAceEditorProps {\n  name?: string;\n  style?: React.CSSProperties;\n  /** For available modes see https://github.com/thlorenz/brace/tree/master/mode */\n  mode?: string | object;\n  /** For available themes see https://github.com/thlorenz/brace/tree/master/theme */\n  theme?: string;\n  height?: string;\n  width?: string;\n  className?: string;\n  fontSize?: number | string;\n  showGutter?: boolean;\n  showPrintMargin?: boolean;\n  highlightActiveLine?: boolean;\n  focus?: boolean;\n  cursorStart?: number;\n  wrapEnabled?: boolean;\n  readOnly?: boolean;\n  minLines?: number;\n  maxLines?: number;\n  navigateToFileEnd?: boolean;\n  debounceChangePeriod?: number;\n  enableBasicAutocompletion?: boolean | string[];\n  enableLiveAutocompletion?: boolean | string[];\n  tabSize?: number;\n  value?: string;\n  placeholder?: string;\n  defaultValue?: string;\n  scrollMargin?: number[];\n  enableSnippets?: boolean;\n  onSelectionChange?: (value: any, event?: any) => void;\n  onCursorChange?: (value: any, event?: any) => void;\n  onInput?: (event?: any) => void;\n  onLoad?: (editor: Ace.Editor) => void;\n  onValidate?: (annotations: Ace.Annotation[]) => void;\n  onBeforeLoad?: (ace: typeof AceBuilds) => void;\n  onChange?: (value: string, event?: any) => void;\n  onSelection?: (selectedText: string, event?: any) => void;\n  onCopy?: (value: string) => void;\n  onPaste?: (value: string) => void;\n  onFocus?: (event: any, editor?: Ace.Editor) => void;\n  onBlur?: (event: any, editor?: Ace.Editor) => void;\n  onScroll?: (editor: IEditorProps) => void;\n  editorProps?: IEditorProps;\n  setOptions?: IAceOptions;\n  keyboardHandler?: string;\n  commands?: ICommand[];\n  annotations?: Ace.Annotation[];\n  markers?: IMarker[];\n}\n\nexport default class ReactAce extends React.Component<IAceEditorProps> {\n  public static propTypes: PropTypes.ValidationMap<IAceEditorProps> = {\n    mode: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    focus: PropTypes.bool,\n    theme: PropTypes.string,\n    name: PropTypes.string,\n    className: PropTypes.string,\n    height: PropTypes.string,\n    width: PropTypes.string,\n    fontSize: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    showGutter: PropTypes.bool,\n    onChange: PropTypes.func,\n    onCopy: PropTypes.func,\n    onPaste: PropTypes.func,\n    onFocus: PropTypes.func,\n    onInput: PropTypes.func,\n    onBlur: PropTypes.func,\n    onScroll: PropTypes.func,\n    value: PropTypes.string,\n    defaultValue: PropTypes.string,\n    onLoad: PropTypes.func,\n    onSelectionChange: PropTypes.func,\n    onCursorChange: PropTypes.func,\n    onBeforeLoad: PropTypes.func,\n    onValidate: PropTypes.func,\n    minLines: PropTypes.number,\n    maxLines: PropTypes.number,\n    readOnly: PropTypes.bool,\n    highlightActiveLine: PropTypes.bool,\n    tabSize: PropTypes.number,\n    showPrintMargin: PropTypes.bool,\n    cursorStart: PropTypes.number,\n    debounceChangePeriod: PropTypes.number,\n    editorProps: PropTypes.object,\n    setOptions: PropTypes.object,\n    style: PropTypes.object,\n    scrollMargin: PropTypes.array,\n    annotations: PropTypes.array,\n    markers: PropTypes.array,\n    keyboardHandler: PropTypes.string,\n    wrapEnabled: PropTypes.bool,\n    enableSnippets: PropTypes.bool,\n    enableBasicAutocompletion: PropTypes.oneOfType([\n      PropTypes.bool,\n      PropTypes.array\n    ]),\n    enableLiveAutocompletion: PropTypes.oneOfType([\n      PropTypes.bool,\n      PropTypes.array\n    ]),\n    navigateToFileEnd: PropTypes.bool,\n    commands: PropTypes.array,\n    placeholder: PropTypes.string\n  };\n  public static defaultProps: Partial<IAceEditorProps> = {\n    name: \"ace-editor\",\n    focus: false,\n    mode: \"\",\n    theme: \"\",\n    height: \"500px\",\n    width: \"500px\",\n    fontSize: 12,\n    enableSnippets: false,\n    showGutter: true,\n    onChange: null,\n    onPaste: null,\n    onLoad: null,\n    onScroll: null,\n    minLines: null,\n    maxLines: null,\n    readOnly: false,\n    highlightActiveLine: true,\n    showPrintMargin: true,\n    tabSize: 4,\n    cursorStart: 1,\n    editorProps: {},\n    style: {},\n    scrollMargin: [0, 0, 0, 0],\n    setOptions: {},\n    wrapEnabled: false,\n    enableBasicAutocompletion: false,\n    enableLiveAutocompletion: false,\n    placeholder: null,\n    navigateToFileEnd: true\n  };\n  public editor: IAceEditor;\n  public refEditor: HTMLElement;\n  public debounce: (fn: any, delay: number) => (...args: any) => void;\n  // [index: string]: any;\n  public silent: boolean;\n  constructor(props: IAceEditorProps) {\n    super(props);\n    editorEvents.forEach(method => {\n      this[method] = this[method].bind(this);\n    });\n    this.debounce = debounce;\n  }\n  public isInShadow(node: HTMLElement): boolean {\n    let parent = node && node.parentNode;\n    while (parent) {\n      if (parent.toString() === \"[object ShadowRoot]\") {\n        return true;\n      }\n      parent = parent.parentNode;\n    }\n    return false;\n  }\n  public componentDidMount() {\n    const {\n      className,\n      onBeforeLoad,\n      onValidate,\n      mode,\n      focus,\n      theme,\n      fontSize,\n      value,\n      defaultValue,\n      showGutter,\n      wrapEnabled,\n      showPrintMargin,\n      scrollMargin = [0, 0, 0, 0],\n      keyboardHandler,\n      onLoad,\n      commands,\n      annotations,\n      markers,\n      placeholder\n    } = this.props;\n\n    this.editor = ace.edit(this.refEditor);\n\n    if (onBeforeLoad) {\n      onBeforeLoad(ace);\n    }\n\n    const editorProps = Object.keys(this.props.editorProps);\n    for (let i = 0; i < editorProps.length; i++) {\n      this.editor[editorProps[i]] = this.props.editorProps[editorProps[i]];\n    }\n    if (this.props.debounceChangePeriod) {\n      this.onChange = this.debounce(\n        this.onChange,\n        this.props.debounceChangePeriod\n      );\n    }\n    this.editor.renderer.setScrollMargin(\n      scrollMargin[0],\n      scrollMargin[1],\n      scrollMargin[2],\n      scrollMargin[3]\n    );\n    if (this.isInShadow(this.refEditor)) {\n      this.editor.renderer.attachToShadowRoot();\n    }\n    this.editor\n      .getSession()\n      .setMode(\n        typeof mode === \"string\" ? `ace/mode/${mode}` : (mode as Ace.SyntaxMode)\n      );\n    if(theme && theme !== \"\")\n      this.editor.setTheme(`ace/theme/${theme}`);\n    this.editor.setFontSize(\n      typeof fontSize === \"number\" ? `${fontSize}px` : fontSize\n    );\n    this.editor\n      .getSession()\n      .setValue(!defaultValue ? value || \"\" : defaultValue);\n\n    if (this.props.navigateToFileEnd) {\n      this.editor.navigateFileEnd();\n    }\n    this.editor.renderer.setShowGutter(showGutter);\n    this.editor.getSession().setUseWrapMode(wrapEnabled);\n    this.editor.setShowPrintMargin(showPrintMargin);\n    this.editor.on(\"focus\", this.onFocus);\n    this.editor.on(\"blur\", this.onBlur);\n    this.editor.on(\"copy\", this.onCopy);\n    this.editor.on(\"paste\", this.onPaste);\n    this.editor.on(\"change\", this.onChange);\n    this.editor.on(\"input\", this.onInput);\n    if (placeholder) {\n      this.updatePlaceholder();\n    }\n    this.editor\n      .getSession()\n      .selection.on(\"changeSelection\", this.onSelectionChange);\n    this.editor.getSession().selection.on(\"changeCursor\", this.onCursorChange);\n    if (onValidate) {\n      // @ts-ignore types don't include\n      this.editor.getSession().on(\"changeAnnotation\", () => {\n        // tslint:disable-next-line:no-shadowed-variable\n        const annotations = this.editor.getSession().getAnnotations();\n        this.props.onValidate(annotations);\n      });\n    }\n    this.editor.session.on(\"changeScrollTop\", this.onScroll);\n    this.editor.getSession().setAnnotations(annotations || []);\n    if (markers && markers.length > 0) {\n      this.handleMarkers(markers);\n    }\n\n    // get a list of possible options to avoid 'misspelled option errors'\n    const availableOptions = this.editor.$options;\n    editorOptions.forEach(option => {\n      if (availableOptions.hasOwnProperty(option)) {\n        // @ts-ignore\n        this.editor.setOption(option, this.props[option]);\n      } else if (this.props[option]) {\n        console.warn(\n          `ReactAce: editor option ${option} was activated but not found. Did you need to import a related tool or did you possibly mispell the option?`\n        );\n      }\n    });\n\n    this.handleOptions(this.props);\n\n    if (Array.isArray(commands)) {\n      commands.forEach(command => {\n        if (typeof command.exec === \"string\") {\n          (this.editor.commands as any).bindKey(command.bindKey, command.exec);\n        } else {\n          (this.editor.commands as any).addCommand(command);\n        }\n      });\n    }\n\n    if (keyboardHandler) {\n      this.editor.setKeyboardHandler(\"ace/keyboard/\" + keyboardHandler);\n    }\n\n    if (className) {\n      this.refEditor.className += \" \" + className;\n    }\n\n    if (onLoad) {\n      onLoad(this.editor);\n    }\n\n    this.editor.resize();\n\n    if (focus) {\n      this.editor.focus();\n    }\n  }\n\n  public componentDidUpdate(prevProps: IAceEditorProps) {\n    const oldProps = prevProps;\n    const nextProps = this.props;\n\n    for (let i = 0; i < editorOptions.length; i++) {\n      const option = editorOptions[i];\n      if (nextProps[option] !== oldProps[option]) {\n        // @ts-ignore\n        this.editor.setOption(option, nextProps[option]);\n      }\n    }\n\n    if (nextProps.className !== oldProps.className) {\n      const appliedClasses = this.refEditor.className;\n      const appliedClassesArray = appliedClasses.trim().split(\" \");\n      const oldClassesArray = oldProps.className.trim().split(\" \");\n      oldClassesArray.forEach(oldClass => {\n        const index = appliedClassesArray.indexOf(oldClass);\n        appliedClassesArray.splice(index, 1);\n      });\n      this.refEditor.className =\n        \" \" + nextProps.className + \" \" + appliedClassesArray.join(\" \");\n    }\n\n    // First process editor value, as it may create a new session (see issue #300)\n    const valueChanged = this.editor &&\n      nextProps.value != null &&\n      this.editor.getValue() !== nextProps.value;\n\n    if (valueChanged) {\n      // editor.setValue is a synchronous function call, change event is emitted before setValue return.\n      this.silent = true;\n      const pos = this.editor.session.selection.toJSON();\n      this.editor.setValue(nextProps.value, nextProps.cursorStart);\n      this.editor.session.selection.fromJSON(pos);\n      this.silent = false;\n    }\n\n    if (nextProps.placeholder !== oldProps.placeholder) {\n      this.updatePlaceholder();\n    }\n    if (nextProps.mode !== oldProps.mode) {\n      this.editor\n        .getSession()\n        .setMode(\n          typeof nextProps.mode === \"string\"\n            ? `ace/mode/${nextProps.mode}`\n            : (nextProps.mode as Ace.SyntaxMode)\n        );\n    }\n    if (nextProps.theme !== oldProps.theme) {\n      this.editor.setTheme(\"ace/theme/\" + nextProps.theme);\n    }\n    if (nextProps.keyboardHandler !== oldProps.keyboardHandler) {\n      if (nextProps.keyboardHandler) {\n        this.editor.setKeyboardHandler(\n          \"ace/keyboard/\" + nextProps.keyboardHandler\n        );\n      } else {\n        this.editor.setKeyboardHandler(null);\n      }\n    }\n    if (nextProps.fontSize !== oldProps.fontSize) {\n      this.editor.setFontSize(\n        typeof nextProps.fontSize === \"number\"\n          ? `${nextProps.fontSize}px`\n          : nextProps.fontSize\n      );\n    }\n    if (nextProps.wrapEnabled !== oldProps.wrapEnabled) {\n      this.editor.getSession().setUseWrapMode(nextProps.wrapEnabled);\n    }\n    if (nextProps.showPrintMargin !== oldProps.showPrintMargin) {\n      this.editor.setShowPrintMargin(nextProps.showPrintMargin);\n    }\n    if (nextProps.showGutter !== oldProps.showGutter) {\n      this.editor.renderer.setShowGutter(nextProps.showGutter);\n    }\n    if (!isEqual(nextProps.setOptions, oldProps.setOptions)) {\n      this.handleOptions(nextProps);\n    }\n    // if the value or annotations changed, set the annotations\n    // changing the value may create create a new session which will require annotations to be re-set\n    if (valueChanged || !isEqual(nextProps.annotations, oldProps.annotations)) {\n      this.editor.getSession().setAnnotations(nextProps.annotations || []);\n    }\n    if (\n      !isEqual(nextProps.markers, oldProps.markers) &&\n      Array.isArray(nextProps.markers)\n    ) {\n      this.handleMarkers(nextProps.markers);\n    }\n\n    // this doesn't look like it works at all....\n    if (!isEqual(nextProps.scrollMargin, oldProps.scrollMargin)) {\n      this.handleScrollMargins(nextProps.scrollMargin);\n    }\n\n    if (\n      prevProps.height !== this.props.height ||\n      prevProps.width !== this.props.width\n    ) {\n      this.editor.resize();\n    }\n    if (this.props.focus && !prevProps.focus) {\n      this.editor.focus();\n    }\n  }\n\n  public handleScrollMargins(margins = [0, 0, 0, 0]) {\n    this.editor.renderer.setScrollMargin(\n      margins[0],\n      margins[1],\n      margins[2],\n      margins[3]\n    );\n  }\n\n  public componentWillUnmount() {\n    if (this.editor) {\n      this.editor.destroy();\n      this.editor = null;\n    }\n  }\n\n  public onChange(event: any) {\n    if (this.props.onChange && !this.silent) {\n      const value = this.editor.getValue();\n      this.props.onChange(value, event);\n    }\n  }\n\n  public onSelectionChange(event: any) {\n    if (this.props.onSelectionChange) {\n      const value = this.editor.getSelection();\n      this.props.onSelectionChange(value, event);\n    }\n  }\n  public onCursorChange(event: any) {\n    if (this.props.onCursorChange) {\n      const value = this.editor.getSelection();\n      this.props.onCursorChange(value, event);\n    }\n  }\n  public onInput(event?: any) {\n    if (this.props.onInput) {\n      this.props.onInput(event);\n    }\n    if (this.props.placeholder) {\n      this.updatePlaceholder();\n    }\n  }\n  public onFocus(event: any) {\n    if (this.props.onFocus) {\n      this.props.onFocus(event, this.editor);\n    }\n  }\n\n  public onBlur(event: any) {\n    if (this.props.onBlur) {\n      this.props.onBlur(event, this.editor);\n    }\n  }\n\n  public onCopy({ text }: { text: string }) {\n    if (this.props.onCopy) {\n      this.props.onCopy(text);\n    }\n  }\n\n  public onPaste({ text }: { text: string }) {\n    if (this.props.onPaste) {\n      this.props.onPaste(text);\n    }\n  }\n\n  public onScroll() {\n    if (this.props.onScroll) {\n      this.props.onScroll(this.editor);\n    }\n  }\n\n  public handleOptions(props: IAceEditorProps) {\n    const setOptions = Object.keys(props.setOptions);\n    for (let y = 0; y < setOptions.length; y++) {\n      // @ts-ignore\n      this.editor.setOption(setOptions[y], props.setOptions[setOptions[y]]);\n    }\n  }\n\n  public handleMarkers(markers: IMarker[]) {\n    // remove foreground markers\n    let currentMarkers = this.editor.getSession().getMarkers(true);\n    for (const i in currentMarkers) {\n      if (currentMarkers.hasOwnProperty(i)) {\n        this.editor.getSession().removeMarker(currentMarkers[i].id);\n      }\n    }\n    // remove background markers except active line marker and selected word marker\n    currentMarkers = this.editor.getSession().getMarkers(false);\n    for (const i in currentMarkers) {\n      if (\n        currentMarkers.hasOwnProperty(i) &&\n        currentMarkers[i].clazz !== \"ace_active-line\" &&\n        currentMarkers[i].clazz !== \"ace_selected-word\"\n      ) {\n        this.editor.getSession().removeMarker(currentMarkers[i].id);\n      }\n    }\n    // add new markers\n    markers.forEach(\n      ({\n        startRow,\n        startCol,\n        endRow,\n        endCol,\n        className,\n        type,\n        inFront = false\n      }) => {\n        const range = new Range(startRow, startCol, endRow, endCol);\n        this.editor.getSession().addMarker(range, className, type, inFront);\n      }\n    );\n  }\n\n  public updatePlaceholder() {\n    // Adapted from https://stackoverflow.com/questions/26695708/how-can-i-add-placeholder-text-when-the-editor-is-empty\n\n    const editor = this.editor;\n    const { placeholder } = this.props;\n\n    const showPlaceholder = !editor.session.getValue().length;\n    let node = editor.renderer.placeholderNode;\n\n    if (!showPlaceholder && node) {\n      editor.renderer.scroller.removeChild(editor.renderer.placeholderNode);\n      editor.renderer.placeholderNode = null;\n    } else if (showPlaceholder && !node) {\n      node = editor.renderer.placeholderNode = document.createElement(\"div\");\n      node.textContent = placeholder || \"\";\n      node.className = \"ace_comment ace_placeholder\";\n      node.style.padding = \"0 9px\";\n      node.style.position = \"absolute\";\n      node.style.zIndex = \"3\";\n      editor.renderer.scroller.appendChild(node);\n    } else if (showPlaceholder && node) {\n      node.textContent = placeholder;\n    }\n  }\n\n  public updateRef(item: HTMLElement) {\n    this.refEditor = item;\n  }\n\n  public render() {\n    const { name, width, height, style } = this.props;\n    const divStyle = { width, height, ...style };\n    return <div ref={this.updateRef} id={name} style={divStyle} />;\n  }\n}\n","import * as PropTypes from \"prop-types\";\nimport * as React from \"react\";\nimport SplitEditor from \"./split\";\nconst DiffMatchPatch = require(\"diff-match-patch\");\nimport { IEditorProps } from \"./types\";\n\nexport interface IDiffEditorProps {\n  cursorStart?: number;\n  editorProps?: object;\n  enableBasicAutocompletion?: boolean | string[];\n  enableLiveAutocompletion?: boolean | string[];\n  focus?: boolean;\n  fontSize?: number;\n  height?: string;\n  highlightActiveLine?: boolean;\n  maxLines?: number;\n  minLines?: number;\n  mode?: string;\n  name?: string;\n  className?: string;\n  onLoad?: (editor: IEditorProps) => void;\n  onChange?: (value: string[], event?: any) => void;\n  onPaste?: (value: string) => void;\n  onScroll?: (editor: IEditorProps) => void;\n  orientation?: string;\n  readOnly?: boolean;\n  scrollMargin?: number[];\n  setOptions?: object;\n  showGutter?: boolean;\n  showPrintMargin?: boolean;\n  splits?: number;\n  style?: object;\n  tabSize?: number;\n  theme?: string;\n  value?: string[];\n  width?: string;\n  wrapEnabled?: boolean;\n}\n\nexport interface IDiffEditorState {\n  value: string[];\n}\n\nexport default class DiffComponent extends React.Component<\n  IDiffEditorProps,\n  IDiffEditorState\n> {\n  public static propTypes: PropTypes.ValidationMap<IDiffEditorProps> = {\n    cursorStart: PropTypes.number,\n    editorProps: PropTypes.object,\n    enableBasicAutocompletion: PropTypes.bool,\n    enableLiveAutocompletion: PropTypes.bool,\n    focus: PropTypes.bool,\n    fontSize: PropTypes.number,\n    height: PropTypes.string,\n    highlightActiveLine: PropTypes.bool,\n    maxLines: PropTypes.number,\n    minLines: PropTypes.number,\n    mode: PropTypes.string,\n    name: PropTypes.string,\n    className: PropTypes.string,\n    onLoad: PropTypes.func,\n    onPaste: PropTypes.func,\n    onScroll: PropTypes.func,\n    onChange: PropTypes.func,\n    orientation: PropTypes.string,\n    readOnly: PropTypes.bool,\n    scrollMargin: PropTypes.array,\n    setOptions: PropTypes.object,\n    showGutter: PropTypes.bool,\n    showPrintMargin: PropTypes.bool,\n    splits: PropTypes.number,\n    style: PropTypes.object,\n    tabSize: PropTypes.number,\n    theme: PropTypes.string,\n    value: PropTypes.array,\n    width: PropTypes.string,\n    wrapEnabled: PropTypes.bool\n  };\n\n  public static defaultProps: Partial<IDiffEditorProps> = {\n    cursorStart: 1,\n    editorProps: {},\n    enableBasicAutocompletion: false,\n    enableLiveAutocompletion: false,\n    focus: false,\n    fontSize: 12,\n    height: \"500px\",\n    highlightActiveLine: true,\n    maxLines: null,\n    minLines: null,\n    mode: \"\",\n    name: \"ace-editor\",\n    onLoad: null,\n    onScroll: null,\n    onPaste: null,\n    onChange: null,\n    orientation: \"beside\",\n    readOnly: false,\n    scrollMargin: [0, 0, 0, 0],\n    setOptions: {},\n    showGutter: true,\n    showPrintMargin: true,\n    splits: 2,\n    style: {},\n    tabSize: 4,\n    theme: \"github\",\n    value: [\"\", \"\"],\n    width: \"500px\",\n    wrapEnabled: true\n  };\n  constructor(props: IDiffEditorProps) {\n    super(props);\n    this.state = {\n      value: this.props.value\n    };\n    this.onChange = this.onChange.bind(this);\n    this.diff = this.diff.bind(this);\n  }\n\n  public componentDidUpdate() {\n    const { value } = this.props;\n\n    if (value !== this.state.value) {\n      this.setState({ value });\n    }\n  }\n\n  public onChange(value: any) {\n    this.setState({\n      value\n    });\n    if (this.props.onChange) {\n      this.props.onChange(value);\n    }\n  }\n\n  public diff() {\n    const dmp = new DiffMatchPatch();\n    const lhString = this.state.value[0];\n    const rhString = this.state.value[1];\n\n    if (lhString.length === 0 && rhString.length === 0) {\n      return [];\n    }\n\n    const diff = dmp.diff_main(lhString, rhString);\n    dmp.diff_cleanupSemantic(diff);\n\n    const diffedLines = this.generateDiffedLines(diff);\n    const codeEditorSettings = this.setCodeMarkers(diffedLines);\n    return codeEditorSettings;\n  }\n\n  public generateDiffedLines(diff: any) {\n    const C = {\n      DIFF_EQUAL: 0,\n      DIFF_DELETE: -1,\n      DIFF_INSERT: 1\n    };\n\n    const diffedLines = {\n      left: [] as any[],\n      right: [] as any[]\n    };\n\n    const cursor = {\n      left: 1,\n      right: 1\n    };\n\n    diff.forEach((chunk: any) => {\n      const chunkType = chunk[0];\n      const text = chunk[1];\n      let lines = text.split(\"\\n\").length - 1;\n\n      // diff-match-patch sometimes returns empty strings at random\n      if (text.length === 0) {\n        return;\n      }\n\n      const firstChar = text[0];\n      const lastChar = text[text.length - 1];\n      let linesToHighlight = 0;\n\n      switch (chunkType) {\n        case C.DIFF_EQUAL:\n          cursor.left += lines;\n          cursor.right += lines;\n\n          break;\n        case C.DIFF_DELETE:\n          // If the deletion starts with a newline, push the cursor down to that line\n          if (firstChar === \"\\n\") {\n            cursor.left++;\n            lines--;\n          }\n\n          linesToHighlight = lines;\n\n          // If the deletion does not include a newline, highlight the same line on the right\n          if (linesToHighlight === 0) {\n            diffedLines.right.push({\n              startLine: cursor.right,\n              endLine: cursor.right\n            });\n          }\n\n          // If the last character is a newline, we don't want to highlight that line\n          if (lastChar === \"\\n\") {\n            linesToHighlight -= 1;\n          }\n\n          diffedLines.left.push({\n            startLine: cursor.left,\n            endLine: cursor.left + linesToHighlight\n          });\n\n          cursor.left += lines;\n          break;\n        case C.DIFF_INSERT:\n          // If the insertion starts with a newline, push the cursor down to that line\n          if (firstChar === \"\\n\") {\n            cursor.right++;\n            lines--;\n          }\n\n          linesToHighlight = lines;\n\n          // If the insertion does not include a newline, highlight the same line on the left\n          if (linesToHighlight === 0) {\n            diffedLines.left.push({\n              startLine: cursor.left,\n              endLine: cursor.left\n            });\n          }\n\n          // If the last character is a newline, we don't want to highlight that line\n          if (lastChar === \"\\n\") {\n            linesToHighlight -= 1;\n          }\n\n          diffedLines.right.push({\n            startLine: cursor.right,\n            endLine: cursor.right + linesToHighlight\n          });\n\n          cursor.right += lines;\n          break;\n        default:\n          throw new Error(\"Diff type was not defined.\");\n      }\n    });\n    return diffedLines;\n  }\n\n  // Receives a collection of line numbers and iterates through them to highlight appropriately\n  // Returns an object that tells the render() method how to display the code editors\n  public setCodeMarkers(diffedLines: any = { left: [], right: [] }) {\n    const codeEditorSettings = [];\n\n    const newMarkerSet = {\n      left: [] as any[],\n      right: [] as any[]\n    };\n\n    for (let i = 0; i < diffedLines.left.length; i++) {\n      const markerObj = {\n        startRow: diffedLines.left[i].startLine - 1,\n        endRow: diffedLines.left[i].endLine,\n        type: \"text\",\n        className: \"codeMarker\"\n      };\n      newMarkerSet.left.push(markerObj);\n    }\n\n    for (let i = 0; i < diffedLines.right.length; i++) {\n      const markerObj = {\n        startRow: diffedLines.right[i].startLine - 1,\n        endRow: diffedLines.right[i].endLine,\n        type: \"text\",\n        className: \"codeMarker\"\n      };\n      newMarkerSet.right.push(markerObj);\n    }\n\n    codeEditorSettings[0] = newMarkerSet.left;\n    codeEditorSettings[1] = newMarkerSet.right;\n\n    return codeEditorSettings;\n  }\n\n  public render() {\n    const markers = this.diff();\n    return (\n      <SplitEditor\n        name={this.props.name}\n        className={this.props.className}\n        focus={this.props.focus}\n        orientation={this.props.orientation}\n        splits={this.props.splits}\n        mode={this.props.mode}\n        theme={this.props.theme}\n        height={this.props.height}\n        width={this.props.width}\n        fontSize={this.props.fontSize}\n        showGutter={this.props.showGutter}\n        onChange={this.onChange}\n        onPaste={this.props.onPaste}\n        onLoad={this.props.onLoad}\n        onScroll={this.props.onScroll}\n        minLines={this.props.minLines}\n        maxLines={this.props.maxLines}\n        readOnly={this.props.readOnly}\n        highlightActiveLine={this.props.highlightActiveLine}\n        showPrintMargin={this.props.showPrintMargin}\n        tabSize={this.props.tabSize}\n        cursorStart={this.props.cursorStart}\n        editorProps={this.props.editorProps}\n        style={this.props.style}\n        scrollMargin={this.props.scrollMargin}\n        setOptions={this.props.setOptions}\n        wrapEnabled={this.props.wrapEnabled}\n        enableBasicAutocompletion={this.props.enableBasicAutocompletion}\n        enableLiveAutocompletion={this.props.enableLiveAutocompletion}\n        value={this.state.value}\n        markers={markers}\n      />\n    );\n  }\n}\n","import * as AceBuilds from \"ace-builds\";\n\ntype EditorOption =\n  | \"minLines\"\n  | \"maxLines\"\n  | \"readOnly\"\n  | \"highlightActiveLine\"\n  | \"tabSize\"\n  | \"enableBasicAutocompletion\"\n  | \"enableLiveAutocompletion\"\n  | \"enableSnippets\";\n\nconst editorOptions: EditorOption[] = [\n  \"minLines\",\n  \"maxLines\",\n  \"readOnly\",\n  \"highlightActiveLine\",\n  \"tabSize\",\n  \"enableBasicAutocompletion\",\n  \"enableLiveAutocompletion\",\n  \"enableSnippets\"\n];\n\ntype EditorEvent =\n  | \"onChange\"\n  | \"onFocus\"\n  | \"onInput\"\n  | \"onBlur\"\n  | \"onCopy\"\n  | \"onPaste\"\n  | \"onSelectionChange\"\n  | \"onCursorChange\"\n  | \"onScroll\"\n  | \"handleOptions\"\n  | \"updateRef\";\n\nconst editorEvents: EditorEvent[] = [\n  \"onChange\",\n  \"onFocus\",\n  \"onInput\",\n  \"onBlur\",\n  \"onCopy\",\n  \"onPaste\",\n  \"onSelectionChange\",\n  \"onCursorChange\",\n  \"onScroll\",\n  \"handleOptions\",\n  \"updateRef\"\n];\n\n// Typescript globals definition to allow us to create a window object during SSR.\ndeclare global {\n  namespace NodeJS {\n    // tslint:disable-next-line\n    interface Global {\n      window: any;\n    }\n  }\n}\nconst getAceInstance = (): typeof AceBuilds => {\n  let ace;\n  if (typeof window === \"undefined\") {\n    // ace-builds just needs some window object to attach ace to.\n    // During SSR even just an empty object will work.\n    global.window = {};\n    ace = require(\"ace-builds\");\n    // And it can be discarded immediately afterward to avoid confusing\n    // other libraries that might detect SSR the same way we did.\n    delete global.window;\n  } else if ((window as any).ace) {\n    // Fallback for ace.require when vanilla ACE is hosted over a CDN\n    ace = (window as any).ace;\n    ace.acequire = (window as any).ace.require || (window as any).ace.acequire;\n  } else {\n    ace = require(\"ace-builds\");\n  }\n  return ace;\n};\n\nconst debounce = (fn: (...args: any[]) => void, delay: number) => {\n  let timer: any = null;\n  // tslint:disable-next-line\n  return function () {\n    const context = this;\n    const args = arguments;\n    clearTimeout(timer);\n    timer = setTimeout(() => {\n      fn.apply(context, args);\n    }, delay);\n  };\n};\nexport { editorOptions, editorEvents, debounce, getAceInstance };\n","import ace, { IAceEditorProps } from \"./ace\";\nimport diff, { IDiffEditorProps, IDiffEditorState } from \"./diff\";\nimport split, { ISplitEditorProps } from \"./split\";\nimport {\n  IAceOptions,\n  IAnnotation,\n  ICommand,\n  ICommandBindKey,\n  ICommandManager,\n  IEditorProps,\n  IMarker\n} from \"./types\";\nexport {\n  split,\n  diff,\n  IAceOptions,\n  IAceEditorProps,\n  IAnnotation,\n  ICommand,\n  ICommandBindKey,\n  ICommandManager,\n  IDiffEditorProps,\n  IDiffEditorState,\n  IEditorProps,\n  IMarker,\n  ISplitEditorProps\n};\nexport default ace;\n","import {\n  debounce,\n  editorEvents,\n  editorOptions,\n  getAceInstance\n} from \"./editorOptions\";\nconst ace = getAceInstance();\nimport { Ace, Range } from \"ace-builds\";\nimport Editor = Ace.Editor;\nimport { Split } from \"ace-builds/src-noconflict/ext-split\";\nimport * as PropTypes from \"prop-types\";\nimport * as React from \"react\";\nconst isEqual = require(\"lodash.isequal\");\nconst get = require(\"lodash.get\");\nimport {\n  IAceOptions,\n  IAnnotation,\n  ICommand,\n  IEditorProps,\n  IMarker\n} from \"./types\";\n\ninterface IAceEditorClass extends Editor {\n  [index: string]: any;\n  $options?: any;\n}\n\nexport interface ISplitEditorProps {\n  [index: string]: any;\n  name?: string;\n  style?: object;\n  /** For available modes see https://github.com/thlorenz/brace/tree/master/mode */\n  mode?: string;\n  /** For available themes see https://github.com/thlorenz/brace/tree/master/theme */\n  theme?: string;\n  height?: string;\n  width?: string;\n  className?: string;\n  fontSize?: number | string;\n  showGutter?: boolean;\n  showPrintMargin?: boolean;\n  highlightActiveLine?: boolean;\n  focus?: boolean;\n  splits: number;\n  debounceChangePeriod?: number;\n  cursorStart?: number;\n  wrapEnabled?: boolean;\n  readOnly?: boolean;\n  minLines?: number;\n  maxLines?: number;\n  enableBasicAutocompletion?: boolean | string[];\n  enableLiveAutocompletion?: boolean | string[];\n  tabSize?: number;\n  value?: string[];\n  defaultValue?: string[];\n  scrollMargin?: number[];\n  orientation?: string;\n  onSelectionChange?: (value: any, event?: any) => void;\n  onCursorChange?: (value: any, event?: any) => void;\n  onInput?: (event?: any) => void;\n  onLoad?: (editor: IEditorProps) => void;\n  onBeforeLoad?: (ace: any) => void;\n  onChange?: (value: string[], event?: any) => void;\n  onSelection?: (selectedText: string, event?: any) => void;\n  onCopy?: (value: string) => void;\n  onPaste?: (value: string) => void;\n  onFocus?: (value: Event) => void;\n  onBlur?: (value: Event) => void;\n  onScroll?: (editor: IEditorProps) => void;\n  editorProps?: IEditorProps;\n  setOptions?: IAceOptions;\n  keyboardHandler?: string;\n  commands?: ICommand[];\n  annotations?: IAnnotation[][];\n  markers?: IMarker[][];\n}\n\nexport default class SplitComponent extends React.Component<\n  ISplitEditorProps,\n  undefined\n> {\n  [index: string]: any;\n\n  public static propTypes: PropTypes.ValidationMap<ISplitEditorProps> = {\n    className: PropTypes.string,\n    debounceChangePeriod: PropTypes.number,\n    defaultValue: PropTypes.arrayOf(PropTypes.string),\n    focus: PropTypes.bool,\n    fontSize: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    height: PropTypes.string,\n    mode: PropTypes.string,\n    name: PropTypes.string,\n    onBlur: PropTypes.func,\n    onChange: PropTypes.func,\n    onCopy: PropTypes.func,\n    onFocus: PropTypes.func,\n    onInput: PropTypes.func,\n    onLoad: PropTypes.func,\n    onPaste: PropTypes.func,\n    onScroll: PropTypes.func,\n    orientation: PropTypes.string,\n    showGutter: PropTypes.bool,\n    splits: PropTypes.number,\n    theme: PropTypes.string,\n    value: PropTypes.arrayOf(PropTypes.string),\n    width: PropTypes.string,\n    onSelectionChange: PropTypes.func,\n    onCursorChange: PropTypes.func,\n    onBeforeLoad: PropTypes.func,\n    minLines: PropTypes.number,\n    maxLines: PropTypes.number,\n    readOnly: PropTypes.bool,\n    highlightActiveLine: PropTypes.bool,\n    tabSize: PropTypes.number,\n    showPrintMargin: PropTypes.bool,\n    cursorStart: PropTypes.number,\n    editorProps: PropTypes.object,\n    setOptions: PropTypes.object,\n    style: PropTypes.object,\n    scrollMargin: PropTypes.array,\n    annotations: PropTypes.array,\n    markers: PropTypes.array,\n    keyboardHandler: PropTypes.string,\n    wrapEnabled: PropTypes.bool,\n    enableBasicAutocompletion: PropTypes.oneOfType([\n      PropTypes.bool,\n      PropTypes.array\n    ]),\n    enableLiveAutocompletion: PropTypes.oneOfType([\n      PropTypes.bool,\n      PropTypes.array\n    ]),\n    commands: PropTypes.array\n  };\n  public static defaultProps: Partial<ISplitEditorProps> = {\n    name: \"ace-editor\",\n    focus: false,\n    orientation: \"beside\",\n    splits: 2,\n    mode: \"\",\n    theme: \"\",\n    height: \"500px\",\n    width: \"500px\",\n    value: [],\n    fontSize: 12,\n    showGutter: true,\n    onChange: null,\n    onPaste: null,\n    onLoad: null,\n    onScroll: null,\n    minLines: null,\n    maxLines: null,\n    readOnly: false,\n    highlightActiveLine: true,\n    showPrintMargin: true,\n    tabSize: 4,\n    cursorStart: 1,\n    editorProps: {},\n    style: {},\n    scrollMargin: [0, 0, 0, 0],\n    setOptions: {},\n    wrapEnabled: false,\n    enableBasicAutocompletion: false,\n    enableLiveAutocompletion: false\n  };\n  public editor: IAceEditorClass;\n  public refEditor: HTMLElement;\n  public silent: boolean;\n  public split: IAceEditorClass;\n  public splitEditor: IAceEditorClass;\n  public debounce: (fn: any, delay: number) => (...args: any) => void;\n  constructor(props: ISplitEditorProps) {\n    super(props);\n    editorEvents.forEach(method => {\n      this[method] = this[method].bind(this);\n    });\n    this.debounce = debounce;\n  }\n  public isInShadow(node: HTMLElement): boolean {\n    let parent = node && node.parentNode;\n    while (parent) {\n      if (parent.toString() === \"[object ShadowRoot]\") {\n        return true;\n      }\n      parent = parent.parentNode;\n    }\n    return false;\n  }\n  public componentDidMount() {\n    const {\n      className,\n      onBeforeLoad,\n      mode,\n      focus,\n      theme,\n      fontSize,\n      value,\n      defaultValue,\n      cursorStart,\n      showGutter,\n      wrapEnabled,\n      showPrintMargin,\n      scrollMargin = [0, 0, 0, 0],\n      keyboardHandler,\n      onLoad,\n      commands,\n      annotations,\n      markers,\n      splits\n    } = this.props;\n\n    this.editor = ace.edit(this.refEditor);\n    if (this.isInShadow(this.refEditor)) {\n      this.editor.renderer.attachToShadowRoot();\n    }\n    this.editor.setTheme(`ace/theme/${theme}`);\n\n    if (onBeforeLoad) {\n      onBeforeLoad(ace);\n    }\n\n    const editorProps = Object.keys(this.props.editorProps);\n\n    const split = new Split(\n      this.editor.container,\n      `ace/theme/${theme}`,\n      splits\n    );\n    this.editor.env.split = split;\n\n    this.splitEditor = split.getEditor(0);\n    this.split = split;\n    // in a split scenario we don't want a print margin for the entire application\n    this.editor.setShowPrintMargin(false);\n    this.editor.renderer.setShowGutter(false);\n    // get a list of possible options to avoid 'misspelled option errors'\n    const availableOptions = this.splitEditor.$options;\n    if (this.props.debounceChangePeriod) {\n      this.onChange = this.debounce(\n        this.onChange,\n        this.props.debounceChangePeriod\n      );\n    }\n    split.forEach((editor: IAceEditorClass, index: number) => {\n      for (let i = 0; i < editorProps.length; i++) {\n        editor[editorProps[i]] = this.props.editorProps[editorProps[i]];\n      }\n      const defaultValueForEditor = get(defaultValue, index);\n      const valueForEditor = get(value, index, \"\");\n      editor.session.setUndoManager(new ace.UndoManager());\n      editor.setTheme(`ace/theme/${theme}`);\n      editor.renderer.setScrollMargin(\n        scrollMargin[0],\n        scrollMargin[1],\n        scrollMargin[2],\n        scrollMargin[3]\n      );\n      editor.getSession().setMode(`ace/mode/${mode}`);\n      editor.setFontSize(fontSize as any);\n      editor.renderer.setShowGutter(showGutter);\n      editor.getSession().setUseWrapMode(wrapEnabled);\n      editor.setShowPrintMargin(showPrintMargin);\n      editor.on(\"focus\", this.onFocus);\n      editor.on(\"blur\", this.onBlur);\n      editor.on(\"input\" as any, this.onInput);\n      editor.on(\"copy\", this.onCopy as any);\n      editor.on(\"paste\", this.onPaste as any);\n      editor.on(\"change\", this.onChange);\n      editor\n        .getSession()\n        .selection.on(\"changeSelection\", this.onSelectionChange);\n      editor.getSession().selection.on(\"changeCursor\", this.onCursorChange);\n      editor.session.on(\"changeScrollTop\", this.onScroll);\n      editor.setValue(\n        defaultValueForEditor === undefined\n          ? valueForEditor\n          : defaultValueForEditor,\n        cursorStart\n      );\n      const newAnnotations = get(annotations, index, []);\n      const newMarkers = get(markers, index, []);\n      editor.getSession().setAnnotations(newAnnotations);\n      if (newMarkers && newMarkers.length > 0) {\n        this.handleMarkers(newMarkers, editor);\n      }\n\n      for (let i = 0; i < editorOptions.length; i++) {\n        const option = editorOptions[i];\n        if (availableOptions.hasOwnProperty(option)) {\n          editor.setOption(option as any, this.props[option]);\n        } else if (this.props[option]) {\n          console.warn(\n            `ReaceAce: editor option ${option} was activated but not found. Did you need to import a related tool or did you possibly mispell the option?`\n          );\n        }\n      }\n      this.handleOptions(this.props, editor);\n\n      if (Array.isArray(commands)) {\n        commands.forEach(command => {\n          if (typeof command.exec === \"string\") {\n            (editor.commands as any).bindKey(command.bindKey, command.exec);\n          } else {\n            (editor.commands as any).addCommand(command);\n          }\n        });\n      }\n\n      if (keyboardHandler) {\n        editor.setKeyboardHandler(\"ace/keyboard/\" + keyboardHandler);\n      }\n    });\n\n    if (className) {\n      this.refEditor.className += \" \" + className;\n    }\n\n    if (focus) {\n      this.splitEditor.focus();\n    }\n\n    const sp = this.editor.env.split;\n    sp.setOrientation(\n      this.props.orientation === \"below\" ? sp.BELOW : sp.BESIDE\n    );\n    sp.resize(true);\n    if (onLoad) {\n      onLoad(sp);\n    }\n  }\n\n  public componentDidUpdate(prevProps: ISplitEditorProps) {\n    const oldProps = prevProps;\n    const nextProps = this.props;\n\n    const split = this.editor.env.split;\n\n    if (nextProps.splits !== oldProps.splits) {\n      split.setSplits(nextProps.splits);\n    }\n\n    if (nextProps.orientation !== oldProps.orientation) {\n      split.setOrientation(\n        nextProps.orientation === \"below\" ? split.BELOW : split.BESIDE\n      );\n    }\n\n    split.forEach((editor: IAceEditorClass, index: number) => {\n      if (nextProps.mode !== oldProps.mode) {\n        editor.getSession().setMode(\"ace/mode/\" + nextProps.mode);\n      }\n      if (nextProps.keyboardHandler !== oldProps.keyboardHandler) {\n        if (nextProps.keyboardHandler) {\n          editor.setKeyboardHandler(\n            \"ace/keyboard/\" + nextProps.keyboardHandler\n          );\n        } else {\n          editor.setKeyboardHandler(null);\n        }\n      }\n      if (nextProps.fontSize !== oldProps.fontSize) {\n        editor.setFontSize(nextProps.fontSize as any);\n      }\n      if (nextProps.wrapEnabled !== oldProps.wrapEnabled) {\n        editor.getSession().setUseWrapMode(nextProps.wrapEnabled);\n      }\n      if (nextProps.showPrintMargin !== oldProps.showPrintMargin) {\n        editor.setShowPrintMargin(nextProps.showPrintMargin);\n      }\n      if (nextProps.showGutter !== oldProps.showGutter) {\n        editor.renderer.setShowGutter(nextProps.showGutter);\n      }\n\n      for (let i = 0; i < editorOptions.length; i++) {\n        const option = editorOptions[i];\n        if (nextProps[option] !== oldProps[option]) {\n          editor.setOption(option as any, nextProps[option]);\n        }\n      }\n      if (!isEqual(nextProps.setOptions, oldProps.setOptions)) {\n        this.handleOptions(nextProps, editor);\n      }\n      const nextValue = get(nextProps.value, index, \"\");\n      if (editor.getValue() !== nextValue) {\n        // editor.setValue is a synchronous function call, change event is emitted before setValue return.\n        this.silent = true;\n        const pos = (editor.session.selection as any).toJSON();\n        editor.setValue(nextValue, nextProps.cursorStart);\n        (editor.session.selection as any).fromJSON(pos);\n        this.silent = false;\n      }\n      const newAnnotations = get(nextProps.annotations, index, []);\n      const oldAnnotations = get(oldProps.annotations, index, []);\n      if (!isEqual(newAnnotations, oldAnnotations)) {\n        editor.getSession().setAnnotations(newAnnotations);\n      }\n\n      const newMarkers = get(nextProps.markers, index, []);\n      const oldMarkers = get(oldProps.markers, index, []);\n      if (!isEqual(newMarkers, oldMarkers) && Array.isArray(newMarkers)) {\n        this.handleMarkers(newMarkers, editor);\n      }\n    });\n\n    if (nextProps.className !== oldProps.className) {\n      const appliedClasses = this.refEditor.className;\n      const appliedClassesArray = appliedClasses.trim().split(\" \");\n      const oldClassesArray = oldProps.className.trim().split(\" \");\n      oldClassesArray.forEach(oldClass => {\n        const index = appliedClassesArray.indexOf(oldClass);\n        appliedClassesArray.splice(index, 1);\n      });\n      this.refEditor.className =\n        \" \" + nextProps.className + \" \" + appliedClassesArray.join(\" \");\n    }\n\n    if (nextProps.theme !== oldProps.theme) {\n      split.setTheme(\"ace/theme/\" + nextProps.theme);\n    }\n\n    if (nextProps.focus && !oldProps.focus) {\n      this.splitEditor.focus();\n    }\n    if (\n      nextProps.height !== this.props.height ||\n      nextProps.width !== this.props.width\n    ) {\n      this.editor.resize();\n    }\n  }\n\n  public componentWillUnmount() {\n    this.editor.destroy();\n    this.editor = null;\n  }\n\n  public onChange(event: any) {\n    if (this.props.onChange && !this.silent) {\n      const value: any = [];\n      this.editor.env.split.forEach((editor: IAceEditorClass) => {\n        value.push(editor.getValue());\n      });\n      this.props.onChange(value, event);\n    }\n  }\n\n  public onSelectionChange(event: any) {\n    if (this.props.onSelectionChange) {\n      const value: any = [];\n      this.editor.env.split.forEach((editor: IAceEditorClass) => {\n        value.push(editor.getSelection());\n      });\n      this.props.onSelectionChange(value, event);\n    }\n  }\n  public onCursorChange(event: any) {\n    if (this.props.onCursorChange) {\n      const value: any = [];\n      this.editor.env.split.forEach((editor: IAceEditorClass) => {\n        value.push(editor.getSelection());\n      });\n      this.props.onCursorChange(value, event);\n    }\n  }\n  public onFocus(event: any) {\n    if (this.props.onFocus) {\n      this.props.onFocus(event);\n    }\n  }\n\n  public onInput(event: any) {\n    if (this.props.onInput) {\n      this.props.onInput(event);\n    }\n  }\n\n  public onBlur(event: any) {\n    if (this.props.onBlur) {\n      this.props.onBlur(event);\n    }\n  }\n\n  public onCopy(text: string) {\n    if (this.props.onCopy) {\n      this.props.onCopy(text);\n    }\n  }\n\n  public onPaste(text: string) {\n    if (this.props.onPaste) {\n      this.props.onPaste(text);\n    }\n  }\n\n  public onScroll() {\n    if (this.props.onScroll) {\n      this.props.onScroll(this.editor);\n    }\n  }\n\n  public handleOptions(props: ISplitEditorProps, editor: IAceEditorClass) {\n    const setOptions = Object.keys(props.setOptions);\n    for (let y = 0; y < setOptions.length; y++) {\n      editor.setOption(setOptions[y] as any, props.setOptions[setOptions[y]]);\n    }\n  }\n\n  public handleMarkers(markers: IMarker[], editor: IAceEditorClass) {\n    // remove foreground markers\n    let currentMarkers = editor.getSession().getMarkers(true);\n    for (const i in currentMarkers) {\n      if (currentMarkers.hasOwnProperty(i)) {\n        editor.getSession().removeMarker(currentMarkers[i].id);\n      }\n    }\n    // remove background markers\n    currentMarkers = editor.getSession().getMarkers(false);\n    for (const i in currentMarkers) {\n      if (currentMarkers.hasOwnProperty(i)) {\n        editor.getSession().removeMarker(currentMarkers[i].id);\n      }\n    }\n    // add new markers\n    markers.forEach(\n      ({\n        startRow,\n        startCol,\n        endRow,\n        endCol,\n        className,\n        type,\n        inFront = false\n      }) => {\n        const range = new Range(startRow, startCol, endRow, endCol);\n        editor\n          .getSession()\n          .addMarker(range as any, className, type as any, inFront);\n      }\n    );\n  }\n\n  public updateRef(item: HTMLElement) {\n    this.refEditor = item;\n  }\n\n  public render() {\n    const { name, width, height, style } = this.props;\n    const divStyle = { width, height, ...style };\n    return <div ref={this.updateRef} id={name} style={divStyle} />;\n  }\n}\n","/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\n/**\n * Define a module along with a payload\n * @param module a name for the payload\n * @param payload a function to call with (require, exports, module) params\n */\n\n(function() {\n\nvar ACE_NAMESPACE = \"ace\";\n\nvar global = (function() { return this; })();\nif (!global && typeof window != \"undefined\") global = window; // strict mode\n\n\nif (!ACE_NAMESPACE && typeof requirejs !== \"undefined\")\n    return;\n\n\nvar define = function(module, deps, payload) {\n    if (typeof module !== \"string\") {\n        if (define.original)\n            define.original.apply(this, arguments);\n        else {\n            console.error(\"dropping module because define wasn\\'t a string.\");\n            console.trace();\n        }\n        return;\n    }\n    if (arguments.length == 2)\n        payload = deps;\n    if (!define.modules[module]) {\n        define.payloads[module] = payload;\n        define.modules[module] = null;\n    }\n};\n\ndefine.modules = {};\ndefine.payloads = {};\n\n/**\n * Get at functionality define()ed using the function above\n */\nvar _require = function(parentId, module, callback) {\n    if (typeof module === \"string\") {\n        var payload = lookup(parentId, module);\n        if (payload != undefined) {\n            callback && callback();\n            return payload;\n        }\n    } else if (Object.prototype.toString.call(module) === \"[object Array]\") {\n        var params = [];\n        for (var i = 0, l = module.length; i < l; ++i) {\n            var dep = lookup(parentId, module[i]);\n            if (dep == undefined && require.original)\n                return;\n            params.push(dep);\n        }\n        return callback && callback.apply(null, params) || true;\n    }\n};\n\nvar require = function(module, callback) {\n    var packagedModule = _require(\"\", module, callback);\n    if (packagedModule == undefined && require.original)\n        return require.original.apply(this, arguments);\n    return packagedModule;\n};\n\nvar normalizeModule = function(parentId, moduleName) {\n    // normalize plugin requires\n    if (moduleName.indexOf(\"!\") !== -1) {\n        var chunks = moduleName.split(\"!\");\n        return normalizeModule(parentId, chunks[0]) + \"!\" + normalizeModule(parentId, chunks[1]);\n    }\n    // normalize relative requires\n    if (moduleName.charAt(0) == \".\") {\n        var base = parentId.split(\"/\").slice(0, -1).join(\"/\");\n        moduleName = base + \"/\" + moduleName;\n\n        while(moduleName.indexOf(\".\") !== -1 && previous != moduleName) {\n            var previous = moduleName;\n            moduleName = moduleName.replace(/\\/\\.\\//, \"/\").replace(/[^\\/]+\\/\\.\\.\\//, \"\");\n        }\n    }\n    return moduleName;\n};\n\n/**\n * Internal function to lookup moduleNames and resolve them by calling the\n * definition function if needed.\n */\nvar lookup = function(parentId, moduleName) {\n    moduleName = normalizeModule(parentId, moduleName);\n\n    var module = define.modules[moduleName];\n    if (!module) {\n        module = define.payloads[moduleName];\n        if (typeof module === 'function') {\n            var exports = {};\n            var mod = {\n                id: moduleName,\n                uri: '',\n                exports: exports,\n                packaged: true\n            };\n\n            var req = function(module, callback) {\n                return _require(moduleName, module, callback);\n            };\n\n            var returnValue = module(req, exports, mod);\n            exports = returnValue || mod.exports;\n            define.modules[moduleName] = exports;\n            delete define.payloads[moduleName];\n        }\n        module = define.modules[moduleName] = exports || module;\n    }\n    return module;\n};\n\nfunction exportAce(ns) {\n    var root = global;\n    if (ns) {\n        if (!global[ns])\n            global[ns] = {};\n        root = global[ns];\n    }\n\n    if (!root.define || !root.define.packaged) {\n        define.original = root.define;\n        root.define = define;\n        root.define.packaged = true;\n    }\n\n    if (!root.require || !root.require.packaged) {\n        require.original = root.require;\n        root.require = require;\n        root.require.packaged = true;\n    }\n}\n\nexportAce(ACE_NAMESPACE);\n\n})();\n\nace.define(\"ace/lib/es6-shim\",[\"require\",\"exports\",\"module\"], function(require, exports, module){function defineProp(obj, name, val) {\n    Object.defineProperty(obj, name, {\n        value: val,\n        enumerable: false,\n        writable: true,\n        configurable: true\n    });\n}\nif (!String.prototype.startsWith) {\n    defineProp(String.prototype, \"startsWith\", function (searchString, position) {\n        position = position || 0;\n        return this.lastIndexOf(searchString, position) === position;\n    });\n}\nif (!String.prototype.endsWith) {\n    defineProp(String.prototype, \"endsWith\", function (searchString, position) {\n        var subjectString = this;\n        if (position === undefined || position > subjectString.length) {\n            position = subjectString.length;\n        }\n        position -= searchString.length;\n        var lastIndex = subjectString.indexOf(searchString, position);\n        return lastIndex !== -1 && lastIndex === position;\n    });\n}\nif (!String.prototype.repeat) {\n    defineProp(String.prototype, \"repeat\", function (count) {\n        var result = \"\";\n        var string = this;\n        while (count > 0) {\n            if (count & 1)\n                result += string;\n            if ((count >>= 1))\n                string += string;\n        }\n        return result;\n    });\n}\nif (!String.prototype.includes) {\n    defineProp(String.prototype, \"includes\", function (str, position) {\n        return this.indexOf(str, position) != -1;\n    });\n}\nif (!Object.assign) {\n    Object.assign = function (target) {\n        if (target === undefined || target === null) {\n            throw new TypeError(\"Cannot convert undefined or null to object\");\n        }\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                Object.keys(source).forEach(function (key) {\n                    output[key] = source[key];\n                });\n            }\n        }\n        return output;\n    };\n}\nif (!Object.values) {\n    Object.values = function (o) {\n        return Object.keys(o).map(function (k) {\n            return o[k];\n        });\n    };\n}\nif (!Array.prototype.find) {\n    defineProp(Array.prototype, \"find\", function (predicate) {\n        var len = this.length;\n        var thisArg = arguments[1];\n        for (var k = 0; k < len; k++) {\n            var kValue = this[k];\n            if (predicate.call(thisArg, kValue, k, this)) {\n                return kValue;\n            }\n        }\n    });\n}\nif (!Array.prototype.findIndex) {\n    defineProp(Array.prototype, \"findIndex\", function (predicate) {\n        var len = this.length;\n        var thisArg = arguments[1];\n        for (var k = 0; k < len; k++) {\n            var kValue = this[k];\n            if (predicate.call(thisArg, kValue, k, this)) {\n                return k;\n            }\n        }\n    });\n}\nif (!Array.prototype.includes) {\n    defineProp(Array.prototype, \"includes\", function (item, position) {\n        return this.indexOf(item, position) != -1;\n    });\n}\nif (!Array.prototype.fill) {\n    defineProp(Array.prototype, \"fill\", function (value) {\n        var O = this;\n        var len = O.length >>> 0;\n        var start = arguments[1];\n        var relativeStart = start >> 0;\n        var k = relativeStart < 0\n            ? Math.max(len + relativeStart, 0)\n            : Math.min(relativeStart, len);\n        var end = arguments[2];\n        var relativeEnd = end === undefined ? len : end >> 0;\n        var final = relativeEnd < 0\n            ? Math.max(len + relativeEnd, 0)\n            : Math.min(relativeEnd, len);\n        while (k < final) {\n            O[k] = value;\n            k++;\n        }\n        return O;\n    });\n}\nif (!Array.of) {\n    defineProp(Array, \"of\", function () {\n        return Array.prototype.slice.call(arguments);\n    });\n}\n\n});\n\nace.define(\"ace/lib/fixoldbrowsers\",[\"require\",\"exports\",\"module\",\"ace/lib/es6-shim\"], function(require, exports, module){// vim:set ts=4 sts=4 sw=4 st:\n\"use strict\";\nrequire(\"./es6-shim\");\n\n});\n\nace.define(\"ace/lib/lang\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nexports.last = function (a) {\n    return a[a.length - 1];\n};\nexports.stringReverse = function (string) {\n    return string.split(\"\").reverse().join(\"\");\n};\nexports.stringRepeat = function (string, count) {\n    var result = '';\n    while (count > 0) {\n        if (count & 1)\n            result += string;\n        if (count >>= 1)\n            string += string;\n    }\n    return result;\n};\nvar trimBeginRegexp = /^\\s\\s*/;\nvar trimEndRegexp = /\\s\\s*$/;\nexports.stringTrimLeft = function (string) {\n    return string.replace(trimBeginRegexp, '');\n};\nexports.stringTrimRight = function (string) {\n    return string.replace(trimEndRegexp, '');\n};\nexports.copyObject = function (obj) {\n    var copy = {};\n    for (var key in obj) {\n        copy[key] = obj[key];\n    }\n    return copy;\n};\nexports.copyArray = function (array) {\n    var copy = [];\n    for (var i = 0, l = array.length; i < l; i++) {\n        if (array[i] && typeof array[i] == \"object\")\n            copy[i] = this.copyObject(array[i]);\n        else\n            copy[i] = array[i];\n    }\n    return copy;\n};\nexports.deepCopy = function deepCopy(obj) {\n    if (typeof obj !== \"object\" || !obj)\n        return obj;\n    var copy;\n    if (Array.isArray(obj)) {\n        copy = [];\n        for (var key = 0; key < obj.length; key++) {\n            copy[key] = deepCopy(obj[key]);\n        }\n        return copy;\n    }\n    if (Object.prototype.toString.call(obj) !== \"[object Object]\")\n        return obj;\n    copy = {};\n    for (var key in obj)\n        copy[key] = deepCopy(obj[key]);\n    return copy;\n};\nexports.arrayToMap = function (arr) {\n    var map = {};\n    for (var i = 0; i < arr.length; i++) {\n        map[arr[i]] = 1;\n    }\n    return map;\n};\nexports.createMap = function (props) {\n    var map = Object.create(null);\n    for (var i in props) {\n        map[i] = props[i];\n    }\n    return map;\n};\nexports.arrayRemove = function (array, value) {\n    for (var i = 0; i <= array.length; i++) {\n        if (value === array[i]) {\n            array.splice(i, 1);\n        }\n    }\n};\nexports.escapeRegExp = function (str) {\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n};\nexports.escapeHTML = function (str) {\n    return (\"\" + str).replace(/&/g, \"&#38;\").replace(/\"/g, \"&#34;\").replace(/'/g, \"&#39;\").replace(/</g, \"&#60;\");\n};\nexports.getMatchOffsets = function (string, regExp) {\n    var matches = [];\n    string.replace(regExp, function (str) {\n        matches.push({\n            offset: arguments[arguments.length - 2],\n            length: str.length\n        });\n    });\n    return matches;\n};\nexports.deferredCall = function (fcn) {\n    var timer = null;\n    var callback = function () {\n        timer = null;\n        fcn();\n    };\n    var deferred = function (timeout) {\n        deferred.cancel();\n        timer = setTimeout(callback, timeout || 0);\n        return deferred;\n    };\n    deferred.schedule = deferred;\n    deferred.call = function () {\n        this.cancel();\n        fcn();\n        return deferred;\n    };\n    deferred.cancel = function () {\n        clearTimeout(timer);\n        timer = null;\n        return deferred;\n    };\n    deferred.isPending = function () {\n        return timer;\n    };\n    return deferred;\n};\nexports.delayedCall = function (fcn, defaultTimeout) {\n    var timer = null;\n    var callback = function () {\n        timer = null;\n        fcn();\n    };\n    var _self = function (timeout) {\n        if (timer == null)\n            timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.delay = function (timeout) {\n        timer && clearTimeout(timer);\n        timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.schedule = _self;\n    _self.call = function () {\n        this.cancel();\n        fcn();\n    };\n    _self.cancel = function () {\n        timer && clearTimeout(timer);\n        timer = null;\n    };\n    _self.isPending = function () {\n        return timer;\n    };\n    return _self;\n};\n\n});\n\nace.define(\"ace/lib/oop\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nexports.inherits = function (ctor, superCtor) {\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n            value: ctor,\n            enumerable: false,\n            writable: true,\n            configurable: true\n        }\n    });\n};\nexports.mixin = function (obj, mixin) {\n    for (var key in mixin) {\n        obj[key] = mixin[key];\n    }\n    return obj;\n};\nexports.implement = function (proto, mixin) {\n    exports.mixin(proto, mixin);\n};\n\n});\n\nace.define(\"ace/lib/useragent\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nexports.OS = {\n    LINUX: \"LINUX\",\n    MAC: \"MAC\",\n    WINDOWS: \"WINDOWS\"\n};\nexports.getOS = function () {\n    if (exports.isMac) {\n        return exports.OS.MAC;\n    }\n    else if (exports.isLinux) {\n        return exports.OS.LINUX;\n    }\n    else {\n        return exports.OS.WINDOWS;\n    }\n};\nvar _navigator = typeof navigator == \"object\" ? navigator : {};\nvar os = (/mac|win|linux/i.exec(_navigator.platform) || [\"other\"])[0].toLowerCase();\nvar ua = _navigator.userAgent || \"\";\nvar appName = _navigator.appName || \"\";\nexports.isWin = (os == \"win\");\nexports.isMac = (os == \"mac\");\nexports.isLinux = (os == \"linux\");\nexports.isIE =\n    (appName == \"Microsoft Internet Explorer\" || appName.indexOf(\"MSAppHost\") >= 0)\n        ? parseFloat((ua.match(/(?:MSIE |Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/) || [])[1])\n        : parseFloat((ua.match(/(?:Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/) || [])[1]); // for ie\nexports.isOldIE = exports.isIE && exports.isIE < 9;\nexports.isGecko = exports.isMozilla = ua.match(/ Gecko\\/\\d+/);\nexports.isOpera = typeof opera == \"object\" && Object.prototype.toString.call(window.opera) == \"[object Opera]\";\nexports.isWebKit = parseFloat(ua.split(\"WebKit/\")[1]) || undefined;\nexports.isChrome = parseFloat(ua.split(\" Chrome/\")[1]) || undefined;\nexports.isEdge = parseFloat(ua.split(\" Edge/\")[1]) || undefined;\nexports.isAIR = ua.indexOf(\"AdobeAIR\") >= 0;\nexports.isAndroid = ua.indexOf(\"Android\") >= 0;\nexports.isChromeOS = ua.indexOf(\" CrOS \") >= 0;\nexports.isIOS = /iPad|iPhone|iPod/.test(ua) && !window.MSStream;\nif (exports.isIOS)\n    exports.isMac = true;\nexports.isMobile = exports.isIOS || exports.isAndroid;\n\n});\n\nace.define(\"ace/lib/dom\",[\"require\",\"exports\",\"module\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar useragent = require(\"./useragent\");\nvar XHTML_NS = \"http://www.w3.org/1999/xhtml\";\nexports.buildDom = function buildDom(arr, parent, refs) {\n    if (typeof arr == \"string\" && arr) {\n        var txt = document.createTextNode(arr);\n        if (parent)\n            parent.appendChild(txt);\n        return txt;\n    }\n    if (!Array.isArray(arr)) {\n        if (arr && arr.appendChild && parent)\n            parent.appendChild(arr);\n        return arr;\n    }\n    if (typeof arr[0] != \"string\" || !arr[0]) {\n        var els = [];\n        for (var i = 0; i < arr.length; i++) {\n            var ch = buildDom(arr[i], parent, refs);\n            ch && els.push(ch);\n        }\n        return els;\n    }\n    var el = document.createElement(arr[0]);\n    var options = arr[1];\n    var childIndex = 1;\n    if (options && typeof options == \"object\" && !Array.isArray(options))\n        childIndex = 2;\n    for (var i = childIndex; i < arr.length; i++)\n        buildDom(arr[i], el, refs);\n    if (childIndex == 2) {\n        Object.keys(options).forEach(function (n) {\n            var val = options[n];\n            if (n === \"class\") {\n                el.className = Array.isArray(val) ? val.join(\" \") : val;\n            }\n            else if (typeof val == \"function\" || n == \"value\" || n[0] == \"$\") {\n                el[n] = val;\n            }\n            else if (n === \"ref\") {\n                if (refs)\n                    refs[val] = el;\n            }\n            else if (n === \"style\") {\n                if (typeof val == \"string\")\n                    el.style.cssText = val;\n            }\n            else if (val != null) {\n                el.setAttribute(n, val);\n            }\n        });\n    }\n    if (parent)\n        parent.appendChild(el);\n    return el;\n};\nexports.getDocumentHead = function (doc) {\n    if (!doc)\n        doc = document;\n    return doc.head || doc.getElementsByTagName(\"head\")[0] || doc.documentElement;\n};\nexports.createElement = function (tag, ns) {\n    return document.createElementNS ?\n        document.createElementNS(ns || XHTML_NS, tag) :\n        document.createElement(tag);\n};\nexports.removeChildren = function (element) {\n    element.innerHTML = \"\";\n};\nexports.createTextNode = function (textContent, element) {\n    var doc = element ? element.ownerDocument : document;\n    return doc.createTextNode(textContent);\n};\nexports.createFragment = function (element) {\n    var doc = element ? element.ownerDocument : document;\n    return doc.createDocumentFragment();\n};\nexports.hasCssClass = function (el, name) {\n    var classes = (el.className + \"\").split(/\\s+/g);\n    return classes.indexOf(name) !== -1;\n};\nexports.addCssClass = function (el, name) {\n    if (!exports.hasCssClass(el, name)) {\n        el.className += \" \" + name;\n    }\n};\nexports.removeCssClass = function (el, name) {\n    var classes = el.className.split(/\\s+/g);\n    while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n            break;\n        }\n        classes.splice(index, 1);\n    }\n    el.className = classes.join(\" \");\n};\nexports.toggleCssClass = function (el, name) {\n    var classes = el.className.split(/\\s+/g), add = true;\n    while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n            break;\n        }\n        add = false;\n        classes.splice(index, 1);\n    }\n    if (add)\n        classes.push(name);\n    el.className = classes.join(\" \");\n    return add;\n};\nexports.setCssClass = function (node, className, include) {\n    if (include) {\n        exports.addCssClass(node, className);\n    }\n    else {\n        exports.removeCssClass(node, className);\n    }\n};\nexports.hasCssString = function (id, doc) {\n    var index = 0, sheets;\n    doc = doc || document;\n    if ((sheets = doc.querySelectorAll(\"style\"))) {\n        while (index < sheets.length) {\n            if (sheets[index++].id === id) {\n                return true;\n            }\n        }\n    }\n};\nexports.removeElementById = function (id, doc) {\n    doc = doc || document;\n    if (doc.getElementById(id)) {\n        doc.getElementById(id).remove();\n    }\n};\nvar strictCSP;\nvar cssCache = [];\nexports.useStrictCSP = function (value) {\n    strictCSP = value;\n    if (value == false)\n        insertPendingStyles();\n    else if (!cssCache)\n        cssCache = [];\n};\nfunction insertPendingStyles() {\n    var cache = cssCache;\n    cssCache = null;\n    cache && cache.forEach(function (item) {\n        importCssString(item[0], item[1]);\n    });\n}\nfunction importCssString(cssText, id, target) {\n    if (typeof document == \"undefined\")\n        return;\n    if (cssCache) {\n        if (target) {\n            insertPendingStyles();\n        }\n        else if (target === false) {\n            return cssCache.push([cssText, id]);\n        }\n    }\n    if (strictCSP)\n        return;\n    var container = target;\n    if (!target || !target.getRootNode) {\n        container = document;\n    }\n    else {\n        container = target.getRootNode();\n        if (!container || container == target)\n            container = document;\n    }\n    var doc = container.ownerDocument || container;\n    if (id && exports.hasCssString(id, container))\n        return null;\n    if (id)\n        cssText += \"\\n/*# sourceURL=ace/css/\" + id + \" */\";\n    var style = exports.createElement(\"style\");\n    style.appendChild(doc.createTextNode(cssText));\n    if (id)\n        style.id = id;\n    if (container == doc)\n        container = exports.getDocumentHead(doc);\n    container.insertBefore(style, container.firstChild);\n}\nexports.importCssString = importCssString;\nexports.importCssStylsheet = function (uri, doc) {\n    exports.buildDom([\"link\", { rel: \"stylesheet\", href: uri }], exports.getDocumentHead(doc));\n};\nexports.scrollbarWidth = function (doc) {\n    var inner = exports.createElement(\"ace_inner\");\n    inner.style.width = \"100%\";\n    inner.style.minWidth = \"0px\";\n    inner.style.height = \"200px\";\n    inner.style.display = \"block\";\n    var outer = exports.createElement(\"ace_outer\");\n    var style = outer.style;\n    style.position = \"absolute\";\n    style.left = \"-10000px\";\n    style.overflow = \"hidden\";\n    style.width = \"200px\";\n    style.minWidth = \"0px\";\n    style.height = \"150px\";\n    style.display = \"block\";\n    outer.appendChild(inner);\n    var body = (doc && doc.documentElement) || (document && document.documentElement);\n    if (!body)\n        return 0;\n    body.appendChild(outer);\n    var noScrollbar = inner.offsetWidth;\n    style.overflow = \"scroll\";\n    var withScrollbar = inner.offsetWidth;\n    if (noScrollbar === withScrollbar) {\n        withScrollbar = outer.clientWidth;\n    }\n    body.removeChild(outer);\n    return noScrollbar - withScrollbar;\n};\nexports.computedStyle = function (element, style) {\n    return window.getComputedStyle(element, \"\") || {};\n};\nexports.setStyle = function (styles, property, value) {\n    if (styles[property] !== value) {\n        styles[property] = value;\n    }\n};\nexports.HAS_CSS_ANIMATION = false;\nexports.HAS_CSS_TRANSFORMS = false;\nexports.HI_DPI = useragent.isWin\n    ? typeof window !== \"undefined\" && window.devicePixelRatio >= 1.5\n    : true;\nif (useragent.isChromeOS)\n    exports.HI_DPI = false;\nif (typeof document !== \"undefined\") {\n    var div = document.createElement(\"div\");\n    if (exports.HI_DPI && div.style.transform !== undefined)\n        exports.HAS_CSS_TRANSFORMS = true;\n    if (!useragent.isEdge && typeof div.style.animationName !== \"undefined\")\n        exports.HAS_CSS_ANIMATION = true;\n    div = null;\n}\nif (exports.HAS_CSS_TRANSFORMS) {\n    exports.translate = function (element, tx, ty) {\n        element.style.transform = \"translate(\" + Math.round(tx) + \"px, \" + Math.round(ty) + \"px)\";\n    };\n}\nelse {\n    exports.translate = function (element, tx, ty) {\n        element.style.top = Math.round(ty) + \"px\";\n        element.style.left = Math.round(tx) + \"px\";\n    };\n}\n\n});\n\nace.define(\"ace/lib/net\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module){/*\n * based on code from:\n *\n * @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.\n * Available via the MIT or new BSD license.\n * see: http://github.com/jrburke/requirejs for details\n */\n\"use strict\";\nvar dom = require(\"./dom\");\nexports.get = function (url, callback) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url, true);\n    xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n            callback(xhr.responseText);\n        }\n    };\n    xhr.send(null);\n};\nexports.loadScript = function (path, callback) {\n    var head = dom.getDocumentHead();\n    var s = document.createElement('script');\n    s.src = path;\n    head.appendChild(s);\n    s.onload = s.onreadystatechange = function (_, isAbort) {\n        if (isAbort || !s.readyState || s.readyState == \"loaded\" || s.readyState == \"complete\") {\n            s = s.onload = s.onreadystatechange = null;\n            if (!isAbort)\n                callback();\n        }\n    };\n};\nexports.qualifyURL = function (url) {\n    var a = document.createElement('a');\n    a.href = url;\n    return a.href;\n};\n\n});\n\nace.define(\"ace/lib/event_emitter\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar EventEmitter = {};\nvar stopPropagation = function () { this.propagationStopped = true; };\nvar preventDefault = function () { this.defaultPrevented = true; };\nEventEmitter._emit =\n    EventEmitter._dispatchEvent = function (eventName, e) {\n        this._eventRegistry || (this._eventRegistry = {});\n        this._defaultHandlers || (this._defaultHandlers = {});\n        var listeners = this._eventRegistry[eventName] || [];\n        var defaultHandler = this._defaultHandlers[eventName];\n        if (!listeners.length && !defaultHandler)\n            return;\n        if (typeof e != \"object\" || !e)\n            e = {};\n        if (!e.type)\n            e.type = eventName;\n        if (!e.stopPropagation)\n            e.stopPropagation = stopPropagation;\n        if (!e.preventDefault)\n            e.preventDefault = preventDefault;\n        listeners = listeners.slice();\n        for (var i = 0; i < listeners.length; i++) {\n            listeners[i](e, this);\n            if (e.propagationStopped)\n                break;\n        }\n        if (defaultHandler && !e.defaultPrevented)\n            return defaultHandler(e, this);\n    };\nEventEmitter._signal = function (eventName, e) {\n    var listeners = (this._eventRegistry || {})[eventName];\n    if (!listeners)\n        return;\n    listeners = listeners.slice();\n    for (var i = 0; i < listeners.length; i++)\n        listeners[i](e, this);\n};\nEventEmitter.once = function (eventName, callback) {\n    var _self = this;\n    this.on(eventName, function newCallback() {\n        _self.off(eventName, newCallback);\n        callback.apply(null, arguments);\n    });\n    if (!callback) {\n        return new Promise(function (resolve) {\n            callback = resolve;\n        });\n    }\n};\nEventEmitter.setDefaultHandler = function (eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers)\n        handlers = this._defaultHandlers = { _disabled_: {} };\n    if (handlers[eventName]) {\n        var old = handlers[eventName];\n        var disabled = handlers._disabled_[eventName];\n        if (!disabled)\n            handlers._disabled_[eventName] = disabled = [];\n        disabled.push(old);\n        var i = disabled.indexOf(callback);\n        if (i != -1)\n            disabled.splice(i, 1);\n    }\n    handlers[eventName] = callback;\n};\nEventEmitter.removeDefaultHandler = function (eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers)\n        return;\n    var disabled = handlers._disabled_[eventName];\n    if (handlers[eventName] == callback) {\n        if (disabled)\n            this.setDefaultHandler(eventName, disabled.pop());\n    }\n    else if (disabled) {\n        var i = disabled.indexOf(callback);\n        if (i != -1)\n            disabled.splice(i, 1);\n    }\n};\nEventEmitter.on =\n    EventEmitter.addEventListener = function (eventName, callback, capturing) {\n        this._eventRegistry = this._eventRegistry || {};\n        var listeners = this._eventRegistry[eventName];\n        if (!listeners)\n            listeners = this._eventRegistry[eventName] = [];\n        if (listeners.indexOf(callback) == -1)\n            listeners[capturing ? \"unshift\" : \"push\"](callback);\n        return callback;\n    };\nEventEmitter.off =\n    EventEmitter.removeListener =\n        EventEmitter.removeEventListener = function (eventName, callback) {\n            this._eventRegistry = this._eventRegistry || {};\n            var listeners = this._eventRegistry[eventName];\n            if (!listeners)\n                return;\n            var index = listeners.indexOf(callback);\n            if (index !== -1)\n                listeners.splice(index, 1);\n        };\nEventEmitter.removeAllListeners = function (eventName) {\n    if (!eventName)\n        this._eventRegistry = this._defaultHandlers = undefined;\n    if (this._eventRegistry)\n        this._eventRegistry[eventName] = undefined;\n    if (this._defaultHandlers)\n        this._defaultHandlers[eventName] = undefined;\n};\nexports.EventEmitter = EventEmitter;\n\n});\n\nace.define(\"ace/lib/app_config\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module){\"no use strict\";\nvar oop = require(\"./oop\");\nvar EventEmitter = require(\"./event_emitter\").EventEmitter;\nvar optionsProvider = {\n    setOptions: function (optList) {\n        Object.keys(optList).forEach(function (key) {\n            this.setOption(key, optList[key]);\n        }, this);\n    },\n    getOptions: function (optionNames) {\n        var result = {};\n        if (!optionNames) {\n            var options = this.$options;\n            optionNames = Object.keys(options).filter(function (key) {\n                return !options[key].hidden;\n            });\n        }\n        else if (!Array.isArray(optionNames)) {\n            result = optionNames;\n            optionNames = Object.keys(result);\n        }\n        optionNames.forEach(function (key) {\n            result[key] = this.getOption(key);\n        }, this);\n        return result;\n    },\n    setOption: function (name, value) {\n        if (this[\"$\" + name] === value)\n            return;\n        var opt = this.$options[name];\n        if (!opt) {\n            return warn('misspelled option \"' + name + '\"');\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].setOption(name, value);\n        if (!opt.handlesSet)\n            this[\"$\" + name] = value;\n        if (opt && opt.set)\n            opt.set.call(this, value);\n    },\n    getOption: function (name) {\n        var opt = this.$options[name];\n        if (!opt) {\n            return warn('misspelled option \"' + name + '\"');\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].getOption(name);\n        return opt && opt.get ? opt.get.call(this) : this[\"$\" + name];\n    }\n};\nfunction warn(message) {\n    if (typeof console != \"undefined\" && console.warn)\n        console.warn.apply(console, arguments);\n}\nfunction reportError(msg, data) {\n    var e = new Error(msg);\n    e.data = data;\n    if (typeof console == \"object\" && console.error)\n        console.error(e);\n    setTimeout(function () { throw e; });\n}\nvar AppConfig = function () {\n    this.$defaultOptions = {};\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.defineOptions = function (obj, path, options) {\n        if (!obj.$options)\n            this.$defaultOptions[path] = obj.$options = {};\n        Object.keys(options).forEach(function (key) {\n            var opt = options[key];\n            if (typeof opt == \"string\")\n                opt = { forwardTo: opt };\n            opt.name || (opt.name = key);\n            obj.$options[opt.name] = opt;\n            if (\"initialValue\" in opt)\n                obj[\"$\" + opt.name] = opt.initialValue;\n        });\n        oop.implement(obj, optionsProvider);\n        return this;\n    };\n    this.resetOptions = function (obj) {\n        Object.keys(obj.$options).forEach(function (key) {\n            var opt = obj.$options[key];\n            if (\"value\" in opt)\n                obj.setOption(key, opt.value);\n        });\n    };\n    this.setDefaultValue = function (path, name, value) {\n        if (!path) {\n            for (path in this.$defaultOptions)\n                if (this.$defaultOptions[path][name])\n                    break;\n            if (!this.$defaultOptions[path][name])\n                return false;\n        }\n        var opts = this.$defaultOptions[path] || (this.$defaultOptions[path] = {});\n        if (opts[name]) {\n            if (opts.forwardTo)\n                this.setDefaultValue(opts.forwardTo, name, value);\n            else\n                opts[name].value = value;\n        }\n    };\n    this.setDefaultValues = function (path, optionHash) {\n        Object.keys(optionHash).forEach(function (key) {\n            this.setDefaultValue(path, key, optionHash[key]);\n        }, this);\n    };\n    this.warn = warn;\n    this.reportError = reportError;\n}).call(AppConfig.prototype);\nexports.AppConfig = AppConfig;\n\n});\n\nace.define(\"ace/theme/textmate.css\",[\"require\",\"exports\",\"module\"], function(require, exports, module){module.exports = \".ace-tm .ace_gutter {\\n  background: #f0f0f0;\\n  color: #333;\\n}\\n\\n.ace-tm .ace_print-margin {\\n  width: 1px;\\n  background: #e8e8e8;\\n}\\n\\n.ace-tm .ace_fold {\\n    background-color: #6B72E6;\\n}\\n\\n.ace-tm {\\n  background-color: #FFFFFF;\\n  color: black;\\n}\\n\\n.ace-tm .ace_cursor {\\n  color: black;\\n}\\n        \\n.ace-tm .ace_invisible {\\n  color: rgb(191, 191, 191);\\n}\\n\\n.ace-tm .ace_storage,\\n.ace-tm .ace_keyword {\\n  color: blue;\\n}\\n\\n.ace-tm .ace_constant {\\n  color: rgb(197, 6, 11);\\n}\\n\\n.ace-tm .ace_constant.ace_buildin {\\n  color: rgb(88, 72, 246);\\n}\\n\\n.ace-tm .ace_constant.ace_language {\\n  color: rgb(88, 92, 246);\\n}\\n\\n.ace-tm .ace_constant.ace_library {\\n  color: rgb(6, 150, 14);\\n}\\n\\n.ace-tm .ace_invalid {\\n  background-color: rgba(255, 0, 0, 0.1);\\n  color: red;\\n}\\n\\n.ace-tm .ace_support.ace_function {\\n  color: rgb(60, 76, 114);\\n}\\n\\n.ace-tm .ace_support.ace_constant {\\n  color: rgb(6, 150, 14);\\n}\\n\\n.ace-tm .ace_support.ace_type,\\n.ace-tm .ace_support.ace_class {\\n  color: rgb(109, 121, 222);\\n}\\n\\n.ace-tm .ace_keyword.ace_operator {\\n  color: rgb(104, 118, 135);\\n}\\n\\n.ace-tm .ace_string {\\n  color: rgb(3, 106, 7);\\n}\\n\\n.ace-tm .ace_comment {\\n  color: rgb(76, 136, 107);\\n}\\n\\n.ace-tm .ace_comment.ace_doc {\\n  color: rgb(0, 102, 255);\\n}\\n\\n.ace-tm .ace_comment.ace_doc.ace_tag {\\n  color: rgb(128, 159, 191);\\n}\\n\\n.ace-tm .ace_constant.ace_numeric {\\n  color: rgb(0, 0, 205);\\n}\\n\\n.ace-tm .ace_variable {\\n  color: rgb(49, 132, 149);\\n}\\n\\n.ace-tm .ace_xml-pe {\\n  color: rgb(104, 104, 91);\\n}\\n\\n.ace-tm .ace_entity.ace_name.ace_function {\\n  color: #0000A2;\\n}\\n\\n\\n.ace-tm .ace_heading {\\n  color: rgb(12, 7, 255);\\n}\\n\\n.ace-tm .ace_list {\\n  color:rgb(185, 6, 144);\\n}\\n\\n.ace-tm .ace_meta.ace_tag {\\n  color:rgb(0, 22, 142);\\n}\\n\\n.ace-tm .ace_string.ace_regex {\\n  color: rgb(255, 0, 0)\\n}\\n\\n.ace-tm .ace_marker-layer .ace_selection {\\n  background: rgb(181, 213, 255);\\n}\\n.ace-tm.ace_multiselect .ace_selection.ace_start {\\n  box-shadow: 0 0 3px 0px white;\\n}\\n.ace-tm .ace_marker-layer .ace_step {\\n  background: rgb(252, 255, 0);\\n}\\n\\n.ace-tm .ace_marker-layer .ace_stack {\\n  background: rgb(164, 229, 101);\\n}\\n\\n.ace-tm .ace_marker-layer .ace_bracket {\\n  margin: -1px 0 0 -1px;\\n  border: 1px solid rgb(192, 192, 192);\\n}\\n\\n.ace-tm .ace_marker-layer .ace_active-line {\\n  background: rgba(0, 0, 0, 0.07);\\n}\\n\\n.ace-tm .ace_gutter-active-line {\\n    background-color : #dcdcdc;\\n}\\n\\n.ace-tm .ace_marker-layer .ace_selected-word {\\n  background: rgb(250, 250, 255);\\n  border: 1px solid rgb(200, 200, 250);\\n}\\n\\n.ace-tm .ace_indent-guide {\\n  background: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\\\") right repeat-y;\\n}\\n\\n.ace-tm .ace_indent-guide-active {\\n  background: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC\\\") right repeat-y;\\n}\\n\";\n\n});\n\nace.define(\"ace/theme/textmate\",[\"require\",\"exports\",\"module\",\"ace/theme/textmate.css\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nexports.isDark = false;\nexports.cssClass = \"ace-tm\";\nexports.cssText = require(\"./textmate.css\");\nexports.$id = \"ace/theme/textmate\";\nvar dom = require(\"../lib/dom\");\ndom.importCssString(exports.cssText, exports.cssClass, false);\n\n});\n\nace.define(\"ace/config\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/lib/net\",\"ace/lib/dom\",\"ace/lib/app_config\",\"ace/theme/textmate\"], function(require, exports, module){\"no use strict\";\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar net = require(\"./lib/net\");\nvar dom = require(\"./lib/dom\");\nvar AppConfig = require(\"./lib/app_config\").AppConfig;\nmodule.exports = exports = new AppConfig();\nvar options = {\n    packaged: false,\n    workerPath: null,\n    modePath: null,\n    themePath: null,\n    basePath: \"\",\n    suffix: \".js\",\n    $moduleUrls: {},\n    loadWorkerFromBlob: true,\n    sharedPopups: false,\n    useStrictCSP: null\n};\nexports.get = function (key) {\n    if (!options.hasOwnProperty(key))\n        throw new Error(\"Unknown config key: \" + key);\n    return options[key];\n};\nexports.set = function (key, value) {\n    if (options.hasOwnProperty(key))\n        options[key] = value;\n    else if (this.setDefaultValue(\"\", key, value) == false)\n        throw new Error(\"Unknown config key: \" + key);\n    if (key == \"useStrictCSP\")\n        dom.useStrictCSP(value);\n};\nexports.all = function () {\n    return lang.copyObject(options);\n};\nexports.$modes = {};\nexports.moduleUrl = function (name, component) {\n    if (options.$moduleUrls[name])\n        return options.$moduleUrls[name];\n    var parts = name.split(\"/\");\n    component = component || parts[parts.length - 2] || \"\";\n    var sep = component == \"snippets\" ? \"/\" : \"-\";\n    var base = parts[parts.length - 1];\n    if (component == \"worker\" && sep == \"-\") {\n        var re = new RegExp(\"^\" + component + \"[\\\\-_]|[\\\\-_]\" + component + \"$\", \"g\");\n        base = base.replace(re, \"\");\n    }\n    if ((!base || base == component) && parts.length > 1)\n        base = parts[parts.length - 2];\n    var path = options[component + \"Path\"];\n    if (path == null) {\n        path = options.basePath;\n    }\n    else if (sep == \"/\") {\n        component = sep = \"\";\n    }\n    if (path && path.slice(-1) != \"/\")\n        path += \"/\";\n    return path + component + sep + base + this.get(\"suffix\");\n};\nexports.setModuleUrl = function (name, subst) {\n    return options.$moduleUrls[name] = subst;\n};\nvar loader = function (moduleName, cb) {\n    if (moduleName == \"ace/theme/textmate\")\n        return cb(null, require(\"./theme/textmate\"));\n    return console.error(\"loader is not configured\");\n};\nexports.setLoader = function (cb) {\n    loader = cb;\n};\nexports.$loading = {};\nexports.loadModule = function (moduleName, onLoad) {\n    var module, moduleType;\n    if (Array.isArray(moduleName)) {\n        moduleType = moduleName[0];\n        moduleName = moduleName[1];\n    }\n    try {\n        module = require(moduleName);\n    }\n    catch (e) { }\n    if (module && !exports.$loading[moduleName])\n        return onLoad && onLoad(module);\n    if (!exports.$loading[moduleName])\n        exports.$loading[moduleName] = [];\n    exports.$loading[moduleName].push(onLoad);\n    if (exports.$loading[moduleName].length > 1)\n        return;\n    var afterLoad = function () {\n        loader(moduleName, function (err, module) {\n            exports._emit(\"load.module\", { name: moduleName, module: module });\n            var listeners = exports.$loading[moduleName];\n            exports.$loading[moduleName] = null;\n            listeners.forEach(function (onLoad) {\n                onLoad && onLoad(module);\n            });\n        });\n    };\n    if (!exports.get(\"packaged\"))\n        return afterLoad();\n    net.loadScript(exports.moduleUrl(moduleName, moduleType), afterLoad);\n    reportErrorIfPathIsNotConfigured();\n};\nvar reportErrorIfPathIsNotConfigured = function () {\n    if (!options.basePath && !options.workerPath\n        && !options.modePath && !options.themePath\n        && !Object.keys(options.$moduleUrls).length) {\n        console.error(\"Unable to infer path to ace from script src,\", \"use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes\", \"or with webpack use ace/webpack-resolver\");\n        reportErrorIfPathIsNotConfigured = function () { };\n    }\n};\nexports.version = \"1.14.0\";\n\n});\n\nace.define(\"ace/loader_build\",[\"require\",\"exports\",\"module\",\"ace/lib/fixoldbrowsers\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nrequire(\"./lib/fixoldbrowsers\");\nvar config = require(\"./config\");\nconfig.setLoader(function(moduleName, cb) {\n    require([moduleName], function(module) {\n        cb(null, module);\n    });\n});\n\nvar global = (function() {\n    return this || typeof window != \"undefined\" && window;\n})();\n\nmodule.exports = function(ace) {\n    config.init = init;\n    ace.require = require;\n\n    if (typeof define === \"function\")\n        ace.define = define;\n};\ninit(true);function init(packaged) {\n\n    if (!global || !global.document)\n        return;\n    \n    config.set(\"packaged\", packaged || require.packaged || module.packaged || (global.define && define.packaged));\n\n    var scriptOptions = {};\n    var scriptUrl = \"\";\n    var currentScript = (document.currentScript || document._currentScript ); // native or polyfill\n    var currentDocument = currentScript && currentScript.ownerDocument || document;\n    \n    var scripts = currentDocument.getElementsByTagName(\"script\");\n    for (var i=0; i<scripts.length; i++) {\n        var script = scripts[i];\n\n        var src = script.src || script.getAttribute(\"src\");\n        if (!src)\n            continue;\n\n        var attributes = script.attributes;\n        for (var j=0, l=attributes.length; j < l; j++) {\n            var attr = attributes[j];\n            if (attr.name.indexOf(\"data-ace-\") === 0) {\n                scriptOptions[deHyphenate(attr.name.replace(/^data-ace-/, \"\"))] = attr.value;\n            }\n        }\n\n        var m = src.match(/^(.*)\\/ace(\\-\\w+)?\\.js(\\?|$)/);\n        if (m)\n            scriptUrl = m[1];\n    }\n\n    if (scriptUrl) {\n        scriptOptions.base = scriptOptions.base || scriptUrl;\n        scriptOptions.packaged = true;\n    }\n\n    scriptOptions.basePath = scriptOptions.base;\n    scriptOptions.workerPath = scriptOptions.workerPath || scriptOptions.base;\n    scriptOptions.modePath = scriptOptions.modePath || scriptOptions.base;\n    scriptOptions.themePath = scriptOptions.themePath || scriptOptions.base;\n    delete scriptOptions.base;\n\n    for (var key in scriptOptions)\n        if (typeof scriptOptions[key] !== \"undefined\")\n            config.set(key, scriptOptions[key]);\n}\n\nfunction deHyphenate(str) {\n    return str.replace(/-(.)/g, function(m, m1) { return m1.toUpperCase(); });\n}\n});\n\nace.define(\"ace/lib/keys\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\"], function(require, exports, module){/*! @license\n==========================================================================\nSproutCore -- JavaScript Application Framework\ncopyright 2006-2009, Sprout Systems Inc., Apple Inc. and contributors.\n\nPermission is hereby granted, free of charge, to any person obtaining a\ncopy of this software and associated documentation files (the \"Software\"),\nto deal in the Software without restriction, including without limitation\nthe rights to use, copy, modify, merge, publish, distribute, sublicense,\nand/or sell copies of the Software, and to permit persons to whom the\nSoftware is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\nFROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\nDEALINGS IN THE SOFTWARE.\n\nSproutCore and the SproutCore logo are trademarks of Sprout Systems, Inc.\n\nFor more information about SproutCore, visit http://www.sproutcore.com\n\n\n==========================================================================\n@license */\n\"use strict\";\nvar oop = require(\"./oop\");\nvar Keys = (function () {\n    var ret = {\n        MODIFIER_KEYS: {\n            16: 'Shift', 17: 'Ctrl', 18: 'Alt', 224: 'Meta',\n            91: 'MetaLeft', 92: 'MetaRight', 93: 'ContextMenu'\n        },\n        KEY_MODS: {\n            \"ctrl\": 1, \"alt\": 2, \"option\": 2, \"shift\": 4,\n            \"super\": 8, \"meta\": 8, \"command\": 8, \"cmd\": 8,\n            \"control\": 1\n        },\n        FUNCTION_KEYS: {\n            8: \"Backspace\",\n            9: \"Tab\",\n            13: \"Return\",\n            19: \"Pause\",\n            27: \"Esc\",\n            32: \"Space\",\n            33: \"PageUp\",\n            34: \"PageDown\",\n            35: \"End\",\n            36: \"Home\",\n            37: \"Left\",\n            38: \"Up\",\n            39: \"Right\",\n            40: \"Down\",\n            44: \"Print\",\n            45: \"Insert\",\n            46: \"Delete\",\n            96: \"Numpad0\",\n            97: \"Numpad1\",\n            98: \"Numpad2\",\n            99: \"Numpad3\",\n            100: \"Numpad4\",\n            101: \"Numpad5\",\n            102: \"Numpad6\",\n            103: \"Numpad7\",\n            104: \"Numpad8\",\n            105: \"Numpad9\",\n            '-13': \"NumpadEnter\",\n            112: \"F1\",\n            113: \"F2\",\n            114: \"F3\",\n            115: \"F4\",\n            116: \"F5\",\n            117: \"F6\",\n            118: \"F7\",\n            119: \"F8\",\n            120: \"F9\",\n            121: \"F10\",\n            122: \"F11\",\n            123: \"F12\",\n            144: \"Numlock\",\n            145: \"Scrolllock\"\n        },\n        PRINTABLE_KEYS: {\n            32: ' ', 48: '0', 49: '1', 50: '2', 51: '3', 52: '4', 53: '5',\n            54: '6', 55: '7', 56: '8', 57: '9', 59: ';', 61: '=', 65: 'a',\n            66: 'b', 67: 'c', 68: 'd', 69: 'e', 70: 'f', 71: 'g', 72: 'h',\n            73: 'i', 74: 'j', 75: 'k', 76: 'l', 77: 'm', 78: 'n', 79: 'o',\n            80: 'p', 81: 'q', 82: 'r', 83: 's', 84: 't', 85: 'u', 86: 'v',\n            87: 'w', 88: 'x', 89: 'y', 90: 'z', 107: '+', 109: '-', 110: '.',\n            186: ';', 187: '=', 188: ',', 189: '-', 190: '.', 191: '/', 192: '`',\n            219: '[', 220: '\\\\', 221: ']', 222: \"'\", 111: '/', 106: '*'\n        }\n    };\n    ret.PRINTABLE_KEYS[173] = '-';\n    var name, i;\n    for (i in ret.FUNCTION_KEYS) {\n        name = ret.FUNCTION_KEYS[i].toLowerCase();\n        ret[name] = parseInt(i, 10);\n    }\n    for (i in ret.PRINTABLE_KEYS) {\n        name = ret.PRINTABLE_KEYS[i].toLowerCase();\n        ret[name] = parseInt(i, 10);\n    }\n    oop.mixin(ret, ret.MODIFIER_KEYS);\n    oop.mixin(ret, ret.PRINTABLE_KEYS);\n    oop.mixin(ret, ret.FUNCTION_KEYS);\n    ret.enter = ret[\"return\"];\n    ret.escape = ret.esc;\n    ret.del = ret[\"delete\"];\n    (function () {\n        var mods = [\"cmd\", \"ctrl\", \"alt\", \"shift\"];\n        for (var i = Math.pow(2, mods.length); i--;) {\n            ret.KEY_MODS[i] = mods.filter(function (x) {\n                return i & ret.KEY_MODS[x];\n            }).join(\"-\") + \"-\";\n        }\n    })();\n    ret.KEY_MODS[0] = \"\";\n    ret.KEY_MODS[-1] = \"input-\";\n    return ret;\n})();\noop.mixin(exports, Keys);\nexports.keyCodeToString = function (keyCode) {\n    var keyString = Keys[keyCode];\n    if (typeof keyString != \"string\")\n        keyString = String.fromCharCode(keyCode);\n    return keyString.toLowerCase();\n};\n\n});\n\nace.define(\"ace/lib/event\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar keys = require(\"./keys\");\nvar useragent = require(\"./useragent\");\nvar pressedKeys = null;\nvar ts = 0;\nvar activeListenerOptions;\nfunction detectListenerOptionsSupport() {\n    activeListenerOptions = false;\n    try {\n        document.createComment(\"\").addEventListener(\"test\", function () { }, {\n            get passive() {\n                activeListenerOptions = { passive: false };\n            }\n        });\n    }\n    catch (e) { }\n}\nfunction getListenerOptions() {\n    if (activeListenerOptions == undefined)\n        detectListenerOptionsSupport();\n    return activeListenerOptions;\n}\nfunction EventListener(elem, type, callback) {\n    this.elem = elem;\n    this.type = type;\n    this.callback = callback;\n}\nEventListener.prototype.destroy = function () {\n    removeListener(this.elem, this.type, this.callback);\n    this.elem = this.type = this.callback = undefined;\n};\nvar addListener = exports.addListener = function (elem, type, callback, destroyer) {\n    elem.addEventListener(type, callback, getListenerOptions());\n    if (destroyer)\n        destroyer.$toDestroy.push(new EventListener(elem, type, callback));\n};\nvar removeListener = exports.removeListener = function (elem, type, callback) {\n    elem.removeEventListener(type, callback, getListenerOptions());\n};\nexports.stopEvent = function (e) {\n    exports.stopPropagation(e);\n    exports.preventDefault(e);\n    return false;\n};\nexports.stopPropagation = function (e) {\n    if (e.stopPropagation)\n        e.stopPropagation();\n};\nexports.preventDefault = function (e) {\n    if (e.preventDefault)\n        e.preventDefault();\n};\nexports.getButton = function (e) {\n    if (e.type == \"dblclick\")\n        return 0;\n    if (e.type == \"contextmenu\" || (useragent.isMac && (e.ctrlKey && !e.altKey && !e.shiftKey)))\n        return 2;\n    return e.button;\n};\nexports.capture = function (el, eventHandler, releaseCaptureHandler) {\n    var ownerDocument = el && el.ownerDocument || document;\n    function onMouseUp(e) {\n        eventHandler && eventHandler(e);\n        releaseCaptureHandler && releaseCaptureHandler(e);\n        removeListener(ownerDocument, \"mousemove\", eventHandler);\n        removeListener(ownerDocument, \"mouseup\", onMouseUp);\n        removeListener(ownerDocument, \"dragstart\", onMouseUp);\n    }\n    addListener(ownerDocument, \"mousemove\", eventHandler);\n    addListener(ownerDocument, \"mouseup\", onMouseUp);\n    addListener(ownerDocument, \"dragstart\", onMouseUp);\n    return onMouseUp;\n};\nexports.addMouseWheelListener = function (el, callback, destroyer) {\n    addListener(el, \"wheel\", function (e) {\n        var factor = 0.15;\n        var deltaX = e.deltaX || 0;\n        var deltaY = e.deltaY || 0;\n        switch (e.deltaMode) {\n            case e.DOM_DELTA_PIXEL:\n                e.wheelX = deltaX * factor;\n                e.wheelY = deltaY * factor;\n                break;\n            case e.DOM_DELTA_LINE:\n                var linePixels = 15;\n                e.wheelX = deltaX * linePixels;\n                e.wheelY = deltaY * linePixels;\n                break;\n            case e.DOM_DELTA_PAGE:\n                var pagePixels = 150;\n                e.wheelX = deltaX * pagePixels;\n                e.wheelY = deltaY * pagePixels;\n                break;\n        }\n        callback(e);\n    }, destroyer);\n};\nexports.addMultiMouseDownListener = function (elements, timeouts, eventHandler, callbackName, destroyer) {\n    var clicks = 0;\n    var startX, startY, timer;\n    var eventNames = {\n        2: \"dblclick\",\n        3: \"tripleclick\",\n        4: \"quadclick\"\n    };\n    function onMousedown(e) {\n        if (exports.getButton(e) !== 0) {\n            clicks = 0;\n        }\n        else if (e.detail > 1) {\n            clicks++;\n            if (clicks > 4)\n                clicks = 1;\n        }\n        else {\n            clicks = 1;\n        }\n        if (useragent.isIE) {\n            var isNewClick = Math.abs(e.clientX - startX) > 5 || Math.abs(e.clientY - startY) > 5;\n            if (!timer || isNewClick)\n                clicks = 1;\n            if (timer)\n                clearTimeout(timer);\n            timer = setTimeout(function () { timer = null; }, timeouts[clicks - 1] || 600);\n            if (clicks == 1) {\n                startX = e.clientX;\n                startY = e.clientY;\n            }\n        }\n        e._clicks = clicks;\n        eventHandler[callbackName](\"mousedown\", e);\n        if (clicks > 4)\n            clicks = 0;\n        else if (clicks > 1)\n            return eventHandler[callbackName](eventNames[clicks], e);\n    }\n    if (!Array.isArray(elements))\n        elements = [elements];\n    elements.forEach(function (el) {\n        addListener(el, \"mousedown\", onMousedown, destroyer);\n    });\n};\nvar getModifierHash = function (e) {\n    return 0 | (e.ctrlKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.metaKey ? 8 : 0);\n};\nexports.getModifierString = function (e) {\n    return keys.KEY_MODS[getModifierHash(e)];\n};\nfunction normalizeCommandKeys(callback, e, keyCode) {\n    var hashId = getModifierHash(e);\n    if (!useragent.isMac && pressedKeys) {\n        if (e.getModifierState && (e.getModifierState(\"OS\") || e.getModifierState(\"Win\")))\n            hashId |= 8;\n        if (pressedKeys.altGr) {\n            if ((3 & hashId) != 3)\n                pressedKeys.altGr = 0;\n            else\n                return;\n        }\n        if (keyCode === 18 || keyCode === 17) {\n            var location = \"location\" in e ? e.location : e.keyLocation;\n            if (keyCode === 17 && location === 1) {\n                if (pressedKeys[keyCode] == 1)\n                    ts = e.timeStamp;\n            }\n            else if (keyCode === 18 && hashId === 3 && location === 2) {\n                var dt = e.timeStamp - ts;\n                if (dt < 50)\n                    pressedKeys.altGr = true;\n            }\n        }\n    }\n    if (keyCode in keys.MODIFIER_KEYS) {\n        keyCode = -1;\n    }\n    if (!hashId && keyCode === 13) {\n        var location = \"location\" in e ? e.location : e.keyLocation;\n        if (location === 3) {\n            callback(e, hashId, -keyCode);\n            if (e.defaultPrevented)\n                return;\n        }\n    }\n    if (useragent.isChromeOS && hashId & 8) {\n        callback(e, hashId, keyCode);\n        if (e.defaultPrevented)\n            return;\n        else\n            hashId &= ~8;\n    }\n    if (!hashId && !(keyCode in keys.FUNCTION_KEYS) && !(keyCode in keys.PRINTABLE_KEYS)) {\n        return false;\n    }\n    return callback(e, hashId, keyCode);\n}\nexports.addCommandKeyListener = function (el, callback, destroyer) {\n    if (useragent.isOldGecko || (useragent.isOpera && !(\"KeyboardEvent\" in window))) {\n        var lastKeyDownKeyCode = null;\n        addListener(el, \"keydown\", function (e) {\n            lastKeyDownKeyCode = e.keyCode;\n        }, destroyer);\n        addListener(el, \"keypress\", function (e) {\n            return normalizeCommandKeys(callback, e, lastKeyDownKeyCode);\n        }, destroyer);\n    }\n    else {\n        var lastDefaultPrevented = null;\n        addListener(el, \"keydown\", function (e) {\n            pressedKeys[e.keyCode] = (pressedKeys[e.keyCode] || 0) + 1;\n            var result = normalizeCommandKeys(callback, e, e.keyCode);\n            lastDefaultPrevented = e.defaultPrevented;\n            return result;\n        }, destroyer);\n        addListener(el, \"keypress\", function (e) {\n            if (lastDefaultPrevented && (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey)) {\n                exports.stopEvent(e);\n                lastDefaultPrevented = null;\n            }\n        }, destroyer);\n        addListener(el, \"keyup\", function (e) {\n            pressedKeys[e.keyCode] = null;\n        }, destroyer);\n        if (!pressedKeys) {\n            resetPressedKeys();\n            addListener(window, \"focus\", resetPressedKeys);\n        }\n    }\n};\nfunction resetPressedKeys() {\n    pressedKeys = Object.create(null);\n}\nif (typeof window == \"object\" && window.postMessage && !useragent.isOldIE) {\n    var postMessageId = 1;\n    exports.nextTick = function (callback, win) {\n        win = win || window;\n        var messageName = \"zero-timeout-message-\" + (postMessageId++);\n        var listener = function (e) {\n            if (e.data == messageName) {\n                exports.stopPropagation(e);\n                removeListener(win, \"message\", listener);\n                callback();\n            }\n        };\n        addListener(win, \"message\", listener);\n        win.postMessage(messageName, \"*\");\n    };\n}\nexports.$idleBlocked = false;\nexports.onIdle = function (cb, timeout) {\n    return setTimeout(function handler() {\n        if (!exports.$idleBlocked) {\n            cb();\n        }\n        else {\n            setTimeout(handler, 100);\n        }\n    }, timeout);\n};\nexports.$idleBlockId = null;\nexports.blockIdle = function (delay) {\n    if (exports.$idleBlockId)\n        clearTimeout(exports.$idleBlockId);\n    exports.$idleBlocked = true;\n    exports.$idleBlockId = setTimeout(function () {\n        exports.$idleBlocked = false;\n    }, delay || 100);\n};\nexports.nextFrame = typeof window == \"object\" && (window.requestAnimationFrame\n    || window.mozRequestAnimationFrame\n    || window.webkitRequestAnimationFrame\n    || window.msRequestAnimationFrame\n    || window.oRequestAnimationFrame);\nif (exports.nextFrame)\n    exports.nextFrame = exports.nextFrame.bind(window);\nelse\n    exports.nextFrame = function (callback) {\n        setTimeout(callback, 17);\n    };\n\n});\n\nace.define(\"ace/range\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar comparePoints = function (p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\nvar Range = function (startRow, startColumn, endRow, endColumn) {\n    this.start = {\n        row: startRow,\n        column: startColumn\n    };\n    this.end = {\n        row: endRow,\n        column: endColumn\n    };\n};\n(function () {\n    this.isEqual = function (range) {\n        return this.start.row === range.start.row &&\n            this.end.row === range.end.row &&\n            this.start.column === range.start.column &&\n            this.end.column === range.end.column;\n    };\n    this.toString = function () {\n        return (\"Range: [\" + this.start.row + \"/\" + this.start.column +\n            \"] -> [\" + this.end.row + \"/\" + this.end.column + \"]\");\n    };\n    this.contains = function (row, column) {\n        return this.compare(row, column) == 0;\n    };\n    this.compareRange = function (range) {\n        var cmp, end = range.end, start = range.start;\n        cmp = this.compare(end.row, end.column);\n        if (cmp == 1) {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == 1) {\n                return 2;\n            }\n            else if (cmp == 0) {\n                return 1;\n            }\n            else {\n                return 0;\n            }\n        }\n        else if (cmp == -1) {\n            return -2;\n        }\n        else {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == -1) {\n                return -1;\n            }\n            else if (cmp == 1) {\n                return 42;\n            }\n            else {\n                return 0;\n            }\n        }\n    };\n    this.comparePoint = function (p) {\n        return this.compare(p.row, p.column);\n    };\n    this.containsRange = function (range) {\n        return this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0;\n    };\n    this.intersects = function (range) {\n        var cmp = this.compareRange(range);\n        return (cmp == -1 || cmp == 0 || cmp == 1);\n    };\n    this.isEnd = function (row, column) {\n        return this.end.row == row && this.end.column == column;\n    };\n    this.isStart = function (row, column) {\n        return this.start.row == row && this.start.column == column;\n    };\n    this.setStart = function (row, column) {\n        if (typeof row == \"object\") {\n            this.start.column = row.column;\n            this.start.row = row.row;\n        }\n        else {\n            this.start.row = row;\n            this.start.column = column;\n        }\n    };\n    this.setEnd = function (row, column) {\n        if (typeof row == \"object\") {\n            this.end.column = row.column;\n            this.end.row = row.row;\n        }\n        else {\n            this.end.row = row;\n            this.end.column = column;\n        }\n    };\n    this.inside = function (row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column) || this.isStart(row, column)) {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideStart = function (row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column)) {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideEnd = function (row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isStart(row, column)) {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.compare = function (row, column) {\n        if (!this.isMultiLine()) {\n            if (row === this.start.row) {\n                return column < this.start.column ? -1 : (column > this.end.column ? 1 : 0);\n            }\n        }\n        if (row < this.start.row)\n            return -1;\n        if (row > this.end.row)\n            return 1;\n        if (this.start.row === row)\n            return column >= this.start.column ? 0 : -1;\n        if (this.end.row === row)\n            return column <= this.end.column ? 0 : 1;\n        return 0;\n    };\n    this.compareStart = function (row, column) {\n        if (this.start.row == row && this.start.column == column) {\n            return -1;\n        }\n        else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareEnd = function (row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        }\n        else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareInside = function (row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        }\n        else if (this.start.row == row && this.start.column == column) {\n            return -1;\n        }\n        else {\n            return this.compare(row, column);\n        }\n    };\n    this.clipRows = function (firstRow, lastRow) {\n        if (this.end.row > lastRow)\n            var end = { row: lastRow + 1, column: 0 };\n        else if (this.end.row < firstRow)\n            var end = { row: firstRow, column: 0 };\n        if (this.start.row > lastRow)\n            var start = { row: lastRow + 1, column: 0 };\n        else if (this.start.row < firstRow)\n            var start = { row: firstRow, column: 0 };\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n    this.extend = function (row, column) {\n        var cmp = this.compare(row, column);\n        if (cmp == 0)\n            return this;\n        else if (cmp == -1)\n            var start = { row: row, column: column };\n        else\n            var end = { row: row, column: column };\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n    this.isEmpty = function () {\n        return (this.start.row === this.end.row && this.start.column === this.end.column);\n    };\n    this.isMultiLine = function () {\n        return (this.start.row !== this.end.row);\n    };\n    this.clone = function () {\n        return Range.fromPoints(this.start, this.end);\n    };\n    this.collapseRows = function () {\n        if (this.end.column == 0)\n            return new Range(this.start.row, 0, Math.max(this.start.row, this.end.row - 1), 0);\n        else\n            return new Range(this.start.row, 0, this.end.row, 0);\n    };\n    this.toScreenRange = function (session) {\n        var screenPosStart = session.documentToScreenPosition(this.start);\n        var screenPosEnd = session.documentToScreenPosition(this.end);\n        return new Range(screenPosStart.row, screenPosStart.column, screenPosEnd.row, screenPosEnd.column);\n    };\n    this.moveBy = function (row, column) {\n        this.start.row += row;\n        this.start.column += column;\n        this.end.row += row;\n        this.end.column += column;\n    };\n}).call(Range.prototype);\nRange.fromPoints = function (start, end) {\n    return new Range(start.row, start.column, end.row, end.column);\n};\nRange.comparePoints = comparePoints;\nRange.comparePoints = function (p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\nexports.Range = Range;\n\n});\n\nace.define(\"ace/clipboard\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar $cancelT;\nmodule.exports = {\n    lineMode: false,\n    pasteCancelled: function () {\n        if ($cancelT && $cancelT > Date.now() - 50)\n            return true;\n        return $cancelT = false;\n    },\n    cancel: function () {\n        $cancelT = Date.now();\n    }\n};\n\n});\n\nace.define(\"ace/keyboard/textinput\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/clipboard\",\"ace/lib/keys\"], function(require, exports, module){\"use strict\";\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar clipboard = require(\"../clipboard\");\nvar BROKEN_SETDATA = useragent.isChrome < 18;\nvar USE_IE_MIME_TYPE = useragent.isIE;\nvar HAS_FOCUS_ARGS = useragent.isChrome > 63;\nvar MAX_LINE_LENGTH = 400;\nvar KEYS = require(\"../lib/keys\");\nvar MODS = KEYS.KEY_MODS;\nvar isIOS = useragent.isIOS;\nvar valueResetRegex = isIOS ? /\\s/ : /\\n/;\nvar isMobile = useragent.isMobile;\nvar TextInput = function (parentNode, host) {\n    var text = dom.createElement(\"textarea\");\n    text.className = \"ace_text-input\";\n    text.setAttribute(\"wrap\", \"off\");\n    text.setAttribute(\"autocorrect\", \"off\");\n    text.setAttribute(\"autocapitalize\", \"off\");\n    text.setAttribute(\"spellcheck\", false);\n    text.style.opacity = \"0\";\n    parentNode.insertBefore(text, parentNode.firstChild);\n    var copied = false;\n    var pasted = false;\n    var inComposition = false;\n    var sendingText = false;\n    var tempStyle = '';\n    if (!isMobile)\n        text.style.fontSize = \"1px\";\n    var commandMode = false;\n    var ignoreFocusEvents = false;\n    var lastValue = \"\";\n    var lastSelectionStart = 0;\n    var lastSelectionEnd = 0;\n    var lastRestoreEnd = 0;\n    try {\n        var isFocused = document.activeElement === text;\n    }\n    catch (e) { }\n    this.setAriaOptions = function (options) {\n        if (options.activeDescendant) {\n            text.setAttribute(\"aria-haspopup\", \"true\");\n            text.setAttribute(\"aria-autocomplete\", \"list\");\n            text.setAttribute(\"aria-activedescendant\", options.activeDescendant);\n        }\n        else {\n            text.setAttribute(\"aria-haspopup\", \"false\");\n            text.setAttribute(\"aria-autocomplete\", \"both\");\n            text.removeAttribute(\"aria-activedescendant\");\n        }\n        if (options.role) {\n            text.setAttribute(\"role\", options.role);\n        }\n    };\n    this.setAriaOptions({ role: \"textbox\" });\n    event.addListener(text, \"blur\", function (e) {\n        if (ignoreFocusEvents)\n            return;\n        host.onBlur(e);\n        isFocused = false;\n    }, host);\n    event.addListener(text, \"focus\", function (e) {\n        if (ignoreFocusEvents)\n            return;\n        isFocused = true;\n        if (useragent.isEdge) {\n            try {\n                if (!document.hasFocus())\n                    return;\n            }\n            catch (e) { }\n        }\n        host.onFocus(e);\n        if (useragent.isEdge)\n            setTimeout(resetSelection);\n        else\n            resetSelection();\n    }, host);\n    this.$focusScroll = false;\n    this.focus = function () {\n        if (tempStyle || HAS_FOCUS_ARGS || this.$focusScroll == \"browser\")\n            return text.focus({ preventScroll: true });\n        var top = text.style.top;\n        text.style.position = \"fixed\";\n        text.style.top = \"0px\";\n        try {\n            var isTransformed = text.getBoundingClientRect().top != 0;\n        }\n        catch (e) {\n            return;\n        }\n        var ancestors = [];\n        if (isTransformed) {\n            var t = text.parentElement;\n            while (t && t.nodeType == 1) {\n                ancestors.push(t);\n                t.setAttribute(\"ace_nocontext\", true);\n                if (!t.parentElement && t.getRootNode)\n                    t = t.getRootNode().host;\n                else\n                    t = t.parentElement;\n            }\n        }\n        text.focus({ preventScroll: true });\n        if (isTransformed) {\n            ancestors.forEach(function (p) {\n                p.removeAttribute(\"ace_nocontext\");\n            });\n        }\n        setTimeout(function () {\n            text.style.position = \"\";\n            if (text.style.top == \"0px\")\n                text.style.top = top;\n        }, 0);\n    };\n    this.blur = function () {\n        text.blur();\n    };\n    this.isFocused = function () {\n        return isFocused;\n    };\n    host.on(\"beforeEndOperation\", function () {\n        var curOp = host.curOp;\n        var commandName = curOp && curOp.command && curOp.command.name;\n        if (commandName == \"insertstring\")\n            return;\n        var isUserAction = commandName && (curOp.docChanged || curOp.selectionChanged);\n        if (inComposition && isUserAction) {\n            lastValue = text.value = \"\";\n            onCompositionEnd();\n        }\n        resetSelection();\n    });\n    var resetSelection = isIOS\n        ? function (value) {\n            if (!isFocused || (copied && !value) || sendingText)\n                return;\n            if (!value)\n                value = \"\";\n            var newValue = \"\\n ab\" + value + \"cde fg\\n\";\n            if (newValue != text.value)\n                text.value = lastValue = newValue;\n            var selectionStart = 4;\n            var selectionEnd = 4 + (value.length || (host.selection.isEmpty() ? 0 : 1));\n            if (lastSelectionStart != selectionStart || lastSelectionEnd != selectionEnd) {\n                text.setSelectionRange(selectionStart, selectionEnd);\n            }\n            lastSelectionStart = selectionStart;\n            lastSelectionEnd = selectionEnd;\n        }\n        : function () {\n            if (inComposition || sendingText)\n                return;\n            if (!isFocused && !afterContextMenu)\n                return;\n            inComposition = true;\n            var selectionStart = 0;\n            var selectionEnd = 0;\n            var line = \"\";\n            if (host.session) {\n                var selection = host.selection;\n                var range = selection.getRange();\n                var row = selection.cursor.row;\n                selectionStart = range.start.column;\n                selectionEnd = range.end.column;\n                line = host.session.getLine(row);\n                if (range.start.row != row) {\n                    var prevLine = host.session.getLine(row - 1);\n                    selectionStart = range.start.row < row - 1 ? 0 : selectionStart;\n                    selectionEnd += prevLine.length + 1;\n                    line = prevLine + \"\\n\" + line;\n                }\n                else if (range.end.row != row) {\n                    var nextLine = host.session.getLine(row + 1);\n                    selectionEnd = range.end.row > row + 1 ? nextLine.length : selectionEnd;\n                    selectionEnd += line.length + 1;\n                    line = line + \"\\n\" + nextLine;\n                }\n                else if (isMobile && row > 0) {\n                    line = \"\\n\" + line;\n                    selectionEnd += 1;\n                    selectionStart += 1;\n                }\n                if (line.length > MAX_LINE_LENGTH) {\n                    if (selectionStart < MAX_LINE_LENGTH && selectionEnd < MAX_LINE_LENGTH) {\n                        line = line.slice(0, MAX_LINE_LENGTH);\n                    }\n                    else {\n                        line = \"\\n\";\n                        if (selectionStart == selectionEnd) {\n                            selectionStart = selectionEnd = 0;\n                        }\n                        else {\n                            selectionStart = 0;\n                            selectionEnd = 1;\n                        }\n                    }\n                }\n            }\n            var newValue = line + \"\\n\\n\";\n            if (newValue != lastValue) {\n                text.value = lastValue = newValue;\n                lastSelectionStart = lastSelectionEnd = newValue.length;\n            }\n            if (afterContextMenu) {\n                lastSelectionStart = text.selectionStart;\n                lastSelectionEnd = text.selectionEnd;\n            }\n            if (lastSelectionEnd != selectionEnd\n                || lastSelectionStart != selectionStart\n                || text.selectionEnd != lastSelectionEnd // on ie edge selectionEnd changes silently after the initialization\n            ) {\n                try {\n                    text.setSelectionRange(selectionStart, selectionEnd);\n                    lastSelectionStart = selectionStart;\n                    lastSelectionEnd = selectionEnd;\n                }\n                catch (e) { }\n            }\n            inComposition = false;\n        };\n    this.resetSelection = resetSelection;\n    if (isFocused)\n        host.onFocus();\n    var isAllSelected = function (text) {\n        return text.selectionStart === 0 && text.selectionEnd >= lastValue.length\n            && text.value === lastValue && lastValue\n            && text.selectionEnd !== lastSelectionEnd;\n    };\n    var onSelect = function (e) {\n        if (inComposition)\n            return;\n        if (copied) {\n            copied = false;\n        }\n        else if (isAllSelected(text)) {\n            host.selectAll();\n            resetSelection();\n        }\n        else if (isMobile && text.selectionStart != lastSelectionStart) {\n            resetSelection();\n        }\n    };\n    var inputHandler = null;\n    this.setInputHandler = function (cb) { inputHandler = cb; };\n    this.getInputHandler = function () { return inputHandler; };\n    var afterContextMenu = false;\n    var sendText = function (value, fromInput) {\n        if (afterContextMenu)\n            afterContextMenu = false;\n        if (pasted) {\n            resetSelection();\n            if (value)\n                host.onPaste(value);\n            pasted = false;\n            return \"\";\n        }\n        else {\n            var selectionStart = text.selectionStart;\n            var selectionEnd = text.selectionEnd;\n            var extendLeft = lastSelectionStart;\n            var extendRight = lastValue.length - lastSelectionEnd;\n            var inserted = value;\n            var restoreStart = value.length - selectionStart;\n            var restoreEnd = value.length - selectionEnd;\n            var i = 0;\n            while (extendLeft > 0 && lastValue[i] == value[i]) {\n                i++;\n                extendLeft--;\n            }\n            inserted = inserted.slice(i);\n            i = 1;\n            while (extendRight > 0 && lastValue.length - i > lastSelectionStart - 1 && lastValue[lastValue.length - i] == value[value.length - i]) {\n                i++;\n                extendRight--;\n            }\n            restoreStart -= i - 1;\n            restoreEnd -= i - 1;\n            var endIndex = inserted.length - i + 1;\n            if (endIndex < 0) {\n                extendLeft = -endIndex;\n                endIndex = 0;\n            }\n            inserted = inserted.slice(0, endIndex);\n            if (!fromInput && !inserted && !restoreStart && !extendLeft && !extendRight && !restoreEnd)\n                return \"\";\n            sendingText = true;\n            var shouldReset = false;\n            if (useragent.isAndroid && inserted == \". \") {\n                inserted = \"  \";\n                shouldReset = true;\n            }\n            if (inserted && !extendLeft && !extendRight && !restoreStart && !restoreEnd || commandMode) {\n                host.onTextInput(inserted);\n            }\n            else {\n                host.onTextInput(inserted, {\n                    extendLeft: extendLeft,\n                    extendRight: extendRight,\n                    restoreStart: restoreStart,\n                    restoreEnd: restoreEnd\n                });\n            }\n            sendingText = false;\n            lastValue = value;\n            lastSelectionStart = selectionStart;\n            lastSelectionEnd = selectionEnd;\n            lastRestoreEnd = restoreEnd;\n            return shouldReset ? \"\\n\" : inserted;\n        }\n    };\n    var onInput = function (e) {\n        if (inComposition)\n            return onCompositionUpdate();\n        if (e && e.inputType) {\n            if (e.inputType == \"historyUndo\")\n                return host.execCommand(\"undo\");\n            if (e.inputType == \"historyRedo\")\n                return host.execCommand(\"redo\");\n        }\n        var data = text.value;\n        var inserted = sendText(data, true);\n        if (data.length > MAX_LINE_LENGTH + 100\n            || valueResetRegex.test(inserted)\n            || isMobile && lastSelectionStart < 1 && lastSelectionStart == lastSelectionEnd) {\n            resetSelection();\n        }\n    };\n    var handleClipboardData = function (e, data, forceIEMime) {\n        var clipboardData = e.clipboardData || window.clipboardData;\n        if (!clipboardData || BROKEN_SETDATA)\n            return;\n        var mime = USE_IE_MIME_TYPE || forceIEMime ? \"Text\" : \"text/plain\";\n        try {\n            if (data) {\n                return clipboardData.setData(mime, data) !== false;\n            }\n            else {\n                return clipboardData.getData(mime);\n            }\n        }\n        catch (e) {\n            if (!forceIEMime)\n                return handleClipboardData(e, data, true);\n        }\n    };\n    var doCopy = function (e, isCut) {\n        var data = host.getCopyText();\n        if (!data)\n            return event.preventDefault(e);\n        if (handleClipboardData(e, data)) {\n            if (isIOS) {\n                resetSelection(data);\n                copied = data;\n                setTimeout(function () {\n                    copied = false;\n                }, 10);\n            }\n            isCut ? host.onCut() : host.onCopy();\n            event.preventDefault(e);\n        }\n        else {\n            copied = true;\n            text.value = data;\n            text.select();\n            setTimeout(function () {\n                copied = false;\n                resetSelection();\n                isCut ? host.onCut() : host.onCopy();\n            });\n        }\n    };\n    var onCut = function (e) {\n        doCopy(e, true);\n    };\n    var onCopy = function (e) {\n        doCopy(e, false);\n    };\n    var onPaste = function (e) {\n        var data = handleClipboardData(e);\n        if (clipboard.pasteCancelled())\n            return;\n        if (typeof data == \"string\") {\n            if (data)\n                host.onPaste(data, e);\n            if (useragent.isIE)\n                setTimeout(resetSelection);\n            event.preventDefault(e);\n        }\n        else {\n            text.value = \"\";\n            pasted = true;\n        }\n    };\n    event.addCommandKeyListener(text, host.onCommandKey.bind(host), host);\n    event.addListener(text, \"select\", onSelect, host);\n    event.addListener(text, \"input\", onInput, host);\n    event.addListener(text, \"cut\", onCut, host);\n    event.addListener(text, \"copy\", onCopy, host);\n    event.addListener(text, \"paste\", onPaste, host);\n    if (!('oncut' in text) || !('oncopy' in text) || !('onpaste' in text)) {\n        event.addListener(parentNode, \"keydown\", function (e) {\n            if ((useragent.isMac && !e.metaKey) || !e.ctrlKey)\n                return;\n            switch (e.keyCode) {\n                case 67:\n                    onCopy(e);\n                    break;\n                case 86:\n                    onPaste(e);\n                    break;\n                case 88:\n                    onCut(e);\n                    break;\n            }\n        }, host);\n    }\n    var onCompositionStart = function (e) {\n        if (inComposition || !host.onCompositionStart || host.$readOnly)\n            return;\n        inComposition = {};\n        if (commandMode)\n            return;\n        if (e.data)\n            inComposition.useTextareaForIME = false;\n        setTimeout(onCompositionUpdate, 0);\n        host._signal(\"compositionStart\");\n        host.on(\"mousedown\", cancelComposition);\n        var range = host.getSelectionRange();\n        range.end.row = range.start.row;\n        range.end.column = range.start.column;\n        inComposition.markerRange = range;\n        inComposition.selectionStart = lastSelectionStart;\n        host.onCompositionStart(inComposition);\n        if (inComposition.useTextareaForIME) {\n            lastValue = text.value = \"\";\n            lastSelectionStart = 0;\n            lastSelectionEnd = 0;\n        }\n        else {\n            if (text.msGetInputContext)\n                inComposition.context = text.msGetInputContext();\n            if (text.getInputContext)\n                inComposition.context = text.getInputContext();\n        }\n    };\n    var onCompositionUpdate = function () {\n        if (!inComposition || !host.onCompositionUpdate || host.$readOnly)\n            return;\n        if (commandMode)\n            return cancelComposition();\n        if (inComposition.useTextareaForIME) {\n            host.onCompositionUpdate(text.value);\n        }\n        else {\n            var data = text.value;\n            sendText(data);\n            if (inComposition.markerRange) {\n                if (inComposition.context) {\n                    inComposition.markerRange.start.column = inComposition.selectionStart\n                        = inComposition.context.compositionStartOffset;\n                }\n                inComposition.markerRange.end.column = inComposition.markerRange.start.column\n                    + lastSelectionEnd - inComposition.selectionStart + lastRestoreEnd;\n            }\n        }\n    };\n    var onCompositionEnd = function (e) {\n        if (!host.onCompositionEnd || host.$readOnly)\n            return;\n        inComposition = false;\n        host.onCompositionEnd();\n        host.off(\"mousedown\", cancelComposition);\n        if (e)\n            onInput();\n    };\n    function cancelComposition() {\n        ignoreFocusEvents = true;\n        text.blur();\n        text.focus();\n        ignoreFocusEvents = false;\n    }\n    var syncComposition = lang.delayedCall(onCompositionUpdate, 50).schedule.bind(null, null);\n    function onKeyup(e) {\n        if (e.keyCode == 27 && text.value.length < text.selectionStart) {\n            if (!inComposition)\n                lastValue = text.value;\n            lastSelectionStart = lastSelectionEnd = -1;\n            resetSelection();\n        }\n        syncComposition();\n    }\n    event.addListener(text, \"compositionstart\", onCompositionStart, host);\n    event.addListener(text, \"compositionupdate\", onCompositionUpdate, host);\n    event.addListener(text, \"keyup\", onKeyup, host);\n    event.addListener(text, \"keydown\", syncComposition, host);\n    event.addListener(text, \"compositionend\", onCompositionEnd, host);\n    this.getElement = function () {\n        return text;\n    };\n    this.setCommandMode = function (value) {\n        commandMode = value;\n        text.readOnly = false;\n    };\n    this.setReadOnly = function (readOnly) {\n        if (!commandMode)\n            text.readOnly = readOnly;\n    };\n    this.setCopyWithEmptySelection = function (value) {\n    };\n    this.onContextMenu = function (e) {\n        afterContextMenu = true;\n        resetSelection();\n        host._emit(\"nativecontextmenu\", { target: host, domEvent: e });\n        this.moveToMouse(e, true);\n    };\n    this.moveToMouse = function (e, bringToFront) {\n        if (!tempStyle)\n            tempStyle = text.style.cssText;\n        text.style.cssText = (bringToFront ? \"z-index:100000;\" : \"\")\n            + (useragent.isIE ? \"opacity:0.1;\" : \"\")\n            + \"text-indent: -\" + (lastSelectionStart + lastSelectionEnd) * host.renderer.characterWidth * 0.5 + \"px;\";\n        var rect = host.container.getBoundingClientRect();\n        var style = dom.computedStyle(host.container);\n        var top = rect.top + (parseInt(style.borderTopWidth) || 0);\n        var left = rect.left + (parseInt(rect.borderLeftWidth) || 0);\n        var maxTop = rect.bottom - top - text.clientHeight - 2;\n        var move = function (e) {\n            dom.translate(text, e.clientX - left - 2, Math.min(e.clientY - top - 2, maxTop));\n        };\n        move(e);\n        if (e.type != \"mousedown\")\n            return;\n        host.renderer.$isMousePressed = true;\n        clearTimeout(closeTimeout);\n        if (useragent.isWin)\n            event.capture(host.container, move, onContextMenuClose);\n    };\n    this.onContextMenuClose = onContextMenuClose;\n    var closeTimeout;\n    function onContextMenuClose() {\n        clearTimeout(closeTimeout);\n        closeTimeout = setTimeout(function () {\n            if (tempStyle) {\n                text.style.cssText = tempStyle;\n                tempStyle = '';\n            }\n            host.renderer.$isMousePressed = false;\n            if (host.renderer.$keepTextAreaAtCursor)\n                host.renderer.$moveTextAreaToCursor();\n        }, 0);\n    }\n    var onContextMenu = function (e) {\n        host.textInput.onContextMenu(e);\n        onContextMenuClose();\n    };\n    event.addListener(text, \"mouseup\", onContextMenu, host);\n    event.addListener(text, \"mousedown\", function (e) {\n        e.preventDefault();\n        onContextMenuClose();\n    }, host);\n    event.addListener(host.renderer.scroller, \"contextmenu\", onContextMenu, host);\n    event.addListener(text, \"contextmenu\", onContextMenu, host);\n    if (isIOS)\n        addIosSelectionHandler(parentNode, host, text);\n    function addIosSelectionHandler(parentNode, host, text) {\n        var typingResetTimeout = null;\n        var typing = false;\n        text.addEventListener(\"keydown\", function (e) {\n            if (typingResetTimeout)\n                clearTimeout(typingResetTimeout);\n            typing = true;\n        }, true);\n        text.addEventListener(\"keyup\", function (e) {\n            typingResetTimeout = setTimeout(function () {\n                typing = false;\n            }, 100);\n        }, true);\n        var detectArrowKeys = function (e) {\n            if (document.activeElement !== text)\n                return;\n            if (typing || inComposition || host.$mouseHandler.isMousePressed)\n                return;\n            if (copied) {\n                return;\n            }\n            var selectionStart = text.selectionStart;\n            var selectionEnd = text.selectionEnd;\n            var key = null;\n            var modifier = 0;\n            if (selectionStart == 0) {\n                key = KEYS.up;\n            }\n            else if (selectionStart == 1) {\n                key = KEYS.home;\n            }\n            else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd] == \"\\n\") {\n                key = KEYS.end;\n            }\n            else if (selectionStart < lastSelectionStart && lastValue[selectionStart - 1] == \" \") {\n                key = KEYS.left;\n                modifier = MODS.option;\n            }\n            else if (selectionStart < lastSelectionStart\n                || (selectionStart == lastSelectionStart\n                    && lastSelectionEnd != lastSelectionStart\n                    && selectionStart == selectionEnd)) {\n                key = KEYS.left;\n            }\n            else if (selectionEnd > lastSelectionEnd && lastValue.slice(0, selectionEnd).split(\"\\n\").length > 2) {\n                key = KEYS.down;\n            }\n            else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd - 1] == \" \") {\n                key = KEYS.right;\n                modifier = MODS.option;\n            }\n            else if (selectionEnd > lastSelectionEnd\n                || (selectionEnd == lastSelectionEnd\n                    && lastSelectionEnd != lastSelectionStart\n                    && selectionStart == selectionEnd)) {\n                key = KEYS.right;\n            }\n            if (selectionStart !== selectionEnd)\n                modifier |= MODS.shift;\n            if (key) {\n                var result = host.onCommandKey({}, modifier, key);\n                if (!result && host.commands) {\n                    key = KEYS.keyCodeToString(key);\n                    var command = host.commands.findKeyCommand(modifier, key);\n                    if (command)\n                        host.execCommand(command);\n                }\n                lastSelectionStart = selectionStart;\n                lastSelectionEnd = selectionEnd;\n                resetSelection(\"\");\n            }\n        };\n        document.addEventListener(\"selectionchange\", detectArrowKeys);\n        host.on(\"destroy\", function () {\n            document.removeEventListener(\"selectionchange\", detectArrowKeys);\n        });\n    }\n    this.destroy = function () {\n        if (text.parentElement)\n            text.parentElement.removeChild(text);\n    };\n};\nexports.TextInput = TextInput;\nexports.$setUserAgentForTests = function (_isMobile, _isIOS) {\n    isMobile = _isMobile;\n    isIOS = _isIOS;\n};\n\n});\n\nace.define(\"ace/mouse/default_handlers\",[\"require\",\"exports\",\"module\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar useragent = require(\"../lib/useragent\");\nvar DRAG_OFFSET = 0; // pixels\nvar SCROLL_COOLDOWN_T = 550; // milliseconds\nfunction DefaultHandlers(mouseHandler) {\n    mouseHandler.$clickSelection = null;\n    var editor = mouseHandler.editor;\n    editor.setDefaultHandler(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n    editor.setDefaultHandler(\"dblclick\", this.onDoubleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"tripleclick\", this.onTripleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"quadclick\", this.onQuadClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"mousewheel\", this.onMouseWheel.bind(mouseHandler));\n    var exports = [\"select\", \"startSelect\", \"selectEnd\", \"selectAllEnd\", \"selectByWordsEnd\",\n        \"selectByLinesEnd\", \"dragWait\", \"dragWaitEnd\", \"focusWait\"];\n    exports.forEach(function (x) {\n        mouseHandler[x] = this[x];\n    }, this);\n    mouseHandler.selectByLines = this.extendSelectionBy.bind(mouseHandler, \"getLineRange\");\n    mouseHandler.selectByWords = this.extendSelectionBy.bind(mouseHandler, \"getWordRange\");\n}\n(function () {\n    this.onMouseDown = function (ev) {\n        var inSelection = ev.inSelection();\n        var pos = ev.getDocumentPosition();\n        this.mousedownEvent = ev;\n        var editor = this.editor;\n        var button = ev.getButton();\n        if (button !== 0) {\n            var selectionRange = editor.getSelectionRange();\n            var selectionEmpty = selectionRange.isEmpty();\n            if (selectionEmpty || button == 1)\n                editor.selection.moveToPosition(pos);\n            if (button == 2) {\n                editor.textInput.onContextMenu(ev.domEvent);\n                if (!useragent.isMozilla)\n                    ev.preventDefault();\n            }\n            return;\n        }\n        this.mousedownEvent.time = Date.now();\n        if (inSelection && !editor.isFocused()) {\n            editor.focus();\n            if (this.$focusTimeout && !this.$clickSelection && !editor.inMultiSelectMode) {\n                this.setState(\"focusWait\");\n                this.captureMouse(ev);\n                return;\n            }\n        }\n        this.captureMouse(ev);\n        this.startSelect(pos, ev.domEvent._clicks > 1);\n        return ev.preventDefault();\n    };\n    this.startSelect = function (pos, waitForClickSelection) {\n        pos = pos || this.editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var editor = this.editor;\n        if (!this.mousedownEvent)\n            return;\n        if (this.mousedownEvent.getShiftKey())\n            editor.selection.selectToPosition(pos);\n        else if (!waitForClickSelection)\n            editor.selection.moveToPosition(pos);\n        if (!waitForClickSelection)\n            this.select();\n        if (editor.renderer.scroller.setCapture) {\n            editor.renderer.scroller.setCapture();\n        }\n        editor.setStyle(\"ace_selecting\");\n        this.setState(\"select\");\n    };\n    this.select = function () {\n        var anchor, editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n        if (this.$clickSelection) {\n            var cmp = this.$clickSelection.comparePoint(cursor);\n            if (cmp == -1) {\n                anchor = this.$clickSelection.end;\n            }\n            else if (cmp == 1) {\n                anchor = this.$clickSelection.start;\n            }\n            else {\n                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                cursor = orientedRange.cursor;\n                anchor = orientedRange.anchor;\n            }\n            editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n        editor.renderer.scrollCursorIntoView();\n    };\n    this.extendSelectionBy = function (unitName) {\n        var anchor, editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var range = editor.selection[unitName](cursor.row, cursor.column);\n        if (this.$clickSelection) {\n            var cmpStart = this.$clickSelection.comparePoint(range.start);\n            var cmpEnd = this.$clickSelection.comparePoint(range.end);\n            if (cmpStart == -1 && cmpEnd <= 0) {\n                anchor = this.$clickSelection.end;\n                if (range.end.row != cursor.row || range.end.column != cursor.column)\n                    cursor = range.start;\n            }\n            else if (cmpEnd == 1 && cmpStart >= 0) {\n                anchor = this.$clickSelection.start;\n                if (range.start.row != cursor.row || range.start.column != cursor.column)\n                    cursor = range.end;\n            }\n            else if (cmpStart == -1 && cmpEnd == 1) {\n                cursor = range.end;\n                anchor = range.start;\n            }\n            else {\n                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                cursor = orientedRange.cursor;\n                anchor = orientedRange.anchor;\n            }\n            editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n        editor.renderer.scrollCursorIntoView();\n    };\n    this.selectEnd =\n        this.selectAllEnd =\n            this.selectByWordsEnd =\n                this.selectByLinesEnd = function () {\n                    this.$clickSelection = null;\n                    this.editor.unsetStyle(\"ace_selecting\");\n                    if (this.editor.renderer.scroller.releaseCapture) {\n                        this.editor.renderer.scroller.releaseCapture();\n                    }\n                };\n    this.focusWait = function () {\n        var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n        var time = Date.now();\n        if (distance > DRAG_OFFSET || time - this.mousedownEvent.time > this.$focusTimeout)\n            this.startSelect(this.mousedownEvent.getDocumentPosition());\n    };\n    this.onDoubleClick = function (ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n        var session = editor.session;\n        var range = session.getBracketRange(pos);\n        if (range) {\n            if (range.isEmpty()) {\n                range.start.column--;\n                range.end.column++;\n            }\n            this.setState(\"select\");\n        }\n        else {\n            range = editor.selection.getWordRange(pos.row, pos.column);\n            this.setState(\"selectByWords\");\n        }\n        this.$clickSelection = range;\n        this.select();\n    };\n    this.onTripleClick = function (ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n        this.setState(\"selectByLines\");\n        var range = editor.getSelectionRange();\n        if (range.isMultiLine() && range.contains(pos.row, pos.column)) {\n            this.$clickSelection = editor.selection.getLineRange(range.start.row);\n            this.$clickSelection.end = editor.selection.getLineRange(range.end.row).end;\n        }\n        else {\n            this.$clickSelection = editor.selection.getLineRange(pos.row);\n        }\n        this.select();\n    };\n    this.onQuadClick = function (ev) {\n        var editor = this.editor;\n        editor.selectAll();\n        this.$clickSelection = editor.getSelectionRange();\n        this.setState(\"selectAll\");\n    };\n    this.onMouseWheel = function (ev) {\n        if (ev.getAccelKey())\n            return;\n        if (ev.getShiftKey() && ev.wheelY && !ev.wheelX) {\n            ev.wheelX = ev.wheelY;\n            ev.wheelY = 0;\n        }\n        var editor = this.editor;\n        if (!this.$lastScroll)\n            this.$lastScroll = { t: 0, vx: 0, vy: 0, allowed: 0 };\n        var prevScroll = this.$lastScroll;\n        var t = ev.domEvent.timeStamp;\n        var dt = t - prevScroll.t;\n        var vx = dt ? ev.wheelX / dt : prevScroll.vx;\n        var vy = dt ? ev.wheelY / dt : prevScroll.vy;\n        if (dt < SCROLL_COOLDOWN_T) {\n            vx = (vx + prevScroll.vx) / 2;\n            vy = (vy + prevScroll.vy) / 2;\n        }\n        var direction = Math.abs(vx / vy);\n        var canScroll = false;\n        if (direction >= 1 && editor.renderer.isScrollableBy(ev.wheelX * ev.speed, 0))\n            canScroll = true;\n        if (direction <= 1 && editor.renderer.isScrollableBy(0, ev.wheelY * ev.speed))\n            canScroll = true;\n        if (canScroll) {\n            prevScroll.allowed = t;\n        }\n        else if (t - prevScroll.allowed < SCROLL_COOLDOWN_T) {\n            var isSlower = Math.abs(vx) <= 1.5 * Math.abs(prevScroll.vx)\n                && Math.abs(vy) <= 1.5 * Math.abs(prevScroll.vy);\n            if (isSlower) {\n                canScroll = true;\n                prevScroll.allowed = t;\n            }\n            else {\n                prevScroll.allowed = 0;\n            }\n        }\n        prevScroll.t = t;\n        prevScroll.vx = vx;\n        prevScroll.vy = vy;\n        if (canScroll) {\n            editor.renderer.scrollBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);\n            return ev.stop();\n        }\n    };\n}).call(DefaultHandlers.prototype);\nexports.DefaultHandlers = DefaultHandlers;\nfunction calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n}\nfunction calcRangeOrientation(range, cursor) {\n    if (range.start.row == range.end.row)\n        var cmp = 2 * cursor.column - range.start.column - range.end.column;\n    else if (range.start.row == range.end.row - 1 && !range.start.column && !range.end.column)\n        var cmp = cursor.column - 4;\n    else\n        var cmp = 2 * cursor.row - range.start.row - range.end.row;\n    if (cmp < 0)\n        return { cursor: range.start, anchor: range.end };\n    else\n        return { cursor: range.end, anchor: range.start };\n}\n\n});\n\nace.define(\"ace/tooltip\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar CLASSNAME = \"ace_tooltip\";\nfunction Tooltip(parentNode) {\n    this.isOpen = false;\n    this.$element = null;\n    this.$parentNode = parentNode;\n}\n(function () {\n    this.$init = function () {\n        this.$element = dom.createElement(\"div\");\n        this.$element.className = CLASSNAME;\n        this.$element.style.display = \"none\";\n        this.$parentNode.appendChild(this.$element);\n        return this.$element;\n    };\n    this.getElement = function () {\n        return this.$element || this.$init();\n    };\n    this.setText = function (text) {\n        this.getElement().textContent = text;\n    };\n    this.setHtml = function (html) {\n        this.getElement().innerHTML = html;\n    };\n    this.setPosition = function (x, y) {\n        this.getElement().style.left = x + \"px\";\n        this.getElement().style.top = y + \"px\";\n    };\n    this.setClassName = function (className) {\n        dom.addCssClass(this.getElement(), className);\n    };\n    this.show = function (text, x, y) {\n        if (text != null)\n            this.setText(text);\n        if (x != null && y != null)\n            this.setPosition(x, y);\n        if (!this.isOpen) {\n            this.getElement().style.display = \"block\";\n            this.isOpen = true;\n        }\n    };\n    this.hide = function () {\n        if (this.isOpen) {\n            this.getElement().style.display = \"none\";\n            this.getElement().className = CLASSNAME;\n            this.isOpen = false;\n        }\n    };\n    this.getHeight = function () {\n        return this.getElement().offsetHeight;\n    };\n    this.getWidth = function () {\n        return this.getElement().offsetWidth;\n    };\n    this.destroy = function () {\n        this.isOpen = false;\n        if (this.$element && this.$element.parentNode) {\n            this.$element.parentNode.removeChild(this.$element);\n        }\n    };\n}).call(Tooltip.prototype);\nexports.Tooltip = Tooltip;\n\n});\n\nace.define(\"ace/mouse/default_gutter_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/event\",\"ace/tooltip\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar event = require(\"../lib/event\");\nvar Tooltip = require(\"../tooltip\").Tooltip;\nfunction GutterHandler(mouseHandler) {\n    var editor = mouseHandler.editor;\n    var gutter = editor.renderer.$gutterLayer;\n    var tooltip = new GutterTooltip(editor.container);\n    mouseHandler.editor.setDefaultHandler(\"guttermousedown\", function (e) {\n        if (!editor.isFocused() || e.getButton() != 0)\n            return;\n        var gutterRegion = gutter.getRegion(e);\n        if (gutterRegion == \"foldWidgets\")\n            return;\n        var row = e.getDocumentPosition().row;\n        var selection = editor.session.selection;\n        if (e.getShiftKey())\n            selection.selectTo(row, 0);\n        else {\n            if (e.domEvent.detail == 2) {\n                editor.selectAll();\n                return e.preventDefault();\n            }\n            mouseHandler.$clickSelection = editor.selection.getLineRange(row);\n        }\n        mouseHandler.setState(\"selectByLines\");\n        mouseHandler.captureMouse(e);\n        return e.preventDefault();\n    });\n    var tooltipTimeout, mouseEvent, tooltipAnnotation;\n    function showTooltip() {\n        var row = mouseEvent.getDocumentPosition().row;\n        var annotation = gutter.$annotations[row];\n        if (!annotation)\n            return hideTooltip();\n        var maxRow = editor.session.getLength();\n        if (row == maxRow) {\n            var screenRow = editor.renderer.pixelToScreenCoordinates(0, mouseEvent.y).row;\n            var pos = mouseEvent.$pos;\n            if (screenRow > editor.session.documentToScreenRow(pos.row, pos.column))\n                return hideTooltip();\n        }\n        if (tooltipAnnotation == annotation)\n            return;\n        tooltipAnnotation = annotation.text.join(\"<br/>\");\n        tooltip.setHtml(tooltipAnnotation);\n        var annotationClassName = annotation.className;\n        if (annotationClassName) {\n            tooltip.setClassName(annotationClassName.trim());\n        }\n        tooltip.show();\n        editor._signal(\"showGutterTooltip\", tooltip);\n        editor.on(\"mousewheel\", hideTooltip);\n        if (mouseHandler.$tooltipFollowsMouse) {\n            moveTooltip(mouseEvent);\n        }\n        else {\n            var gutterElement = mouseEvent.domEvent.target;\n            var rect = gutterElement.getBoundingClientRect();\n            var style = tooltip.getElement().style;\n            style.left = rect.right + \"px\";\n            style.top = rect.bottom + \"px\";\n        }\n    }\n    function hideTooltip() {\n        if (tooltipTimeout)\n            tooltipTimeout = clearTimeout(tooltipTimeout);\n        if (tooltipAnnotation) {\n            tooltip.hide();\n            tooltipAnnotation = null;\n            editor._signal(\"hideGutterTooltip\", tooltip);\n            editor.off(\"mousewheel\", hideTooltip);\n        }\n    }\n    function moveTooltip(e) {\n        tooltip.setPosition(e.x, e.y);\n    }\n    mouseHandler.editor.setDefaultHandler(\"guttermousemove\", function (e) {\n        var target = e.domEvent.target || e.domEvent.srcElement;\n        if (dom.hasCssClass(target, \"ace_fold-widget\"))\n            return hideTooltip();\n        if (tooltipAnnotation && mouseHandler.$tooltipFollowsMouse)\n            moveTooltip(e);\n        mouseEvent = e;\n        if (tooltipTimeout)\n            return;\n        tooltipTimeout = setTimeout(function () {\n            tooltipTimeout = null;\n            if (mouseEvent && !mouseHandler.isMousePressed)\n                showTooltip();\n            else\n                hideTooltip();\n        }, 50);\n    });\n    event.addListener(editor.renderer.$gutter, \"mouseout\", function (e) {\n        mouseEvent = null;\n        if (!tooltipAnnotation || tooltipTimeout)\n            return;\n        tooltipTimeout = setTimeout(function () {\n            tooltipTimeout = null;\n            hideTooltip();\n        }, 50);\n    }, editor);\n    editor.on(\"changeSession\", hideTooltip);\n}\nfunction GutterTooltip(parentNode) {\n    Tooltip.call(this, parentNode);\n}\noop.inherits(GutterTooltip, Tooltip);\n(function () {\n    this.setPosition = function (x, y) {\n        var windowWidth = window.innerWidth || document.documentElement.clientWidth;\n        var windowHeight = window.innerHeight || document.documentElement.clientHeight;\n        var width = this.getWidth();\n        var height = this.getHeight();\n        x += 15;\n        y += 15;\n        if (x + width > windowWidth) {\n            x -= (x + width) - windowWidth;\n        }\n        if (y + height > windowHeight) {\n            y -= 20 + height;\n        }\n        Tooltip.prototype.setPosition.call(this, x, y);\n    };\n}).call(GutterTooltip.prototype);\nexports.GutterHandler = GutterHandler;\n\n});\n\nace.define(\"ace/mouse/mouse_event\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar MouseEvent = exports.MouseEvent = function (domEvent, editor) {\n    this.domEvent = domEvent;\n    this.editor = editor;\n    this.x = this.clientX = domEvent.clientX;\n    this.y = this.clientY = domEvent.clientY;\n    this.$pos = null;\n    this.$inSelection = null;\n    this.propagationStopped = false;\n    this.defaultPrevented = false;\n};\n(function () {\n    this.stopPropagation = function () {\n        event.stopPropagation(this.domEvent);\n        this.propagationStopped = true;\n    };\n    this.preventDefault = function () {\n        event.preventDefault(this.domEvent);\n        this.defaultPrevented = true;\n    };\n    this.stop = function () {\n        this.stopPropagation();\n        this.preventDefault();\n    };\n    this.getDocumentPosition = function () {\n        if (this.$pos)\n            return this.$pos;\n        this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY);\n        return this.$pos;\n    };\n    this.inSelection = function () {\n        if (this.$inSelection !== null)\n            return this.$inSelection;\n        var editor = this.editor;\n        var selectionRange = editor.getSelectionRange();\n        if (selectionRange.isEmpty())\n            this.$inSelection = false;\n        else {\n            var pos = this.getDocumentPosition();\n            this.$inSelection = selectionRange.contains(pos.row, pos.column);\n        }\n        return this.$inSelection;\n    };\n    this.getButton = function () {\n        return event.getButton(this.domEvent);\n    };\n    this.getShiftKey = function () {\n        return this.domEvent.shiftKey;\n    };\n    this.getAccelKey = useragent.isMac\n        ? function () { return this.domEvent.metaKey; }\n        : function () { return this.domEvent.ctrlKey; };\n}).call(MouseEvent.prototype);\n\n});\n\nace.define(\"ace/mouse/dragdrop_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar AUTOSCROLL_DELAY = 200;\nvar SCROLL_CURSOR_DELAY = 200;\nvar SCROLL_CURSOR_HYSTERESIS = 5;\nfunction DragdropHandler(mouseHandler) {\n    var editor = mouseHandler.editor;\n    var dragImage = dom.createElement(\"div\");\n    dragImage.style.cssText = \"top:-100px;position:absolute;z-index:2147483647;opacity:0.5\";\n    dragImage.textContent = \"\\xa0\";\n    var exports = [\"dragWait\", \"dragWaitEnd\", \"startDrag\", \"dragReadyEnd\", \"onMouseDrag\"];\n    exports.forEach(function (x) {\n        mouseHandler[x] = this[x];\n    }, this);\n    editor.on(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n    var mouseTarget = editor.container;\n    var dragSelectionMarker, x, y;\n    var timerId, range;\n    var dragCursor, counter = 0;\n    var dragOperation;\n    var isInternal;\n    var autoScrollStartTime;\n    var cursorMovedTime;\n    var cursorPointOnCaretMoved;\n    this.onDragStart = function (e) {\n        if (this.cancelDrag || !mouseTarget.draggable) {\n            var self = this;\n            setTimeout(function () {\n                self.startSelect();\n                self.captureMouse(e);\n            }, 0);\n            return e.preventDefault();\n        }\n        range = editor.getSelectionRange();\n        var dataTransfer = e.dataTransfer;\n        dataTransfer.effectAllowed = editor.getReadOnly() ? \"copy\" : \"copyMove\";\n        editor.container.appendChild(dragImage);\n        dataTransfer.setDragImage && dataTransfer.setDragImage(dragImage, 0, 0);\n        setTimeout(function () {\n            editor.container.removeChild(dragImage);\n        });\n        dataTransfer.clearData();\n        dataTransfer.setData(\"Text\", editor.session.getTextRange());\n        isInternal = true;\n        this.setState(\"drag\");\n    };\n    this.onDragEnd = function (e) {\n        mouseTarget.draggable = false;\n        isInternal = false;\n        this.setState(null);\n        if (!editor.getReadOnly()) {\n            var dropEffect = e.dataTransfer.dropEffect;\n            if (!dragOperation && dropEffect == \"move\")\n                editor.session.remove(editor.getSelectionRange());\n            editor.$resetCursorStyle();\n        }\n        this.editor.unsetStyle(\"ace_dragging\");\n        this.editor.renderer.setCursorStyle(\"\");\n    };\n    this.onDragEnter = function (e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer))\n            return;\n        x = e.clientX;\n        y = e.clientY;\n        if (!dragSelectionMarker)\n            addDragMarker();\n        counter++;\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n    };\n    this.onDragOver = function (e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer))\n            return;\n        x = e.clientX;\n        y = e.clientY;\n        if (!dragSelectionMarker) {\n            addDragMarker();\n            counter++;\n        }\n        if (onMouseMoveTimer !== null)\n            onMouseMoveTimer = null;\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n    };\n    this.onDragLeave = function (e) {\n        counter--;\n        if (counter <= 0 && dragSelectionMarker) {\n            clearDragMarker();\n            dragOperation = null;\n            return event.preventDefault(e);\n        }\n    };\n    this.onDrop = function (e) {\n        if (!dragCursor)\n            return;\n        var dataTransfer = e.dataTransfer;\n        if (isInternal) {\n            switch (dragOperation) {\n                case \"move\":\n                    if (range.contains(dragCursor.row, dragCursor.column)) {\n                        range = {\n                            start: dragCursor,\n                            end: dragCursor\n                        };\n                    }\n                    else {\n                        range = editor.moveText(range, dragCursor);\n                    }\n                    break;\n                case \"copy\":\n                    range = editor.moveText(range, dragCursor, true);\n                    break;\n            }\n        }\n        else {\n            var dropData = dataTransfer.getData('Text');\n            range = {\n                start: dragCursor,\n                end: editor.session.insert(dragCursor, dropData)\n            };\n            editor.focus();\n            dragOperation = null;\n        }\n        clearDragMarker();\n        return event.preventDefault(e);\n    };\n    event.addListener(mouseTarget, \"dragstart\", this.onDragStart.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragend\", this.onDragEnd.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragenter\", this.onDragEnter.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragover\", this.onDragOver.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragleave\", this.onDragLeave.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"drop\", this.onDrop.bind(mouseHandler), editor);\n    function scrollCursorIntoView(cursor, prevCursor) {\n        var now = Date.now();\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        var hMovement = !prevCursor || cursor.column != prevCursor.column;\n        if (!cursorMovedTime || vMovement || hMovement) {\n            editor.moveCursorToPosition(cursor);\n            cursorMovedTime = now;\n            cursorPointOnCaretMoved = { x: x, y: y };\n        }\n        else {\n            var distance = calcDistance(cursorPointOnCaretMoved.x, cursorPointOnCaretMoved.y, x, y);\n            if (distance > SCROLL_CURSOR_HYSTERESIS) {\n                cursorMovedTime = null;\n            }\n            else if (now - cursorMovedTime >= SCROLL_CURSOR_DELAY) {\n                editor.renderer.scrollCursorIntoView();\n                cursorMovedTime = null;\n            }\n        }\n    }\n    function autoScroll(cursor, prevCursor) {\n        var now = Date.now();\n        var lineHeight = editor.renderer.layerConfig.lineHeight;\n        var characterWidth = editor.renderer.layerConfig.characterWidth;\n        var editorRect = editor.renderer.scroller.getBoundingClientRect();\n        var offsets = {\n            x: {\n                left: x - editorRect.left,\n                right: editorRect.right - x\n            },\n            y: {\n                top: y - editorRect.top,\n                bottom: editorRect.bottom - y\n            }\n        };\n        var nearestXOffset = Math.min(offsets.x.left, offsets.x.right);\n        var nearestYOffset = Math.min(offsets.y.top, offsets.y.bottom);\n        var scrollCursor = { row: cursor.row, column: cursor.column };\n        if (nearestXOffset / characterWidth <= 2) {\n            scrollCursor.column += (offsets.x.left < offsets.x.right ? -3 : +2);\n        }\n        if (nearestYOffset / lineHeight <= 1) {\n            scrollCursor.row += (offsets.y.top < offsets.y.bottom ? -1 : +1);\n        }\n        var vScroll = cursor.row != scrollCursor.row;\n        var hScroll = cursor.column != scrollCursor.column;\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        if (vScroll || (hScroll && !vMovement)) {\n            if (!autoScrollStartTime)\n                autoScrollStartTime = now;\n            else if (now - autoScrollStartTime >= AUTOSCROLL_DELAY)\n                editor.renderer.scrollCursorIntoView(scrollCursor);\n        }\n        else {\n            autoScrollStartTime = null;\n        }\n    }\n    function onDragInterval() {\n        var prevCursor = dragCursor;\n        dragCursor = editor.renderer.screenToTextCoordinates(x, y);\n        scrollCursorIntoView(dragCursor, prevCursor);\n        autoScroll(dragCursor, prevCursor);\n    }\n    function addDragMarker() {\n        range = editor.selection.toOrientedRange();\n        dragSelectionMarker = editor.session.addMarker(range, \"ace_selection\", editor.getSelectionStyle());\n        editor.clearSelection();\n        if (editor.isFocused())\n            editor.renderer.$cursorLayer.setBlinking(false);\n        clearInterval(timerId);\n        onDragInterval();\n        timerId = setInterval(onDragInterval, 20);\n        counter = 0;\n        event.addListener(document, \"mousemove\", onMouseMove);\n    }\n    function clearDragMarker() {\n        clearInterval(timerId);\n        editor.session.removeMarker(dragSelectionMarker);\n        dragSelectionMarker = null;\n        editor.selection.fromOrientedRange(range);\n        if (editor.isFocused() && !isInternal)\n            editor.$resetCursorStyle();\n        range = null;\n        dragCursor = null;\n        counter = 0;\n        autoScrollStartTime = null;\n        cursorMovedTime = null;\n        event.removeListener(document, \"mousemove\", onMouseMove);\n    }\n    var onMouseMoveTimer = null;\n    function onMouseMove() {\n        if (onMouseMoveTimer == null) {\n            onMouseMoveTimer = setTimeout(function () {\n                if (onMouseMoveTimer != null && dragSelectionMarker)\n                    clearDragMarker();\n            }, 20);\n        }\n    }\n    function canAccept(dataTransfer) {\n        var types = dataTransfer.types;\n        return !types || Array.prototype.some.call(types, function (type) {\n            return type == 'text/plain' || type == 'Text';\n        });\n    }\n    function getDropEffect(e) {\n        var copyAllowed = ['copy', 'copymove', 'all', 'uninitialized'];\n        var moveAllowed = ['move', 'copymove', 'linkmove', 'all', 'uninitialized'];\n        var copyModifierState = useragent.isMac ? e.altKey : e.ctrlKey;\n        var effectAllowed = \"uninitialized\";\n        try {\n            effectAllowed = e.dataTransfer.effectAllowed.toLowerCase();\n        }\n        catch (e) { }\n        var dropEffect = \"none\";\n        if (copyModifierState && copyAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"copy\";\n        else if (moveAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"move\";\n        else if (copyAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"copy\";\n        return dropEffect;\n    }\n}\n(function () {\n    this.dragWait = function () {\n        var interval = Date.now() - this.mousedownEvent.time;\n        if (interval > this.editor.getDragDelay())\n            this.startDrag();\n    };\n    this.dragWaitEnd = function () {\n        var target = this.editor.container;\n        target.draggable = false;\n        this.startSelect(this.mousedownEvent.getDocumentPosition());\n        this.selectEnd();\n    };\n    this.dragReadyEnd = function (e) {\n        this.editor.$resetCursorStyle();\n        this.editor.unsetStyle(\"ace_dragging\");\n        this.editor.renderer.setCursorStyle(\"\");\n        this.dragWaitEnd();\n    };\n    this.startDrag = function () {\n        this.cancelDrag = false;\n        var editor = this.editor;\n        var target = editor.container;\n        target.draggable = true;\n        editor.renderer.$cursorLayer.setBlinking(false);\n        editor.setStyle(\"ace_dragging\");\n        var cursorStyle = useragent.isWin ? \"default\" : \"move\";\n        editor.renderer.setCursorStyle(cursorStyle);\n        this.setState(\"dragReady\");\n    };\n    this.onMouseDrag = function (e) {\n        var target = this.editor.container;\n        if (useragent.isIE && this.state == \"dragReady\") {\n            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n            if (distance > 3)\n                target.dragDrop();\n        }\n        if (this.state === \"dragWait\") {\n            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n            if (distance > 0) {\n                target.draggable = false;\n                this.startSelect(this.mousedownEvent.getDocumentPosition());\n            }\n        }\n    };\n    this.onMouseDown = function (e) {\n        if (!this.$dragEnabled)\n            return;\n        this.mousedownEvent = e;\n        var editor = this.editor;\n        var inSelection = e.inSelection();\n        var button = e.getButton();\n        var clickCount = e.domEvent.detail || 1;\n        if (clickCount === 1 && button === 0 && inSelection) {\n            if (e.editor.inMultiSelectMode && (e.getAccelKey() || e.getShiftKey()))\n                return;\n            this.mousedownEvent.time = Date.now();\n            var eventTarget = e.domEvent.target || e.domEvent.srcElement;\n            if (\"unselectable\" in eventTarget)\n                eventTarget.unselectable = \"on\";\n            if (editor.getDragDelay()) {\n                if (useragent.isWebKit) {\n                    this.cancelDrag = true;\n                    var mouseTarget = editor.container;\n                    mouseTarget.draggable = true;\n                }\n                this.setState(\"dragWait\");\n            }\n            else {\n                this.startDrag();\n            }\n            this.captureMouse(e, this.onMouseDrag.bind(this));\n            e.defaultPrevented = true;\n        }\n    };\n}).call(DragdropHandler.prototype);\nfunction calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n}\nexports.DragdropHandler = DragdropHandler;\n\n});\n\nace.define(\"ace/mouse/touch_handler\",[\"require\",\"exports\",\"module\",\"ace/mouse/mouse_event\",\"ace/lib/event\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar MouseEvent = require(\"./mouse_event\").MouseEvent;\nvar event = require(\"../lib/event\");\nvar dom = require(\"../lib/dom\");\nexports.addTouchListeners = function (el, editor) {\n    var mode = \"scroll\";\n    var startX;\n    var startY;\n    var touchStartT;\n    var lastT;\n    var longTouchTimer;\n    var animationTimer;\n    var animationSteps = 0;\n    var pos;\n    var clickCount = 0;\n    var vX = 0;\n    var vY = 0;\n    var pressed;\n    var contextMenu;\n    function createContextMenu() {\n        var clipboard = window.navigator && window.navigator.clipboard;\n        var isOpen = false;\n        var updateMenu = function () {\n            var selected = editor.getCopyText();\n            var hasUndo = editor.session.getUndoManager().hasUndo();\n            contextMenu.replaceChild(dom.buildDom(isOpen ? [\"span\",\n                !selected && [\"span\", { class: \"ace_mobile-button\", action: \"selectall\" }, \"Select All\"],\n                selected && [\"span\", { class: \"ace_mobile-button\", action: \"copy\" }, \"Copy\"],\n                selected && [\"span\", { class: \"ace_mobile-button\", action: \"cut\" }, \"Cut\"],\n                clipboard && [\"span\", { class: \"ace_mobile-button\", action: \"paste\" }, \"Paste\"],\n                hasUndo && [\"span\", { class: \"ace_mobile-button\", action: \"undo\" }, \"Undo\"],\n                [\"span\", { class: \"ace_mobile-button\", action: \"find\" }, \"Find\"],\n                [\"span\", { class: \"ace_mobile-button\", action: \"openCommandPallete\" }, \"Palette\"]\n            ] : [\"span\"]), contextMenu.firstChild);\n        };\n        var handleClick = function (e) {\n            var action = e.target.getAttribute(\"action\");\n            if (action == \"more\" || !isOpen) {\n                isOpen = !isOpen;\n                return updateMenu();\n            }\n            if (action == \"paste\") {\n                clipboard.readText().then(function (text) {\n                    editor.execCommand(action, text);\n                });\n            }\n            else if (action) {\n                if (action == \"cut\" || action == \"copy\") {\n                    if (clipboard)\n                        clipboard.writeText(editor.getCopyText());\n                    else\n                        document.execCommand(\"copy\");\n                }\n                editor.execCommand(action);\n            }\n            contextMenu.firstChild.style.display = \"none\";\n            isOpen = false;\n            if (action != \"openCommandPallete\")\n                editor.focus();\n        };\n        contextMenu = dom.buildDom([\"div\",\n            {\n                class: \"ace_mobile-menu\",\n                ontouchstart: function (e) {\n                    mode = \"menu\";\n                    e.stopPropagation();\n                    e.preventDefault();\n                    editor.textInput.focus();\n                },\n                ontouchend: function (e) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    handleClick(e);\n                },\n                onclick: handleClick\n            },\n            [\"span\"],\n            [\"span\", { class: \"ace_mobile-button\", action: \"more\" }, \"...\"]\n        ], editor.container);\n    }\n    function showContextMenu() {\n        if (!contextMenu)\n            createContextMenu();\n        var cursor = editor.selection.cursor;\n        var pagePos = editor.renderer.textToScreenCoordinates(cursor.row, cursor.column);\n        var leftOffset = editor.renderer.textToScreenCoordinates(0, 0).pageX;\n        var scrollLeft = editor.renderer.scrollLeft;\n        var rect = editor.container.getBoundingClientRect();\n        contextMenu.style.top = pagePos.pageY - rect.top - 3 + \"px\";\n        if (pagePos.pageX - rect.left < rect.width - 70) {\n            contextMenu.style.left = \"\";\n            contextMenu.style.right = \"10px\";\n        }\n        else {\n            contextMenu.style.right = \"\";\n            contextMenu.style.left = leftOffset + scrollLeft - rect.left + \"px\";\n        }\n        contextMenu.style.display = \"\";\n        contextMenu.firstChild.style.display = \"none\";\n        editor.on(\"input\", hideContextMenu);\n    }\n    function hideContextMenu(e) {\n        if (contextMenu)\n            contextMenu.style.display = \"none\";\n        editor.off(\"input\", hideContextMenu);\n    }\n    function handleLongTap() {\n        longTouchTimer = null;\n        clearTimeout(longTouchTimer);\n        var range = editor.selection.getRange();\n        var inSelection = range.contains(pos.row, pos.column);\n        if (range.isEmpty() || !inSelection) {\n            editor.selection.moveToPosition(pos);\n            editor.selection.selectWord();\n        }\n        mode = \"wait\";\n        showContextMenu();\n    }\n    function switchToSelectionMode() {\n        longTouchTimer = null;\n        clearTimeout(longTouchTimer);\n        editor.selection.moveToPosition(pos);\n        var range = clickCount >= 2\n            ? editor.selection.getLineRange(pos.row)\n            : editor.session.getBracketRange(pos);\n        if (range && !range.isEmpty()) {\n            editor.selection.setRange(range);\n        }\n        else {\n            editor.selection.selectWord();\n        }\n        mode = \"wait\";\n    }\n    event.addListener(el, \"contextmenu\", function (e) {\n        if (!pressed)\n            return;\n        var textarea = editor.textInput.getElement();\n        textarea.focus();\n    }, editor);\n    event.addListener(el, \"touchstart\", function (e) {\n        var touches = e.touches;\n        if (longTouchTimer || touches.length > 1) {\n            clearTimeout(longTouchTimer);\n            longTouchTimer = null;\n            touchStartT = -1;\n            mode = \"zoom\";\n            return;\n        }\n        pressed = editor.$mouseHandler.isMousePressed = true;\n        var h = editor.renderer.layerConfig.lineHeight;\n        var w = editor.renderer.layerConfig.lineHeight;\n        var t = e.timeStamp;\n        lastT = t;\n        var touchObj = touches[0];\n        var x = touchObj.clientX;\n        var y = touchObj.clientY;\n        if (Math.abs(startX - x) + Math.abs(startY - y) > h)\n            touchStartT = -1;\n        startX = e.clientX = x;\n        startY = e.clientY = y;\n        vX = vY = 0;\n        var ev = new MouseEvent(e, editor);\n        pos = ev.getDocumentPosition();\n        if (t - touchStartT < 500 && touches.length == 1 && !animationSteps) {\n            clickCount++;\n            e.preventDefault();\n            e.button = 0;\n            switchToSelectionMode();\n        }\n        else {\n            clickCount = 0;\n            var cursor = editor.selection.cursor;\n            var anchor = editor.selection.isEmpty() ? cursor : editor.selection.anchor;\n            var cursorPos = editor.renderer.$cursorLayer.getPixelPosition(cursor, true);\n            var anchorPos = editor.renderer.$cursorLayer.getPixelPosition(anchor, true);\n            var rect = editor.renderer.scroller.getBoundingClientRect();\n            var offsetTop = editor.renderer.layerConfig.offset;\n            var offsetLeft = editor.renderer.scrollLeft;\n            var weightedDistance = function (x, y) {\n                x = x / w;\n                y = y / h - 0.75;\n                return x * x + y * y;\n            };\n            if (e.clientX < rect.left) {\n                mode = \"zoom\";\n                return;\n            }\n            var diff1 = weightedDistance(e.clientX - rect.left - cursorPos.left + offsetLeft, e.clientY - rect.top - cursorPos.top + offsetTop);\n            var diff2 = weightedDistance(e.clientX - rect.left - anchorPos.left + offsetLeft, e.clientY - rect.top - anchorPos.top + offsetTop);\n            if (diff1 < 3.5 && diff2 < 3.5)\n                mode = diff1 > diff2 ? \"cursor\" : \"anchor\";\n            if (diff2 < 3.5)\n                mode = \"anchor\";\n            else if (diff1 < 3.5)\n                mode = \"cursor\";\n            else\n                mode = \"scroll\";\n            longTouchTimer = setTimeout(handleLongTap, 450);\n        }\n        touchStartT = t;\n    }, editor);\n    event.addListener(el, \"touchend\", function (e) {\n        pressed = editor.$mouseHandler.isMousePressed = false;\n        if (animationTimer)\n            clearInterval(animationTimer);\n        if (mode == \"zoom\") {\n            mode = \"\";\n            animationSteps = 0;\n        }\n        else if (longTouchTimer) {\n            editor.selection.moveToPosition(pos);\n            animationSteps = 0;\n            showContextMenu();\n        }\n        else if (mode == \"scroll\") {\n            animate();\n            hideContextMenu();\n        }\n        else {\n            showContextMenu();\n        }\n        clearTimeout(longTouchTimer);\n        longTouchTimer = null;\n    }, editor);\n    event.addListener(el, \"touchmove\", function (e) {\n        if (longTouchTimer) {\n            clearTimeout(longTouchTimer);\n            longTouchTimer = null;\n        }\n        var touches = e.touches;\n        if (touches.length > 1 || mode == \"zoom\")\n            return;\n        var touchObj = touches[0];\n        var wheelX = startX - touchObj.clientX;\n        var wheelY = startY - touchObj.clientY;\n        if (mode == \"wait\") {\n            if (wheelX * wheelX + wheelY * wheelY > 4)\n                mode = \"cursor\";\n            else\n                return e.preventDefault();\n        }\n        startX = touchObj.clientX;\n        startY = touchObj.clientY;\n        e.clientX = touchObj.clientX;\n        e.clientY = touchObj.clientY;\n        var t = e.timeStamp;\n        var dt = t - lastT;\n        lastT = t;\n        if (mode == \"scroll\") {\n            var mouseEvent = new MouseEvent(e, editor);\n            mouseEvent.speed = 1;\n            mouseEvent.wheelX = wheelX;\n            mouseEvent.wheelY = wheelY;\n            if (10 * Math.abs(wheelX) < Math.abs(wheelY))\n                wheelX = 0;\n            if (10 * Math.abs(wheelY) < Math.abs(wheelX))\n                wheelY = 0;\n            if (dt != 0) {\n                vX = wheelX / dt;\n                vY = wheelY / dt;\n            }\n            editor._emit(\"mousewheel\", mouseEvent);\n            if (!mouseEvent.propagationStopped) {\n                vX = vY = 0;\n            }\n        }\n        else {\n            var ev = new MouseEvent(e, editor);\n            var pos = ev.getDocumentPosition();\n            if (mode == \"cursor\")\n                editor.selection.moveCursorToPosition(pos);\n            else if (mode == \"anchor\")\n                editor.selection.setSelectionAnchor(pos.row, pos.column);\n            editor.renderer.scrollCursorIntoView(pos);\n            e.preventDefault();\n        }\n    }, editor);\n    function animate() {\n        animationSteps += 60;\n        animationTimer = setInterval(function () {\n            if (animationSteps-- <= 0) {\n                clearInterval(animationTimer);\n                animationTimer = null;\n            }\n            if (Math.abs(vX) < 0.01)\n                vX = 0;\n            if (Math.abs(vY) < 0.01)\n                vY = 0;\n            if (animationSteps < 20)\n                vX = 0.9 * vX;\n            if (animationSteps < 20)\n                vY = 0.9 * vY;\n            var oldScrollTop = editor.session.getScrollTop();\n            editor.renderer.scrollBy(10 * vX, 10 * vY);\n            if (oldScrollTop == editor.session.getScrollTop())\n                animationSteps = 0;\n        }, 10);\n    }\n};\n\n});\n\nace.define(\"ace/mouse/mouse_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/mouse/default_handlers\",\"ace/mouse/default_gutter_handler\",\"ace/mouse/mouse_event\",\"ace/mouse/dragdrop_handler\",\"ace/mouse/touch_handler\",\"ace/config\"], function(require, exports, module){\"use strict\";\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar DefaultHandlers = require(\"./default_handlers\").DefaultHandlers;\nvar DefaultGutterHandler = require(\"./default_gutter_handler\").GutterHandler;\nvar MouseEvent = require(\"./mouse_event\").MouseEvent;\nvar DragdropHandler = require(\"./dragdrop_handler\").DragdropHandler;\nvar addTouchListeners = require(\"./touch_handler\").addTouchListeners;\nvar config = require(\"../config\");\nvar MouseHandler = function (editor) {\n    var _self = this;\n    this.editor = editor;\n    new DefaultHandlers(this);\n    new DefaultGutterHandler(this);\n    new DragdropHandler(this);\n    var focusEditor = function (e) {\n        var windowBlurred = !document.hasFocus || !document.hasFocus()\n            || !editor.isFocused() && document.activeElement == (editor.textInput && editor.textInput.getElement());\n        if (windowBlurred)\n            window.focus();\n        editor.focus();\n        setTimeout(function () {\n            if (!editor.isFocused())\n                editor.focus();\n        });\n    };\n    var mouseTarget = editor.renderer.getMouseEventTarget();\n    event.addListener(mouseTarget, \"click\", this.onMouseEvent.bind(this, \"click\"), editor);\n    event.addListener(mouseTarget, \"mousemove\", this.onMouseMove.bind(this, \"mousemove\"), editor);\n    event.addMultiMouseDownListener([\n        mouseTarget,\n        editor.renderer.scrollBarV && editor.renderer.scrollBarV.inner,\n        editor.renderer.scrollBarH && editor.renderer.scrollBarH.inner,\n        editor.textInput && editor.textInput.getElement()\n    ].filter(Boolean), [400, 300, 250], this, \"onMouseEvent\", editor);\n    event.addMouseWheelListener(editor.container, this.onMouseWheel.bind(this, \"mousewheel\"), editor);\n    addTouchListeners(editor.container, editor);\n    var gutterEl = editor.renderer.$gutter;\n    event.addListener(gutterEl, \"mousedown\", this.onMouseEvent.bind(this, \"guttermousedown\"), editor);\n    event.addListener(gutterEl, \"click\", this.onMouseEvent.bind(this, \"gutterclick\"), editor);\n    event.addListener(gutterEl, \"dblclick\", this.onMouseEvent.bind(this, \"gutterdblclick\"), editor);\n    event.addListener(gutterEl, \"mousemove\", this.onMouseEvent.bind(this, \"guttermousemove\"), editor);\n    event.addListener(mouseTarget, \"mousedown\", focusEditor, editor);\n    event.addListener(gutterEl, \"mousedown\", focusEditor, editor);\n    if (useragent.isIE && editor.renderer.scrollBarV) {\n        event.addListener(editor.renderer.scrollBarV.element, \"mousedown\", focusEditor, editor);\n        event.addListener(editor.renderer.scrollBarH.element, \"mousedown\", focusEditor, editor);\n    }\n    editor.on(\"mousemove\", function (e) {\n        if (_self.state || _self.$dragDelay || !_self.$dragEnabled)\n            return;\n        var character = editor.renderer.screenToTextCoordinates(e.x, e.y);\n        var range = editor.session.selection.getRange();\n        var renderer = editor.renderer;\n        if (!range.isEmpty() && range.insideStart(character.row, character.column)) {\n            renderer.setCursorStyle(\"default\");\n        }\n        else {\n            renderer.setCursorStyle(\"\");\n        }\n    }, editor);\n};\n(function () {\n    this.onMouseEvent = function (name, e) {\n        if (!this.editor.session)\n            return;\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n    this.onMouseMove = function (name, e) {\n        var listeners = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;\n        if (!listeners || !listeners.length)\n            return;\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n    this.onMouseWheel = function (name, e) {\n        var mouseEvent = new MouseEvent(e, this.editor);\n        mouseEvent.speed = this.$scrollSpeed * 2;\n        mouseEvent.wheelX = e.wheelX;\n        mouseEvent.wheelY = e.wheelY;\n        this.editor._emit(name, mouseEvent);\n    };\n    this.setState = function (state) {\n        this.state = state;\n    };\n    this.captureMouse = function (ev, mouseMoveHandler) {\n        this.x = ev.x;\n        this.y = ev.y;\n        this.isMousePressed = true;\n        var editor = this.editor;\n        var renderer = this.editor.renderer;\n        renderer.$isMousePressed = true;\n        var self = this;\n        var onMouseMove = function (e) {\n            if (!e)\n                return;\n            if (useragent.isWebKit && !e.which && self.releaseMouse)\n                return self.releaseMouse();\n            self.x = e.clientX;\n            self.y = e.clientY;\n            mouseMoveHandler && mouseMoveHandler(e);\n            self.mouseEvent = new MouseEvent(e, self.editor);\n            self.$mouseMoved = true;\n        };\n        var onCaptureEnd = function (e) {\n            editor.off(\"beforeEndOperation\", onOperationEnd);\n            clearInterval(timerId);\n            if (editor.session)\n                onCaptureInterval();\n            self[self.state + \"End\"] && self[self.state + \"End\"](e);\n            self.state = \"\";\n            self.isMousePressed = renderer.$isMousePressed = false;\n            if (renderer.$keepTextAreaAtCursor)\n                renderer.$moveTextAreaToCursor();\n            self.$onCaptureMouseMove = self.releaseMouse = null;\n            e && self.onMouseEvent(\"mouseup\", e);\n            editor.endOperation();\n        };\n        var onCaptureInterval = function () {\n            self[self.state] && self[self.state]();\n            self.$mouseMoved = false;\n        };\n        if (useragent.isOldIE && ev.domEvent.type == \"dblclick\") {\n            return setTimeout(function () { onCaptureEnd(ev); });\n        }\n        var onOperationEnd = function (e) {\n            if (!self.releaseMouse)\n                return;\n            if (editor.curOp.command.name && editor.curOp.selectionChanged) {\n                self[self.state + \"End\"] && self[self.state + \"End\"]();\n                self.state = \"\";\n                self.releaseMouse();\n            }\n        };\n        editor.on(\"beforeEndOperation\", onOperationEnd);\n        editor.startOperation({ command: { name: \"mouse\" } });\n        self.$onCaptureMouseMove = onMouseMove;\n        self.releaseMouse = event.capture(this.editor.container, onMouseMove, onCaptureEnd);\n        var timerId = setInterval(onCaptureInterval, 20);\n    };\n    this.releaseMouse = null;\n    this.cancelContextMenu = function () {\n        var stop = function (e) {\n            if (e && e.domEvent && e.domEvent.type != \"contextmenu\")\n                return;\n            this.editor.off(\"nativecontextmenu\", stop);\n            if (e && e.domEvent)\n                event.stopEvent(e.domEvent);\n        }.bind(this);\n        setTimeout(stop, 10);\n        this.editor.on(\"nativecontextmenu\", stop);\n    };\n    this.destroy = function () {\n        if (this.releaseMouse)\n            this.releaseMouse();\n    };\n}).call(MouseHandler.prototype);\nconfig.defineOptions(MouseHandler.prototype, \"mouseHandler\", {\n    scrollSpeed: { initialValue: 2 },\n    dragDelay: { initialValue: (useragent.isMac ? 150 : 0) },\n    dragEnabled: { initialValue: true },\n    focusTimeout: { initialValue: 0 },\n    tooltipFollowsMouse: { initialValue: true }\n});\nexports.MouseHandler = MouseHandler;\n\n});\n\nace.define(\"ace/mouse/fold_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nfunction FoldHandler(editor) {\n    editor.on(\"click\", function (e) {\n        var position = e.getDocumentPosition();\n        var session = editor.session;\n        var fold = session.getFoldAt(position.row, position.column, 1);\n        if (fold) {\n            if (e.getAccelKey())\n                session.removeFold(fold);\n            else\n                session.expandFold(fold);\n            e.stop();\n        }\n        var target = e.domEvent && e.domEvent.target;\n        if (target && dom.hasCssClass(target, \"ace_inline_button\")) {\n            if (dom.hasCssClass(target, \"ace_toggle_wrap\")) {\n                session.setOption(\"wrap\", !session.getUseWrapMode());\n                editor.renderer.scrollCursorIntoView();\n            }\n        }\n    });\n    editor.on(\"gutterclick\", function (e) {\n        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n        if (gutterRegion == \"foldWidgets\") {\n            var row = e.getDocumentPosition().row;\n            var session = editor.session;\n            if (session.foldWidgets && session.foldWidgets[row])\n                editor.session.onFoldWidgetClick(row, e);\n            if (!editor.isFocused())\n                editor.focus();\n            e.stop();\n        }\n    });\n    editor.on(\"gutterdblclick\", function (e) {\n        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n        if (gutterRegion == \"foldWidgets\") {\n            var row = e.getDocumentPosition().row;\n            var session = editor.session;\n            var data = session.getParentFoldRangeData(row, true);\n            var range = data.range || data.firstRange;\n            if (range) {\n                row = range.start.row;\n                var fold = session.getFoldAt(row, session.getLine(row).length, 1);\n                if (fold) {\n                    session.removeFold(fold);\n                }\n                else {\n                    session.addFold(\"...\", range);\n                    editor.renderer.scrollCursorIntoView({ row: range.start.row, column: 0 });\n                }\n            }\n            e.stop();\n        }\n    });\n}\nexports.FoldHandler = FoldHandler;\n\n});\n\nace.define(\"ace/keyboard/keybinding\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/event\"], function(require, exports, module){\"use strict\";\nvar keyUtil = require(\"../lib/keys\");\nvar event = require(\"../lib/event\");\nvar KeyBinding = function (editor) {\n    this.$editor = editor;\n    this.$data = { editor: editor };\n    this.$handlers = [];\n    this.setDefaultHandler(editor.commands);\n};\n(function () {\n    this.setDefaultHandler = function (kb) {\n        this.removeKeyboardHandler(this.$defaultHandler);\n        this.$defaultHandler = kb;\n        this.addKeyboardHandler(kb, 0);\n    };\n    this.setKeyboardHandler = function (kb) {\n        var h = this.$handlers;\n        if (h[h.length - 1] == kb)\n            return;\n        while (h[h.length - 1] && h[h.length - 1] != this.$defaultHandler)\n            this.removeKeyboardHandler(h[h.length - 1]);\n        this.addKeyboardHandler(kb, 1);\n    };\n    this.addKeyboardHandler = function (kb, pos) {\n        if (!kb)\n            return;\n        if (typeof kb == \"function\" && !kb.handleKeyboard)\n            kb.handleKeyboard = kb;\n        var i = this.$handlers.indexOf(kb);\n        if (i != -1)\n            this.$handlers.splice(i, 1);\n        if (pos == undefined)\n            this.$handlers.push(kb);\n        else\n            this.$handlers.splice(pos, 0, kb);\n        if (i == -1 && kb.attach)\n            kb.attach(this.$editor);\n    };\n    this.removeKeyboardHandler = function (kb) {\n        var i = this.$handlers.indexOf(kb);\n        if (i == -1)\n            return false;\n        this.$handlers.splice(i, 1);\n        kb.detach && kb.detach(this.$editor);\n        return true;\n    };\n    this.getKeyboardHandler = function () {\n        return this.$handlers[this.$handlers.length - 1];\n    };\n    this.getStatusText = function () {\n        var data = this.$data;\n        var editor = data.editor;\n        return this.$handlers.map(function (h) {\n            return h.getStatusText && h.getStatusText(editor, data) || \"\";\n        }).filter(Boolean).join(\" \");\n    };\n    this.$callKeyboardHandlers = function (hashId, keyString, keyCode, e) {\n        var toExecute;\n        var success = false;\n        var commands = this.$editor.commands;\n        for (var i = this.$handlers.length; i--;) {\n            toExecute = this.$handlers[i].handleKeyboard(this.$data, hashId, keyString, keyCode, e);\n            if (!toExecute || !toExecute.command)\n                continue;\n            if (toExecute.command == \"null\") {\n                success = true;\n            }\n            else {\n                success = commands.exec(toExecute.command, this.$editor, toExecute.args, e);\n            }\n            if (success && e && hashId != -1 &&\n                toExecute.passEvent != true && toExecute.command.passEvent != true) {\n                event.stopEvent(e);\n            }\n            if (success)\n                break;\n        }\n        if (!success && hashId == -1) {\n            toExecute = { command: \"insertstring\" };\n            success = commands.exec(\"insertstring\", this.$editor, keyString);\n        }\n        if (success && this.$editor._signal)\n            this.$editor._signal(\"keyboardActivity\", toExecute);\n        return success;\n    };\n    this.onCommandKey = function (e, hashId, keyCode) {\n        var keyString = keyUtil.keyCodeToString(keyCode);\n        return this.$callKeyboardHandlers(hashId, keyString, keyCode, e);\n    };\n    this.onTextInput = function (text) {\n        return this.$callKeyboardHandlers(-1, text);\n    };\n}).call(KeyBinding.prototype);\nexports.KeyBinding = KeyBinding;\n\n});\n\nace.define(\"ace/lib/bidiutil\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar ArabicAlefBetIntervalsBegine = ['\\u0621', '\\u0641'];\nvar ArabicAlefBetIntervalsEnd = ['\\u063A', '\\u064a'];\nvar dir = 0, hiLevel = 0;\nvar lastArabic = false, hasUBAT_AL = false, hasUBAT_B = false, hasUBAT_S = false, hasBlockSep = false, hasSegSep = false;\nvar impTab_LTR = [ [0, 3, 0, 1, 0, 0, 0], [0, 3, 0, 1, 2, 2, 0], [0, 3, 0, 0x11, 2, 0, 1], [0, 3, 5, 5, 4, 1, 0], [0, 3, 0x15, 0x15, 4, 0, 1], [0, 3, 5, 5, 4, 2, 0]\n];\nvar impTab_RTL = [ [2, 0, 1, 1, 0, 1, 0], [2, 0, 1, 1, 0, 2, 0], [2, 0, 2, 1, 3, 2, 0], [2, 0, 2, 0x21, 3, 1, 1]\n];\nvar LTR = 0, RTL = 1;\nvar L = 0;\nvar R = 1;\nvar EN = 2;\nvar AN = 3;\nvar ON = 4;\nvar B = 5;\nvar S = 6;\nvar AL = 7;\nvar WS = 8;\nvar CS = 9;\nvar ES = 10;\nvar ET = 11;\nvar NSM = 12;\nvar LRE = 13;\nvar RLE = 14;\nvar PDF = 15;\nvar LRO = 16;\nvar RLO = 17;\nvar BN = 18;\nvar UnicodeTBL00 = [\n    BN, BN, BN, BN, BN, BN, BN, BN, BN, S, B, S, WS, B, BN, BN,\n    BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, B, B, B, S,\n    WS, ON, ON, ET, ET, ET, ON, ON, ON, ON, ON, ES, CS, ES, CS, CS,\n    EN, EN, EN, EN, EN, EN, EN, EN, EN, EN, CS, ON, ON, ON, ON, ON,\n    ON, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L,\n    L, L, L, L, L, L, L, L, L, L, L, ON, ON, ON, ON, ON,\n    ON, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L,\n    L, L, L, L, L, L, L, L, L, L, L, ON, ON, ON, ON, BN,\n    BN, BN, BN, BN, BN, B, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN,\n    BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN,\n    CS, ON, ET, ET, ET, ET, ON, ON, ON, ON, L, ON, ON, BN, ON, ON,\n    ET, ET, EN, EN, ON, L, ON, ON, ON, EN, L, ON, ON, ON, ON, ON\n];\nvar UnicodeTBL20 = [\n    WS, WS, WS, WS, WS, WS, WS, WS, WS, WS, WS, BN, BN, BN, L, R,\n    ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON,\n    ON, ON, ON, ON, ON, ON, ON, ON, WS, B, LRE, RLE, PDF, LRO, RLO, CS,\n    ET, ET, ET, ET, ET, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON,\n    ON, ON, ON, ON, CS, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON,\n    ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, WS\n];\nfunction _computeLevels(chars, levels, len, charTypes) {\n    var impTab = dir ? impTab_RTL : impTab_LTR, prevState = null, newClass = null, newLevel = null, newState = 0, action = null, cond = null, condPos = -1, i = null, ix = null, classes = [];\n    if (!charTypes) {\n        for (i = 0, charTypes = []; i < len; i++) {\n            charTypes[i] = _getCharacterType(chars[i]);\n        }\n    }\n    hiLevel = dir;\n    lastArabic = false;\n    hasUBAT_AL = false;\n    hasUBAT_B = false;\n    hasUBAT_S = false;\n    for (ix = 0; ix < len; ix++) {\n        prevState = newState;\n        classes[ix] = newClass = _getCharClass(chars, charTypes, classes, ix);\n        newState = impTab[prevState][newClass];\n        action = newState & 0xF0;\n        newState &= 0x0F;\n        levels[ix] = newLevel = impTab[newState][5];\n        if (action > 0) {\n            if (action == 0x10) {\n                for (i = condPos; i < ix; i++) {\n                    levels[i] = 1;\n                }\n                condPos = -1;\n            }\n            else {\n                condPos = -1;\n            }\n        }\n        cond = impTab[newState][6];\n        if (cond) {\n            if (condPos == -1) {\n                condPos = ix;\n            }\n        }\n        else {\n            if (condPos > -1) {\n                for (i = condPos; i < ix; i++) {\n                    levels[i] = newLevel;\n                }\n                condPos = -1;\n            }\n        }\n        if (charTypes[ix] == B) {\n            levels[ix] = 0;\n        }\n        hiLevel |= newLevel;\n    }\n    if (hasUBAT_S) {\n        for (i = 0; i < len; i++) {\n            if (charTypes[i] == S) {\n                levels[i] = dir;\n                for (var j = i - 1; j >= 0; j--) {\n                    if (charTypes[j] == WS) {\n                        levels[j] = dir;\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n        }\n    }\n}\nfunction _invertLevel(lev, levels, _array) {\n    if (hiLevel < lev) {\n        return;\n    }\n    if (lev == 1 && dir == RTL && !hasUBAT_B) {\n        _array.reverse();\n        return;\n    }\n    var len = _array.length, start = 0, end, lo, hi, tmp;\n    while (start < len) {\n        if (levels[start] >= lev) {\n            end = start + 1;\n            while (end < len && levels[end] >= lev) {\n                end++;\n            }\n            for (lo = start, hi = end - 1; lo < hi; lo++, hi--) {\n                tmp = _array[lo];\n                _array[lo] = _array[hi];\n                _array[hi] = tmp;\n            }\n            start = end;\n        }\n        start++;\n    }\n}\nfunction _getCharClass(chars, types, classes, ix) {\n    var cType = types[ix], wType, nType, len, i;\n    switch (cType) {\n        case L:\n        case R:\n            lastArabic = false;\n        case ON:\n        case AN:\n            return cType;\n        case EN:\n            return lastArabic ? AN : EN;\n        case AL:\n            lastArabic = true;\n            hasUBAT_AL = true;\n            return R;\n        case WS:\n            return ON;\n        case CS:\n            if (ix < 1 || (ix + 1) >= types.length ||\n                ((wType = classes[ix - 1]) != EN && wType != AN) ||\n                ((nType = types[ix + 1]) != EN && nType != AN)) {\n                return ON;\n            }\n            if (lastArabic) {\n                nType = AN;\n            }\n            return nType == wType ? nType : ON;\n        case ES:\n            wType = ix > 0 ? classes[ix - 1] : B;\n            if (wType == EN && (ix + 1) < types.length && types[ix + 1] == EN) {\n                return EN;\n            }\n            return ON;\n        case ET:\n            if (ix > 0 && classes[ix - 1] == EN) {\n                return EN;\n            }\n            if (lastArabic) {\n                return ON;\n            }\n            i = ix + 1;\n            len = types.length;\n            while (i < len && types[i] == ET) {\n                i++;\n            }\n            if (i < len && types[i] == EN) {\n                return EN;\n            }\n            return ON;\n        case NSM:\n            len = types.length;\n            i = ix + 1;\n            while (i < len && types[i] == NSM) {\n                i++;\n            }\n            if (i < len) {\n                var c = chars[ix], rtlCandidate = (c >= 0x0591 && c <= 0x08FF) || c == 0xFB1E;\n                wType = types[i];\n                if (rtlCandidate && (wType == R || wType == AL)) {\n                    return R;\n                }\n            }\n            if (ix < 1 || (wType = types[ix - 1]) == B) {\n                return ON;\n            }\n            return classes[ix - 1];\n        case B:\n            lastArabic = false;\n            hasUBAT_B = true;\n            return dir;\n        case S:\n            hasUBAT_S = true;\n            return ON;\n        case LRE:\n        case RLE:\n        case LRO:\n        case RLO:\n        case PDF:\n            lastArabic = false;\n        case BN:\n            return ON;\n    }\n}\nfunction _getCharacterType(ch) {\n    var uc = ch.charCodeAt(0), hi = uc >> 8;\n    if (hi == 0) {\n        return ((uc > 0x00BF) ? L : UnicodeTBL00[uc]);\n    }\n    else if (hi == 5) {\n        return (/[\\u0591-\\u05f4]/.test(ch) ? R : L);\n    }\n    else if (hi == 6) {\n        if (/[\\u0610-\\u061a\\u064b-\\u065f\\u06d6-\\u06e4\\u06e7-\\u06ed]/.test(ch))\n            return NSM;\n        else if (/[\\u0660-\\u0669\\u066b-\\u066c]/.test(ch))\n            return AN;\n        else if (uc == 0x066A)\n            return ET;\n        else if (/[\\u06f0-\\u06f9]/.test(ch))\n            return EN;\n        else\n            return AL;\n    }\n    else if (hi == 0x20 && uc <= 0x205F) {\n        return UnicodeTBL20[uc & 0xFF];\n    }\n    else if (hi == 0xFE) {\n        return (uc >= 0xFE70 ? AL : ON);\n    }\n    return ON;\n}\nfunction _isArabicDiacritics(ch) {\n    return (ch >= '\\u064b' && ch <= '\\u0655');\n}\nexports.L = L;\nexports.R = R;\nexports.EN = EN;\nexports.ON_R = 3;\nexports.AN = 4;\nexports.R_H = 5;\nexports.B = 6;\nexports.RLE = 7;\nexports.DOT = \"\\xB7\";\nexports.doBidiReorder = function (text, textCharTypes, isRtl) {\n    if (text.length < 2)\n        return {};\n    var chars = text.split(\"\"), logicalFromVisual = new Array(chars.length), bidiLevels = new Array(chars.length), levels = [];\n    dir = isRtl ? RTL : LTR;\n    _computeLevels(chars, levels, chars.length, textCharTypes);\n    for (var i = 0; i < logicalFromVisual.length; logicalFromVisual[i] = i, i++)\n        ;\n    _invertLevel(2, levels, logicalFromVisual);\n    _invertLevel(1, levels, logicalFromVisual);\n    for (var i = 0; i < logicalFromVisual.length - 1; i++) { //fix levels to reflect character width\n        if (textCharTypes[i] === AN) {\n            levels[i] = exports.AN;\n        }\n        else if (levels[i] === R && ((textCharTypes[i] > AL && textCharTypes[i] < LRE)\n            || textCharTypes[i] === ON || textCharTypes[i] === BN)) {\n            levels[i] = exports.ON_R;\n        }\n        else if ((i > 0 && chars[i - 1] === '\\u0644') && /\\u0622|\\u0623|\\u0625|\\u0627/.test(chars[i])) {\n            levels[i - 1] = levels[i] = exports.R_H;\n            i++;\n        }\n    }\n    if (chars[chars.length - 1] === exports.DOT)\n        levels[chars.length - 1] = exports.B;\n    if (chars[0] === '\\u202B')\n        levels[0] = exports.RLE;\n    for (var i = 0; i < logicalFromVisual.length; i++) {\n        bidiLevels[i] = levels[logicalFromVisual[i]];\n    }\n    return { 'logicalFromVisual': logicalFromVisual, 'bidiLevels': bidiLevels };\n};\nexports.hasBidiCharacters = function (text, textCharTypes) {\n    var ret = false;\n    for (var i = 0; i < text.length; i++) {\n        textCharTypes[i] = _getCharacterType(text.charAt(i));\n        if (!ret && (textCharTypes[i] == R || textCharTypes[i] == AL || textCharTypes[i] == AN))\n            ret = true;\n    }\n    return ret;\n};\nexports.getVisualFromLogicalIdx = function (logIdx, rowMap) {\n    for (var i = 0; i < rowMap.logicalFromVisual.length; i++) {\n        if (rowMap.logicalFromVisual[i] == logIdx)\n            return i;\n    }\n    return 0;\n};\n\n});\n\nace.define(\"ace/bidihandler\",[\"require\",\"exports\",\"module\",\"ace/lib/bidiutil\",\"ace/lib/lang\"], function(require, exports, module){\"use strict\";\nvar bidiUtil = require(\"./lib/bidiutil\");\nvar lang = require(\"./lib/lang\");\nvar bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac\\u202B]/;\nvar BidiHandler = function (session) {\n    this.session = session;\n    this.bidiMap = {};\n    this.currentRow = null;\n    this.bidiUtil = bidiUtil;\n    this.charWidths = [];\n    this.EOL = \"\\xAC\";\n    this.showInvisibles = true;\n    this.isRtlDir = false;\n    this.$isRtl = false;\n    this.line = \"\";\n    this.wrapIndent = 0;\n    this.EOF = \"\\xB6\";\n    this.RLE = \"\\u202B\";\n    this.contentWidth = 0;\n    this.fontMetrics = null;\n    this.rtlLineOffset = 0;\n    this.wrapOffset = 0;\n    this.isMoveLeftOperation = false;\n    this.seenBidi = bidiRE.test(session.getValue());\n};\n(function () {\n    this.isBidiRow = function (screenRow, docRow, splitIndex) {\n        if (!this.seenBidi)\n            return false;\n        if (screenRow !== this.currentRow) {\n            this.currentRow = screenRow;\n            this.updateRowLine(docRow, splitIndex);\n            this.updateBidiMap();\n        }\n        return this.bidiMap.bidiLevels;\n    };\n    this.onChange = function (delta) {\n        if (!this.seenBidi) {\n            if (delta.action == \"insert\" && bidiRE.test(delta.lines.join(\"\\n\"))) {\n                this.seenBidi = true;\n                this.currentRow = null;\n            }\n        }\n        else {\n            this.currentRow = null;\n        }\n    };\n    this.getDocumentRow = function () {\n        var docRow = 0;\n        var rowCache = this.session.$screenRowCache;\n        if (rowCache.length) {\n            var index = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n            if (index >= 0)\n                docRow = this.session.$docRowCache[index];\n        }\n        return docRow;\n    };\n    this.getSplitIndex = function () {\n        var splitIndex = 0;\n        var rowCache = this.session.$screenRowCache;\n        if (rowCache.length) {\n            var currentIndex, prevIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n            while (this.currentRow - splitIndex > 0) {\n                currentIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow - splitIndex - 1);\n                if (currentIndex !== prevIndex)\n                    break;\n                prevIndex = currentIndex;\n                splitIndex++;\n            }\n        }\n        else {\n            splitIndex = this.currentRow;\n        }\n        return splitIndex;\n    };\n    this.updateRowLine = function (docRow, splitIndex) {\n        if (docRow === undefined)\n            docRow = this.getDocumentRow();\n        var isLastRow = (docRow === this.session.getLength() - 1), endOfLine = isLastRow ? this.EOF : this.EOL;\n        this.wrapIndent = 0;\n        this.line = this.session.getLine(docRow);\n        this.isRtlDir = this.$isRtl || this.line.charAt(0) === this.RLE;\n        if (this.session.$useWrapMode) {\n            var splits = this.session.$wrapData[docRow];\n            if (splits) {\n                if (splitIndex === undefined)\n                    splitIndex = this.getSplitIndex();\n                if (splitIndex > 0 && splits.length) {\n                    this.wrapIndent = splits.indent;\n                    this.wrapOffset = this.wrapIndent * this.charWidths[bidiUtil.L];\n                    this.line = (splitIndex < splits.length) ?\n                        this.line.substring(splits[splitIndex - 1], splits[splitIndex]) :\n                        this.line.substring(splits[splits.length - 1]);\n                }\n                else {\n                    this.line = this.line.substring(0, splits[splitIndex]);\n                }\n                if (splitIndex == splits.length) {\n                    this.line += (this.showInvisibles) ? endOfLine : bidiUtil.DOT;\n                }\n            }\n        }\n        else {\n            this.line += this.showInvisibles ? endOfLine : bidiUtil.DOT;\n        }\n        var session = this.session, shift = 0, size;\n        this.line = this.line.replace(/\\t|[\\u1100-\\u2029, \\u202F-\\uFFE6]/g, function (ch, i) {\n            if (ch === '\\t' || session.isFullWidth(ch.charCodeAt(0))) {\n                size = (ch === '\\t') ? session.getScreenTabSize(i + shift) : 2;\n                shift += size - 1;\n                return lang.stringRepeat(bidiUtil.DOT, size);\n            }\n            return ch;\n        });\n        if (this.isRtlDir) {\n            this.fontMetrics.$main.textContent = (this.line.charAt(this.line.length - 1) == bidiUtil.DOT) ? this.line.substr(0, this.line.length - 1) : this.line;\n            this.rtlLineOffset = this.contentWidth - this.fontMetrics.$main.getBoundingClientRect().width;\n        }\n    };\n    this.updateBidiMap = function () {\n        var textCharTypes = [];\n        if (bidiUtil.hasBidiCharacters(this.line, textCharTypes) || this.isRtlDir) {\n            this.bidiMap = bidiUtil.doBidiReorder(this.line, textCharTypes, this.isRtlDir);\n        }\n        else {\n            this.bidiMap = {};\n        }\n    };\n    this.markAsDirty = function () {\n        this.currentRow = null;\n    };\n    this.updateCharacterWidths = function (fontMetrics) {\n        if (this.characterWidth === fontMetrics.$characterSize.width)\n            return;\n        this.fontMetrics = fontMetrics;\n        var characterWidth = this.characterWidth = fontMetrics.$characterSize.width;\n        var bidiCharWidth = fontMetrics.$measureCharWidth(\"\\u05d4\");\n        this.charWidths[bidiUtil.L] = this.charWidths[bidiUtil.EN] = this.charWidths[bidiUtil.ON_R] = characterWidth;\n        this.charWidths[bidiUtil.R] = this.charWidths[bidiUtil.AN] = bidiCharWidth;\n        this.charWidths[bidiUtil.R_H] = bidiCharWidth * 0.45;\n        this.charWidths[bidiUtil.B] = this.charWidths[bidiUtil.RLE] = 0;\n        this.currentRow = null;\n    };\n    this.setShowInvisibles = function (showInvisibles) {\n        this.showInvisibles = showInvisibles;\n        this.currentRow = null;\n    };\n    this.setEolChar = function (eolChar) {\n        this.EOL = eolChar;\n    };\n    this.setContentWidth = function (width) {\n        this.contentWidth = width;\n    };\n    this.isRtlLine = function (row) {\n        if (this.$isRtl)\n            return true;\n        if (row != undefined)\n            return (this.session.getLine(row).charAt(0) == this.RLE);\n        else\n            return this.isRtlDir;\n    };\n    this.setRtlDirection = function (editor, isRtlDir) {\n        var cursor = editor.getCursorPosition();\n        for (var row = editor.selection.getSelectionAnchor().row; row <= cursor.row; row++) {\n            if (!isRtlDir && editor.session.getLine(row).charAt(0) === editor.session.$bidiHandler.RLE)\n                editor.session.doc.removeInLine(row, 0, 1);\n            else if (isRtlDir && editor.session.getLine(row).charAt(0) !== editor.session.$bidiHandler.RLE)\n                editor.session.doc.insert({ column: 0, row: row }, editor.session.$bidiHandler.RLE);\n        }\n    };\n    this.getPosLeft = function (col) {\n        col -= this.wrapIndent;\n        var leftBoundary = (this.line.charAt(0) === this.RLE) ? 1 : 0;\n        var logicalIdx = (col > leftBoundary) ? (this.session.getOverwrite() ? col : col - 1) : leftBoundary;\n        var visualIdx = bidiUtil.getVisualFromLogicalIdx(logicalIdx, this.bidiMap), levels = this.bidiMap.bidiLevels, left = 0;\n        if (!this.session.getOverwrite() && col <= leftBoundary && levels[visualIdx] % 2 !== 0)\n            visualIdx++;\n        for (var i = 0; i < visualIdx; i++) {\n            left += this.charWidths[levels[i]];\n        }\n        if (!this.session.getOverwrite() && (col > leftBoundary) && (levels[visualIdx] % 2 === 0))\n            left += this.charWidths[levels[visualIdx]];\n        if (this.wrapIndent)\n            left += this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n        if (this.isRtlDir)\n            left += this.rtlLineOffset;\n        return left;\n    };\n    this.getSelections = function (startCol, endCol) {\n        var map = this.bidiMap, levels = map.bidiLevels, level, selections = [], offset = 0, selColMin = Math.min(startCol, endCol) - this.wrapIndent, selColMax = Math.max(startCol, endCol) - this.wrapIndent, isSelected = false, isSelectedPrev = false, selectionStart = 0;\n        if (this.wrapIndent)\n            offset += this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n        for (var logIdx, visIdx = 0; visIdx < levels.length; visIdx++) {\n            logIdx = map.logicalFromVisual[visIdx];\n            level = levels[visIdx];\n            isSelected = (logIdx >= selColMin) && (logIdx < selColMax);\n            if (isSelected && !isSelectedPrev) {\n                selectionStart = offset;\n            }\n            else if (!isSelected && isSelectedPrev) {\n                selections.push({ left: selectionStart, width: offset - selectionStart });\n            }\n            offset += this.charWidths[level];\n            isSelectedPrev = isSelected;\n        }\n        if (isSelected && (visIdx === levels.length)) {\n            selections.push({ left: selectionStart, width: offset - selectionStart });\n        }\n        if (this.isRtlDir) {\n            for (var i = 0; i < selections.length; i++) {\n                selections[i].left += this.rtlLineOffset;\n            }\n        }\n        return selections;\n    };\n    this.offsetToCol = function (posX) {\n        if (this.isRtlDir)\n            posX -= this.rtlLineOffset;\n        var logicalIdx = 0, posX = Math.max(posX, 0), offset = 0, visualIdx = 0, levels = this.bidiMap.bidiLevels, charWidth = this.charWidths[levels[visualIdx]];\n        if (this.wrapIndent)\n            posX -= this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n        while (posX > offset + charWidth / 2) {\n            offset += charWidth;\n            if (visualIdx === levels.length - 1) {\n                charWidth = 0;\n                break;\n            }\n            charWidth = this.charWidths[levels[++visualIdx]];\n        }\n        if (visualIdx > 0 && (levels[visualIdx - 1] % 2 !== 0) && (levels[visualIdx] % 2 === 0)) {\n            if (posX < offset)\n                visualIdx--;\n            logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n        }\n        else if (visualIdx > 0 && (levels[visualIdx - 1] % 2 === 0) && (levels[visualIdx] % 2 !== 0)) {\n            logicalIdx = 1 + ((posX > offset) ? this.bidiMap.logicalFromVisual[visualIdx]\n                : this.bidiMap.logicalFromVisual[visualIdx - 1]);\n        }\n        else if ((this.isRtlDir && visualIdx === levels.length - 1 && charWidth === 0 && (levels[visualIdx - 1] % 2 === 0))\n            || (!this.isRtlDir && visualIdx === 0 && (levels[visualIdx] % 2 !== 0))) {\n            logicalIdx = 1 + this.bidiMap.logicalFromVisual[visualIdx];\n        }\n        else {\n            if (visualIdx > 0 && (levels[visualIdx - 1] % 2 !== 0) && charWidth !== 0)\n                visualIdx--;\n            logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n        }\n        if (logicalIdx === 0 && this.isRtlDir)\n            logicalIdx++;\n        return (logicalIdx + this.wrapIndent);\n    };\n}).call(BidiHandler.prototype);\nexports.BidiHandler = BidiHandler;\n\n});\n\nace.define(\"ace/selection\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Range = require(\"./range\").Range;\nvar Selection = function (session) {\n    this.session = session;\n    this.doc = session.getDocument();\n    this.clearSelection();\n    this.cursor = this.lead = this.doc.createAnchor(0, 0);\n    this.anchor = this.doc.createAnchor(0, 0);\n    this.$silent = false;\n    var self = this;\n    this.cursor.on(\"change\", function (e) {\n        self.$cursorChanged = true;\n        if (!self.$silent)\n            self._emit(\"changeCursor\");\n        if (!self.$isEmpty && !self.$silent)\n            self._emit(\"changeSelection\");\n        if (!self.$keepDesiredColumnOnChange && e.old.column != e.value.column)\n            self.$desiredColumn = null;\n    });\n    this.anchor.on(\"change\", function () {\n        self.$anchorChanged = true;\n        if (!self.$isEmpty && !self.$silent)\n            self._emit(\"changeSelection\");\n    });\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.isEmpty = function () {\n        return this.$isEmpty || (this.anchor.row == this.lead.row &&\n            this.anchor.column == this.lead.column);\n    };\n    this.isMultiLine = function () {\n        return !this.$isEmpty && this.anchor.row != this.cursor.row;\n    };\n    this.getCursor = function () {\n        return this.lead.getPosition();\n    };\n    this.setSelectionAnchor = function (row, column) {\n        this.$isEmpty = false;\n        this.anchor.setPosition(row, column);\n    };\n    this.getAnchor =\n        this.getSelectionAnchor = function () {\n            if (this.$isEmpty)\n                return this.getSelectionLead();\n            return this.anchor.getPosition();\n        };\n    this.getSelectionLead = function () {\n        return this.lead.getPosition();\n    };\n    this.isBackwards = function () {\n        var anchor = this.anchor;\n        var lead = this.lead;\n        return (anchor.row > lead.row || (anchor.row == lead.row && anchor.column > lead.column));\n    };\n    this.getRange = function () {\n        var anchor = this.anchor;\n        var lead = this.lead;\n        if (this.$isEmpty)\n            return Range.fromPoints(lead, lead);\n        return this.isBackwards()\n            ? Range.fromPoints(lead, anchor)\n            : Range.fromPoints(anchor, lead);\n    };\n    this.clearSelection = function () {\n        if (!this.$isEmpty) {\n            this.$isEmpty = true;\n            this._emit(\"changeSelection\");\n        }\n    };\n    this.selectAll = function () {\n        this.$setSelection(0, 0, Number.MAX_VALUE, Number.MAX_VALUE);\n    };\n    this.setRange =\n        this.setSelectionRange = function (range, reverse) {\n            var start = reverse ? range.end : range.start;\n            var end = reverse ? range.start : range.end;\n            this.$setSelection(start.row, start.column, end.row, end.column);\n        };\n    this.$setSelection = function (anchorRow, anchorColumn, cursorRow, cursorColumn) {\n        if (this.$silent)\n            return;\n        var wasEmpty = this.$isEmpty;\n        var wasMultiselect = this.inMultiSelectMode;\n        this.$silent = true;\n        this.$cursorChanged = this.$anchorChanged = false;\n        this.anchor.setPosition(anchorRow, anchorColumn);\n        this.cursor.setPosition(cursorRow, cursorColumn);\n        this.$isEmpty = !Range.comparePoints(this.anchor, this.cursor);\n        this.$silent = false;\n        if (this.$cursorChanged)\n            this._emit(\"changeCursor\");\n        if (this.$cursorChanged || this.$anchorChanged || wasEmpty != this.$isEmpty || wasMultiselect)\n            this._emit(\"changeSelection\");\n    };\n    this.$moveSelection = function (mover) {\n        var lead = this.lead;\n        if (this.$isEmpty)\n            this.setSelectionAnchor(lead.row, lead.column);\n        mover.call(this);\n    };\n    this.selectTo = function (row, column) {\n        this.$moveSelection(function () {\n            this.moveCursorTo(row, column);\n        });\n    };\n    this.selectToPosition = function (pos) {\n        this.$moveSelection(function () {\n            this.moveCursorToPosition(pos);\n        });\n    };\n    this.moveTo = function (row, column) {\n        this.clearSelection();\n        this.moveCursorTo(row, column);\n    };\n    this.moveToPosition = function (pos) {\n        this.clearSelection();\n        this.moveCursorToPosition(pos);\n    };\n    this.selectUp = function () {\n        this.$moveSelection(this.moveCursorUp);\n    };\n    this.selectDown = function () {\n        this.$moveSelection(this.moveCursorDown);\n    };\n    this.selectRight = function () {\n        this.$moveSelection(this.moveCursorRight);\n    };\n    this.selectLeft = function () {\n        this.$moveSelection(this.moveCursorLeft);\n    };\n    this.selectLineStart = function () {\n        this.$moveSelection(this.moveCursorLineStart);\n    };\n    this.selectLineEnd = function () {\n        this.$moveSelection(this.moveCursorLineEnd);\n    };\n    this.selectFileEnd = function () {\n        this.$moveSelection(this.moveCursorFileEnd);\n    };\n    this.selectFileStart = function () {\n        this.$moveSelection(this.moveCursorFileStart);\n    };\n    this.selectWordRight = function () {\n        this.$moveSelection(this.moveCursorWordRight);\n    };\n    this.selectWordLeft = function () {\n        this.$moveSelection(this.moveCursorWordLeft);\n    };\n    this.getWordRange = function (row, column) {\n        if (typeof column == \"undefined\") {\n            var cursor = row || this.lead;\n            row = cursor.row;\n            column = cursor.column;\n        }\n        return this.session.getWordRange(row, column);\n    };\n    this.selectWord = function () {\n        this.setSelectionRange(this.getWordRange());\n    };\n    this.selectAWord = function () {\n        var cursor = this.getCursor();\n        var range = this.session.getAWordRange(cursor.row, cursor.column);\n        this.setSelectionRange(range);\n    };\n    this.getLineRange = function (row, excludeLastChar) {\n        var rowStart = typeof row == \"number\" ? row : this.lead.row;\n        var rowEnd;\n        var foldLine = this.session.getFoldLine(rowStart);\n        if (foldLine) {\n            rowStart = foldLine.start.row;\n            rowEnd = foldLine.end.row;\n        }\n        else {\n            rowEnd = rowStart;\n        }\n        if (excludeLastChar === true)\n            return new Range(rowStart, 0, rowEnd, this.session.getLine(rowEnd).length);\n        else\n            return new Range(rowStart, 0, rowEnd + 1, 0);\n    };\n    this.selectLine = function () {\n        this.setSelectionRange(this.getLineRange());\n    };\n    this.moveCursorUp = function () {\n        this.moveCursorBy(-1, 0);\n    };\n    this.moveCursorDown = function () {\n        this.moveCursorBy(1, 0);\n    };\n    this.wouldMoveIntoSoftTab = function (cursor, tabSize, direction) {\n        var start = cursor.column;\n        var end = cursor.column + tabSize;\n        if (direction < 0) {\n            start = cursor.column - tabSize;\n            end = cursor.column;\n        }\n        return this.session.isTabStop(cursor) && this.doc.getLine(cursor.row).slice(start, end).split(\" \").length - 1 == tabSize;\n    };\n    this.moveCursorLeft = function () {\n        var cursor = this.lead.getPosition(), fold;\n        if (fold = this.session.getFoldAt(cursor.row, cursor.column, -1)) {\n            this.moveCursorTo(fold.start.row, fold.start.column);\n        }\n        else if (cursor.column === 0) {\n            if (cursor.row > 0) {\n                this.moveCursorTo(cursor.row - 1, this.doc.getLine(cursor.row - 1).length);\n            }\n        }\n        else {\n            var tabSize = this.session.getTabSize();\n            if (this.wouldMoveIntoSoftTab(cursor, tabSize, -1) && !this.session.getNavigateWithinSoftTabs()) {\n                this.moveCursorBy(0, -tabSize);\n            }\n            else {\n                this.moveCursorBy(0, -1);\n            }\n        }\n    };\n    this.moveCursorRight = function () {\n        var cursor = this.lead.getPosition(), fold;\n        if (fold = this.session.getFoldAt(cursor.row, cursor.column, 1)) {\n            this.moveCursorTo(fold.end.row, fold.end.column);\n        }\n        else if (this.lead.column == this.doc.getLine(this.lead.row).length) {\n            if (this.lead.row < this.doc.getLength() - 1) {\n                this.moveCursorTo(this.lead.row + 1, 0);\n            }\n        }\n        else {\n            var tabSize = this.session.getTabSize();\n            var cursor = this.lead;\n            if (this.wouldMoveIntoSoftTab(cursor, tabSize, 1) && !this.session.getNavigateWithinSoftTabs()) {\n                this.moveCursorBy(0, tabSize);\n            }\n            else {\n                this.moveCursorBy(0, 1);\n            }\n        }\n    };\n    this.moveCursorLineStart = function () {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var screenRow = this.session.documentToScreenRow(row, column);\n        var firstColumnPosition = this.session.screenToDocumentPosition(screenRow, 0);\n        var beforeCursor = this.session.getDisplayLine(row, null, firstColumnPosition.row, firstColumnPosition.column);\n        var leadingSpace = beforeCursor.match(/^\\s*/);\n        if (leadingSpace[0].length != column && !this.session.$useEmacsStyleLineStart)\n            firstColumnPosition.column += leadingSpace[0].length;\n        this.moveCursorToPosition(firstColumnPosition);\n    };\n    this.moveCursorLineEnd = function () {\n        var lead = this.lead;\n        var lineEnd = this.session.getDocumentLastRowColumnPosition(lead.row, lead.column);\n        if (this.lead.column == lineEnd.column) {\n            var line = this.session.getLine(lineEnd.row);\n            if (lineEnd.column == line.length) {\n                var textEnd = line.search(/\\s+$/);\n                if (textEnd > 0)\n                    lineEnd.column = textEnd;\n            }\n        }\n        this.moveCursorTo(lineEnd.row, lineEnd.column);\n    };\n    this.moveCursorFileEnd = function () {\n        var row = this.doc.getLength() - 1;\n        var column = this.doc.getLine(row).length;\n        this.moveCursorTo(row, column);\n    };\n    this.moveCursorFileStart = function () {\n        this.moveCursorTo(0, 0);\n    };\n    this.moveCursorLongWordRight = function () {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n            this.moveCursorTo(fold.end.row, fold.end.column);\n            return;\n        }\n        if (this.session.nonTokenRe.exec(rightOfCursor)) {\n            column += this.session.nonTokenRe.lastIndex;\n            this.session.nonTokenRe.lastIndex = 0;\n            rightOfCursor = line.substring(column);\n        }\n        if (column >= line.length) {\n            this.moveCursorTo(row, line.length);\n            this.moveCursorRight();\n            if (row < this.doc.getLength() - 1)\n                this.moveCursorWordRight();\n            return;\n        }\n        if (this.session.tokenRe.exec(rightOfCursor)) {\n            column += this.session.tokenRe.lastIndex;\n            this.session.tokenRe.lastIndex = 0;\n        }\n        this.moveCursorTo(row, column);\n    };\n    this.moveCursorLongWordLeft = function () {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var fold;\n        if (fold = this.session.getFoldAt(row, column, -1)) {\n            this.moveCursorTo(fold.start.row, fold.start.column);\n            return;\n        }\n        var str = this.session.getFoldStringAt(row, column, -1);\n        if (str == null) {\n            str = this.doc.getLine(row).substring(0, column);\n        }\n        var leftOfCursor = lang.stringReverse(str);\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        if (this.session.nonTokenRe.exec(leftOfCursor)) {\n            column -= this.session.nonTokenRe.lastIndex;\n            leftOfCursor = leftOfCursor.slice(this.session.nonTokenRe.lastIndex);\n            this.session.nonTokenRe.lastIndex = 0;\n        }\n        if (column <= 0) {\n            this.moveCursorTo(row, 0);\n            this.moveCursorLeft();\n            if (row > 0)\n                this.moveCursorWordLeft();\n            return;\n        }\n        if (this.session.tokenRe.exec(leftOfCursor)) {\n            column -= this.session.tokenRe.lastIndex;\n            this.session.tokenRe.lastIndex = 0;\n        }\n        this.moveCursorTo(row, column);\n    };\n    this.$shortWordEndIndex = function (rightOfCursor) {\n        var index = 0, ch;\n        var whitespaceRe = /\\s/;\n        var tokenRe = this.session.tokenRe;\n        tokenRe.lastIndex = 0;\n        if (this.session.tokenRe.exec(rightOfCursor)) {\n            index = this.session.tokenRe.lastIndex;\n        }\n        else {\n            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))\n                index++;\n            if (index < 1) {\n                tokenRe.lastIndex = 0;\n                while ((ch = rightOfCursor[index]) && !tokenRe.test(ch)) {\n                    tokenRe.lastIndex = 0;\n                    index++;\n                    if (whitespaceRe.test(ch)) {\n                        if (index > 2) {\n                            index--;\n                            break;\n                        }\n                        else {\n                            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))\n                                index++;\n                            if (index > 2)\n                                break;\n                        }\n                    }\n                }\n            }\n        }\n        tokenRe.lastIndex = 0;\n        return index;\n    };\n    this.moveCursorShortWordRight = function () {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold)\n            return this.moveCursorTo(fold.end.row, fold.end.column);\n        if (column == line.length) {\n            var l = this.doc.getLength();\n            do {\n                row++;\n                rightOfCursor = this.doc.getLine(row);\n            } while (row < l && /^\\s*$/.test(rightOfCursor));\n            if (!/^\\s+/.test(rightOfCursor))\n                rightOfCursor = \"\";\n            column = 0;\n        }\n        var index = this.$shortWordEndIndex(rightOfCursor);\n        this.moveCursorTo(row, column + index);\n    };\n    this.moveCursorShortWordLeft = function () {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var fold;\n        if (fold = this.session.getFoldAt(row, column, -1))\n            return this.moveCursorTo(fold.start.row, fold.start.column);\n        var line = this.session.getLine(row).substring(0, column);\n        if (column === 0) {\n            do {\n                row--;\n                line = this.doc.getLine(row);\n            } while (row > 0 && /^\\s*$/.test(line));\n            column = line.length;\n            if (!/\\s+$/.test(line))\n                line = \"\";\n        }\n        var leftOfCursor = lang.stringReverse(line);\n        var index = this.$shortWordEndIndex(leftOfCursor);\n        return this.moveCursorTo(row, column - index);\n    };\n    this.moveCursorWordRight = function () {\n        if (this.session.$selectLongWords)\n            this.moveCursorLongWordRight();\n        else\n            this.moveCursorShortWordRight();\n    };\n    this.moveCursorWordLeft = function () {\n        if (this.session.$selectLongWords)\n            this.moveCursorLongWordLeft();\n        else\n            this.moveCursorShortWordLeft();\n    };\n    this.moveCursorBy = function (rows, chars) {\n        var screenPos = this.session.documentToScreenPosition(this.lead.row, this.lead.column);\n        var offsetX;\n        if (chars === 0) {\n            if (rows !== 0) {\n                if (this.session.$bidiHandler.isBidiRow(screenPos.row, this.lead.row)) {\n                    offsetX = this.session.$bidiHandler.getPosLeft(screenPos.column);\n                    screenPos.column = Math.round(offsetX / this.session.$bidiHandler.charWidths[0]);\n                }\n                else {\n                    offsetX = screenPos.column * this.session.$bidiHandler.charWidths[0];\n                }\n            }\n            if (this.$desiredColumn)\n                screenPos.column = this.$desiredColumn;\n            else\n                this.$desiredColumn = screenPos.column;\n        }\n        if (rows != 0 && this.session.lineWidgets && this.session.lineWidgets[this.lead.row]) {\n            var widget = this.session.lineWidgets[this.lead.row];\n            if (rows < 0)\n                rows -= widget.rowsAbove || 0;\n            else if (rows > 0)\n                rows += widget.rowCount - (widget.rowsAbove || 0);\n        }\n        var docPos = this.session.screenToDocumentPosition(screenPos.row + rows, screenPos.column, offsetX);\n        if (rows !== 0 && chars === 0 && docPos.row === this.lead.row && docPos.column === this.lead.column) {\n        }\n        this.moveCursorTo(docPos.row, docPos.column + chars, chars === 0);\n    };\n    this.moveCursorToPosition = function (position) {\n        this.moveCursorTo(position.row, position.column);\n    };\n    this.moveCursorTo = function (row, column, keepDesiredColumn) {\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n            row = fold.start.row;\n            column = fold.start.column;\n        }\n        this.$keepDesiredColumnOnChange = true;\n        var line = this.session.getLine(row);\n        if (/[\\uDC00-\\uDFFF]/.test(line.charAt(column)) && line.charAt(column - 1)) {\n            if (this.lead.row == row && this.lead.column == column + 1)\n                column = column - 1;\n            else\n                column = column + 1;\n        }\n        this.lead.setPosition(row, column);\n        this.$keepDesiredColumnOnChange = false;\n        if (!keepDesiredColumn)\n            this.$desiredColumn = null;\n    };\n    this.moveCursorToScreen = function (row, column, keepDesiredColumn) {\n        var pos = this.session.screenToDocumentPosition(row, column);\n        this.moveCursorTo(pos.row, pos.column, keepDesiredColumn);\n    };\n    this.detach = function () {\n        this.lead.detach();\n        this.anchor.detach();\n    };\n    this.fromOrientedRange = function (range) {\n        this.setSelectionRange(range, range.cursor == range.start);\n        this.$desiredColumn = range.desiredColumn || this.$desiredColumn;\n    };\n    this.toOrientedRange = function (range) {\n        var r = this.getRange();\n        if (range) {\n            range.start.column = r.start.column;\n            range.start.row = r.start.row;\n            range.end.column = r.end.column;\n            range.end.row = r.end.row;\n        }\n        else {\n            range = r;\n        }\n        range.cursor = this.isBackwards() ? range.start : range.end;\n        range.desiredColumn = this.$desiredColumn;\n        return range;\n    };\n    this.getRangeOfMovements = function (func) {\n        var start = this.getCursor();\n        try {\n            func(this);\n            var end = this.getCursor();\n            return Range.fromPoints(start, end);\n        }\n        catch (e) {\n            return Range.fromPoints(start, start);\n        }\n        finally {\n            this.moveCursorToPosition(start);\n        }\n    };\n    this.toJSON = function () {\n        if (this.rangeCount) {\n            var data = this.ranges.map(function (r) {\n                var r1 = r.clone();\n                r1.isBackwards = r.cursor == r.start;\n                return r1;\n            });\n        }\n        else {\n            var data = this.getRange();\n            data.isBackwards = this.isBackwards();\n        }\n        return data;\n    };\n    this.fromJSON = function (data) {\n        if (data.start == undefined) {\n            if (this.rangeList && data.length > 1) {\n                this.toSingleRange(data[0]);\n                for (var i = data.length; i--;) {\n                    var r = Range.fromPoints(data[i].start, data[i].end);\n                    if (data[i].isBackwards)\n                        r.cursor = r.start;\n                    this.addRange(r, true);\n                }\n                return;\n            }\n            else {\n                data = data[0];\n            }\n        }\n        if (this.rangeList)\n            this.toSingleRange(data);\n        this.setSelectionRange(data, data.isBackwards);\n    };\n    this.isEqual = function (data) {\n        if ((data.length || this.rangeCount) && data.length != this.rangeCount)\n            return false;\n        if (!data.length || !this.ranges)\n            return this.getRange().isEqual(data);\n        for (var i = this.ranges.length; i--;) {\n            if (!this.ranges[i].isEqual(data[i]))\n                return false;\n        }\n        return true;\n    };\n}).call(Selection.prototype);\nexports.Selection = Selection;\n\n});\n\nace.define(\"ace/tokenizer\",[\"require\",\"exports\",\"module\",\"ace/config\"], function(require, exports, module){\"use strict\";\nvar config = require(\"./config\");\nvar MAX_TOKEN_COUNT = 2000;\nvar Tokenizer = function (rules) {\n    this.states = rules;\n    this.regExps = {};\n    this.matchMappings = {};\n    for (var key in this.states) {\n        var state = this.states[key];\n        var ruleRegExps = [];\n        var matchTotal = 0;\n        var mapping = this.matchMappings[key] = { defaultToken: \"text\" };\n        var flag = \"g\";\n        var splitterRurles = [];\n        for (var i = 0; i < state.length; i++) {\n            var rule = state[i];\n            if (rule.defaultToken)\n                mapping.defaultToken = rule.defaultToken;\n            if (rule.caseInsensitive && flag.indexOf(\"i\") === -1)\n                flag += \"i\";\n            if (rule.unicode && flag.indexOf(\"u\") === -1)\n                flag += \"u\";\n            if (rule.regex == null)\n                continue;\n            if (rule.regex instanceof RegExp)\n                rule.regex = rule.regex.toString().slice(1, -1);\n            var adjustedregex = rule.regex;\n            var matchcount = new RegExp(\"(?:(\" + adjustedregex + \")|(.))\").exec(\"a\").length - 2;\n            if (Array.isArray(rule.token)) {\n                if (rule.token.length == 1 || matchcount == 1) {\n                    rule.token = rule.token[0];\n                }\n                else if (matchcount - 1 != rule.token.length) {\n                    this.reportError(\"number of classes and regexp groups doesn't match\", {\n                        rule: rule,\n                        groupCount: matchcount - 1\n                    });\n                    rule.token = rule.token[0];\n                }\n                else {\n                    rule.tokenArray = rule.token;\n                    rule.token = null;\n                    rule.onMatch = this.$arrayTokens;\n                }\n            }\n            else if (typeof rule.token == \"function\" && !rule.onMatch) {\n                if (matchcount > 1)\n                    rule.onMatch = this.$applyToken;\n                else\n                    rule.onMatch = rule.token;\n            }\n            if (matchcount > 1) {\n                if (/\\\\\\d/.test(rule.regex)) {\n                    adjustedregex = rule.regex.replace(/\\\\([0-9]+)/g, function (match, digit) {\n                        return \"\\\\\" + (parseInt(digit, 10) + matchTotal + 1);\n                    });\n                }\n                else {\n                    matchcount = 1;\n                    adjustedregex = this.removeCapturingGroups(rule.regex);\n                }\n                if (!rule.splitRegex && typeof rule.token != \"string\")\n                    splitterRurles.push(rule); // flag will be known only at the very end\n            }\n            mapping[matchTotal] = i;\n            matchTotal += matchcount;\n            ruleRegExps.push(adjustedregex);\n            if (!rule.onMatch)\n                rule.onMatch = null;\n        }\n        if (!ruleRegExps.length) {\n            mapping[0] = 0;\n            ruleRegExps.push(\"$\");\n        }\n        splitterRurles.forEach(function (rule) {\n            rule.splitRegex = this.createSplitterRegexp(rule.regex, flag);\n        }, this);\n        this.regExps[key] = new RegExp(\"(\" + ruleRegExps.join(\")|(\") + \")|($)\", flag);\n    }\n};\n(function () {\n    this.$setMaxTokenCount = function (m) {\n        MAX_TOKEN_COUNT = m | 0;\n    };\n    this.$applyToken = function (str) {\n        var values = this.splitRegex.exec(str).slice(1);\n        var types = this.token.apply(this, values);\n        if (typeof types === \"string\")\n            return [{ type: types, value: str }];\n        var tokens = [];\n        for (var i = 0, l = types.length; i < l; i++) {\n            if (values[i])\n                tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i]\n                };\n        }\n        return tokens;\n    };\n    this.$arrayTokens = function (str) {\n        if (!str)\n            return [];\n        var values = this.splitRegex.exec(str);\n        if (!values)\n            return \"text\";\n        var tokens = [];\n        var types = this.tokenArray;\n        for (var i = 0, l = types.length; i < l; i++) {\n            if (values[i + 1])\n                tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i + 1]\n                };\n        }\n        return tokens;\n    };\n    this.removeCapturingGroups = function (src) {\n        var r = src.replace(/\\\\.|\\[(?:\\\\.|[^\\\\\\]])*|\\(\\?[:=!<]|(\\()/g, function (x, y) { return y ? \"(?:\" : x; });\n        return r;\n    };\n    this.createSplitterRegexp = function (src, flag) {\n        if (src.indexOf(\"(?=\") != -1) {\n            var stack = 0;\n            var inChClass = false;\n            var lastCapture = {};\n            src.replace(/(\\\\.)|(\\((?:\\?[=!])?)|(\\))|([\\[\\]])/g, function (m, esc, parenOpen, parenClose, square, index) {\n                if (inChClass) {\n                    inChClass = square != \"]\";\n                }\n                else if (square) {\n                    inChClass = true;\n                }\n                else if (parenClose) {\n                    if (stack == lastCapture.stack) {\n                        lastCapture.end = index + 1;\n                        lastCapture.stack = -1;\n                    }\n                    stack--;\n                }\n                else if (parenOpen) {\n                    stack++;\n                    if (parenOpen.length != 1) {\n                        lastCapture.stack = stack;\n                        lastCapture.start = index;\n                    }\n                }\n                return m;\n            });\n            if (lastCapture.end != null && /^\\)*$/.test(src.substr(lastCapture.end)))\n                src = src.substring(0, lastCapture.start) + src.substr(lastCapture.end);\n        }\n        if (src.charAt(0) != \"^\")\n            src = \"^\" + src;\n        if (src.charAt(src.length - 1) != \"$\")\n            src += \"$\";\n        return new RegExp(src, (flag || \"\").replace(\"g\", \"\"));\n    };\n    this.getLineTokens = function (line, startState) {\n        if (startState && typeof startState != \"string\") {\n            var stack = startState.slice(0);\n            startState = stack[0];\n            if (startState === \"#tmp\") {\n                stack.shift();\n                startState = stack.shift();\n            }\n        }\n        else\n            var stack = [];\n        var currentState = startState || \"start\";\n        var state = this.states[currentState];\n        if (!state) {\n            currentState = \"start\";\n            state = this.states[currentState];\n        }\n        var mapping = this.matchMappings[currentState];\n        var re = this.regExps[currentState];\n        re.lastIndex = 0;\n        var match, tokens = [];\n        var lastIndex = 0;\n        var matchAttempts = 0;\n        var token = { type: null, value: \"\" };\n        while (match = re.exec(line)) {\n            var type = mapping.defaultToken;\n            var rule = null;\n            var value = match[0];\n            var index = re.lastIndex;\n            if (index - value.length > lastIndex) {\n                var skipped = line.substring(lastIndex, index - value.length);\n                if (token.type == type) {\n                    token.value += skipped;\n                }\n                else {\n                    if (token.type)\n                        tokens.push(token);\n                    token = { type: type, value: skipped };\n                }\n            }\n            for (var i = 0; i < match.length - 2; i++) {\n                if (match[i + 1] === undefined)\n                    continue;\n                rule = state[mapping[i]];\n                if (rule.onMatch)\n                    type = rule.onMatch(value, currentState, stack, line);\n                else\n                    type = rule.token;\n                if (rule.next) {\n                    if (typeof rule.next == \"string\") {\n                        currentState = rule.next;\n                    }\n                    else {\n                        currentState = rule.next(currentState, stack);\n                    }\n                    state = this.states[currentState];\n                    if (!state) {\n                        this.reportError(\"state doesn't exist\", currentState);\n                        currentState = \"start\";\n                        state = this.states[currentState];\n                    }\n                    mapping = this.matchMappings[currentState];\n                    lastIndex = index;\n                    re = this.regExps[currentState];\n                    re.lastIndex = index;\n                }\n                if (rule.consumeLineEnd)\n                    lastIndex = index;\n                break;\n            }\n            if (value) {\n                if (typeof type === \"string\") {\n                    if ((!rule || rule.merge !== false) && token.type === type) {\n                        token.value += value;\n                    }\n                    else {\n                        if (token.type)\n                            tokens.push(token);\n                        token = { type: type, value: value };\n                    }\n                }\n                else if (type) {\n                    if (token.type)\n                        tokens.push(token);\n                    token = { type: null, value: \"\" };\n                    for (var i = 0; i < type.length; i++)\n                        tokens.push(type[i]);\n                }\n            }\n            if (lastIndex == line.length)\n                break;\n            lastIndex = index;\n            if (matchAttempts++ > MAX_TOKEN_COUNT) {\n                if (matchAttempts > 2 * line.length) {\n                    this.reportError(\"infinite loop with in ace tokenizer\", {\n                        startState: startState,\n                        line: line\n                    });\n                }\n                while (lastIndex < line.length) {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {\n                        value: line.substring(lastIndex, lastIndex += 500),\n                        type: \"overflow\"\n                    };\n                }\n                currentState = \"start\";\n                stack = [];\n                break;\n            }\n        }\n        if (token.type)\n            tokens.push(token);\n        if (stack.length > 1) {\n            if (stack[0] !== currentState)\n                stack.unshift(\"#tmp\", currentState);\n        }\n        return {\n            tokens: tokens,\n            state: stack.length ? stack : currentState\n        };\n    };\n    this.reportError = config.reportError;\n}).call(Tokenizer.prototype);\nexports.Tokenizer = Tokenizer;\n\n});\n\nace.define(\"ace/mode/text_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\"], function(require, exports, module){\"use strict\";\nvar lang = require(\"../lib/lang\");\nvar TextHighlightRules = function () {\n    this.$rules = {\n        \"start\": [{\n                token: \"empty_line\",\n                regex: '^$'\n            }, {\n                defaultToken: \"text\"\n            }]\n    };\n};\n(function () {\n    this.addRules = function (rules, prefix) {\n        if (!prefix) {\n            for (var key in rules)\n                this.$rules[key] = rules[key];\n            return;\n        }\n        for (var key in rules) {\n            var state = rules[key];\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                if (rule.next || rule.onMatch) {\n                    if (typeof rule.next == \"string\") {\n                        if (rule.next.indexOf(prefix) !== 0)\n                            rule.next = prefix + rule.next;\n                    }\n                    if (rule.nextState && rule.nextState.indexOf(prefix) !== 0)\n                        rule.nextState = prefix + rule.nextState;\n                }\n            }\n            this.$rules[prefix + key] = state;\n        }\n    };\n    this.getRules = function () {\n        return this.$rules;\n    };\n    this.embedRules = function (HighlightRules, prefix, escapeRules, states, append) {\n        var embedRules = typeof HighlightRules == \"function\"\n            ? new HighlightRules().getRules()\n            : HighlightRules;\n        if (states) {\n            for (var i = 0; i < states.length; i++)\n                states[i] = prefix + states[i];\n        }\n        else {\n            states = [];\n            for (var key in embedRules)\n                states.push(prefix + key);\n        }\n        this.addRules(embedRules, prefix);\n        if (escapeRules) {\n            var addRules = Array.prototype[append ? \"push\" : \"unshift\"];\n            for (var i = 0; i < states.length; i++)\n                addRules.apply(this.$rules[states[i]], lang.deepCopy(escapeRules));\n        }\n        if (!this.$embeds)\n            this.$embeds = [];\n        this.$embeds.push(prefix);\n    };\n    this.getEmbeds = function () {\n        return this.$embeds;\n    };\n    var pushState = function (currentState, stack) {\n        if (currentState != \"start\" || stack.length)\n            stack.unshift(this.nextState, currentState);\n        return this.nextState;\n    };\n    var popState = function (currentState, stack) {\n        stack.shift();\n        return stack.shift() || \"start\";\n    };\n    this.normalizeRules = function () {\n        var id = 0;\n        var rules = this.$rules;\n        function processState(key) {\n            var state = rules[key];\n            state.processed = true;\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                var toInsert = null;\n                if (Array.isArray(rule)) {\n                    toInsert = rule;\n                    rule = {};\n                }\n                if (!rule.regex && rule.start) {\n                    rule.regex = rule.start;\n                    if (!rule.next)\n                        rule.next = [];\n                    rule.next.push({\n                        defaultToken: rule.token\n                    }, {\n                        token: rule.token + \".end\",\n                        regex: rule.end || rule.start,\n                        next: \"pop\"\n                    });\n                    rule.token = rule.token + \".start\";\n                    rule.push = true;\n                }\n                var next = rule.next || rule.push;\n                if (next && Array.isArray(next)) {\n                    var stateName = rule.stateName;\n                    if (!stateName) {\n                        stateName = rule.token;\n                        if (typeof stateName != \"string\")\n                            stateName = stateName[0] || \"\";\n                        if (rules[stateName])\n                            stateName += id++;\n                    }\n                    rules[stateName] = next;\n                    rule.next = stateName;\n                    processState(stateName);\n                }\n                else if (next == \"pop\") {\n                    rule.next = popState;\n                }\n                if (rule.push) {\n                    rule.nextState = rule.next || rule.push;\n                    rule.next = pushState;\n                    delete rule.push;\n                }\n                if (rule.rules) {\n                    for (var r in rule.rules) {\n                        if (rules[r]) {\n                            if (rules[r].push)\n                                rules[r].push.apply(rules[r], rule.rules[r]);\n                        }\n                        else {\n                            rules[r] = rule.rules[r];\n                        }\n                    }\n                }\n                var includeName = typeof rule == \"string\" ? rule : rule.include;\n                if (includeName) {\n                    if (Array.isArray(includeName))\n                        toInsert = includeName.map(function (x) { return rules[x]; });\n                    else\n                        toInsert = rules[includeName];\n                }\n                if (toInsert) {\n                    var args = [i, 1].concat(toInsert);\n                    if (rule.noEscape)\n                        args = args.filter(function (x) { return !x.next; });\n                    state.splice.apply(state, args);\n                    i--;\n                }\n                if (rule.keywordMap) {\n                    rule.token = this.createKeywordMapper(rule.keywordMap, rule.defaultToken || \"text\", rule.caseInsensitive);\n                    delete rule.defaultToken;\n                }\n            }\n        }\n        Object.keys(rules).forEach(processState, this);\n    };\n    this.createKeywordMapper = function (map, defaultToken, ignoreCase, splitChar) {\n        var keywords = Object.create(null);\n        this.$keywordList = [];\n        Object.keys(map).forEach(function (className) {\n            var a = map[className];\n            var list = a.split(splitChar || \"|\");\n            for (var i = list.length; i--;) {\n                var word = list[i];\n                this.$keywordList.push(word);\n                if (ignoreCase)\n                    word = word.toLowerCase();\n                keywords[word] = className;\n            }\n        }, this);\n        map = null;\n        return ignoreCase\n            ? function (value) { return keywords[value.toLowerCase()] || defaultToken; }\n            : function (value) { return keywords[value] || defaultToken; };\n    };\n    this.getKeywords = function () {\n        return this.$keywords;\n    };\n}).call(TextHighlightRules.prototype);\nexports.TextHighlightRules = TextHighlightRules;\n\n});\n\nace.define(\"ace/mode/behaviour\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar Behaviour = function () {\n    this.$behaviours = {};\n};\n(function () {\n    this.add = function (name, action, callback) {\n        switch (undefined) {\n            case this.$behaviours:\n                this.$behaviours = {};\n            case this.$behaviours[name]:\n                this.$behaviours[name] = {};\n        }\n        this.$behaviours[name][action] = callback;\n    };\n    this.addBehaviours = function (behaviours) {\n        for (var key in behaviours) {\n            for (var action in behaviours[key]) {\n                this.add(key, action, behaviours[key][action]);\n            }\n        }\n    };\n    this.remove = function (name) {\n        if (this.$behaviours && this.$behaviours[name]) {\n            delete this.$behaviours[name];\n        }\n    };\n    this.inherit = function (mode, filter) {\n        if (typeof mode === \"function\") {\n            var behaviours = new mode().getBehaviours(filter);\n        }\n        else {\n            var behaviours = mode.getBehaviours(filter);\n        }\n        this.addBehaviours(behaviours);\n    };\n    this.getBehaviours = function (filter) {\n        if (!filter) {\n            return this.$behaviours;\n        }\n        else {\n            var ret = {};\n            for (var i = 0; i < filter.length; i++) {\n                if (this.$behaviours[filter[i]]) {\n                    ret[filter[i]] = this.$behaviours[filter[i]];\n                }\n            }\n            return ret;\n        }\n    };\n}).call(Behaviour.prototype);\nexports.Behaviour = Behaviour;\n\n});\n\nace.define(\"ace/token_iterator\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"./range\").Range;\nvar TokenIterator = function (session, initialRow, initialColumn) {\n    this.$session = session;\n    this.$row = initialRow;\n    this.$rowTokens = session.getTokens(initialRow);\n    var token = session.getTokenAt(initialRow, initialColumn);\n    this.$tokenIndex = token ? token.index : -1;\n};\n(function () {\n    this.stepBackward = function () {\n        this.$tokenIndex -= 1;\n        while (this.$tokenIndex < 0) {\n            this.$row -= 1;\n            if (this.$row < 0) {\n                this.$row = 0;\n                return null;\n            }\n            this.$rowTokens = this.$session.getTokens(this.$row);\n            this.$tokenIndex = this.$rowTokens.length - 1;\n        }\n        return this.$rowTokens[this.$tokenIndex];\n    };\n    this.stepForward = function () {\n        this.$tokenIndex += 1;\n        var rowCount;\n        while (this.$tokenIndex >= this.$rowTokens.length) {\n            this.$row += 1;\n            if (!rowCount)\n                rowCount = this.$session.getLength();\n            if (this.$row >= rowCount) {\n                this.$row = rowCount - 1;\n                return null;\n            }\n            this.$rowTokens = this.$session.getTokens(this.$row);\n            this.$tokenIndex = 0;\n        }\n        return this.$rowTokens[this.$tokenIndex];\n    };\n    this.getCurrentToken = function () {\n        return this.$rowTokens[this.$tokenIndex];\n    };\n    this.getCurrentTokenRow = function () {\n        return this.$row;\n    };\n    this.getCurrentTokenColumn = function () {\n        var rowTokens = this.$rowTokens;\n        var tokenIndex = this.$tokenIndex;\n        var column = rowTokens[tokenIndex].start;\n        if (column !== undefined)\n            return column;\n        column = 0;\n        while (tokenIndex > 0) {\n            tokenIndex -= 1;\n            column += rowTokens[tokenIndex].value.length;\n        }\n        return column;\n    };\n    this.getCurrentTokenPosition = function () {\n        return { row: this.$row, column: this.getCurrentTokenColumn() };\n    };\n    this.getCurrentTokenRange = function () {\n        var token = this.$rowTokens[this.$tokenIndex];\n        var column = this.getCurrentTokenColumn();\n        return new Range(this.$row, column, this.$row, column + token.value.length);\n    };\n}).call(TokenIterator.prototype);\nexports.TokenIterator = TokenIterator;\n\n});\n\nace.define(\"ace/mode/behaviour/cstyle\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/behaviour\",\"ace/token_iterator\",\"ace/lib/lang\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"../../lib/oop\");\nvar Behaviour = require(\"../behaviour\").Behaviour;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\nvar lang = require(\"../../lib/lang\");\nvar SAFE_INSERT_IN_TOKENS = [\"text\", \"paren.rparen\", \"rparen\", \"paren\", \"punctuation.operator\"];\nvar SAFE_INSERT_BEFORE_TOKENS = [\"text\", \"paren.rparen\", \"rparen\", \"paren\", \"punctuation.operator\", \"comment\"];\nvar context;\nvar contextCache = {};\nvar defaultQuotes = { '\"': '\"', \"'\": \"'\" };\nvar initContext = function (editor) {\n    var id = -1;\n    if (editor.multiSelect) {\n        id = editor.selection.index;\n        if (contextCache.rangeCount != editor.multiSelect.rangeCount)\n            contextCache = { rangeCount: editor.multiSelect.rangeCount };\n    }\n    if (contextCache[id])\n        return context = contextCache[id];\n    context = contextCache[id] = {\n        autoInsertedBrackets: 0,\n        autoInsertedRow: -1,\n        autoInsertedLineEnd: \"\",\n        maybeInsertedBrackets: 0,\n        maybeInsertedRow: -1,\n        maybeInsertedLineStart: \"\",\n        maybeInsertedLineEnd: \"\"\n    };\n};\nvar getWrapped = function (selection, selected, opening, closing) {\n    var rowDiff = selection.end.row - selection.start.row;\n    return {\n        text: opening + selected + closing,\n        selection: [\n            0,\n            selection.start.column + 1,\n            rowDiff,\n            selection.end.column + (rowDiff ? 0 : 1)\n        ]\n    };\n};\nvar CstyleBehaviour = function (options) {\n    this.add(\"braces\", \"insertion\", function (state, action, editor, session, text) {\n        var cursor = editor.getCursorPosition();\n        var line = session.doc.getLine(cursor.row);\n        if (text == '{') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && selected !== \"{\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '{', '}');\n            }\n            else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                if (/[\\]\\}\\)]/.test(line[cursor.column]) || editor.inMultiSelectMode || options && options.braces) {\n                    CstyleBehaviour.recordAutoInsert(editor, session, \"}\");\n                    return {\n                        text: '{}',\n                        selection: [1, 1]\n                    };\n                }\n                else {\n                    CstyleBehaviour.recordMaybeInsert(editor, session, \"{\");\n                    return {\n                        text: '{',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n        else if (text == '}') {\n            initContext(editor);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == '}') {\n                var matching = session.$findOpeningBracket('}', { column: cursor.column + 1, row: cursor.row });\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n        else if (text == \"\\n\" || text == \"\\r\\n\") {\n            initContext(editor);\n            var closing = \"\";\n            if (CstyleBehaviour.isMaybeInsertedClosing(cursor, line)) {\n                closing = lang.stringRepeat(\"}\", context.maybeInsertedBrackets);\n                CstyleBehaviour.clearMaybeInsertedClosing();\n            }\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar === '}') {\n                var openBracePos = session.findMatchingBracket({ row: cursor.row, column: cursor.column + 1 }, '}');\n                if (!openBracePos)\n                    return null;\n                var next_indent = this.$getIndent(session.getLine(openBracePos.row));\n            }\n            else if (closing) {\n                var next_indent = this.$getIndent(line);\n            }\n            else {\n                CstyleBehaviour.clearMaybeInsertedClosing();\n                return;\n            }\n            var indent = next_indent + session.getTabString();\n            return {\n                text: '\\n' + indent + '\\n' + next_indent + closing,\n                selection: [1, indent.length, 1, indent.length]\n            };\n        }\n        else {\n            CstyleBehaviour.clearMaybeInsertedClosing();\n        }\n    });\n    this.add(\"braces\", \"deletion\", function (state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '{') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.end.column, range.end.column + 1);\n            if (rightChar == '}') {\n                range.end.column++;\n                return range;\n            }\n            else {\n                context.maybeInsertedBrackets--;\n            }\n        }\n    });\n    this.add(\"parens\", \"insertion\", function (state, action, editor, session, text) {\n        if (text == '(') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '(', ')');\n            }\n            else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \")\");\n                return {\n                    text: '()',\n                    selection: [1, 1]\n                };\n            }\n        }\n        else if (text == ')') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ')') {\n                var matching = session.$findOpeningBracket(')', { column: cursor.column + 1, row: cursor.row });\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n    this.add(\"parens\", \"deletion\", function (state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '(') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ')') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n    this.add(\"brackets\", \"insertion\", function (state, action, editor, session, text) {\n        if (text == '[') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '[', ']');\n            }\n            else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \"]\");\n                return {\n                    text: '[]',\n                    selection: [1, 1]\n                };\n            }\n        }\n        else if (text == ']') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ']') {\n                var matching = session.$findOpeningBracket(']', { column: cursor.column + 1, row: cursor.row });\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n    this.add(\"brackets\", \"deletion\", function (state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '[') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ']') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n    this.add(\"string_dquotes\", \"insertion\", function (state, action, editor, session, text) {\n        var quotes = session.$mode.$quotes || defaultQuotes;\n        if (text.length == 1 && quotes[text]) {\n            if (this.lineCommentStart && this.lineCommentStart.indexOf(text) != -1)\n                return;\n            initContext(editor);\n            var quote = text;\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && (selected.length != 1 || !quotes[selected]) && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, quote, quote);\n            }\n            else if (!selected) {\n                var cursor = editor.getCursorPosition();\n                var line = session.doc.getLine(cursor.row);\n                var leftChar = line.substring(cursor.column - 1, cursor.column);\n                var rightChar = line.substring(cursor.column, cursor.column + 1);\n                var token = session.getTokenAt(cursor.row, cursor.column);\n                var rightToken = session.getTokenAt(cursor.row, cursor.column + 1);\n                if (leftChar == \"\\\\\" && token && /escape/.test(token.type))\n                    return null;\n                var stringBefore = token && /string|escape/.test(token.type);\n                var stringAfter = !rightToken || /string|escape/.test(rightToken.type);\n                var pair;\n                if (rightChar == quote) {\n                    pair = stringBefore !== stringAfter;\n                    if (pair && /string\\.end/.test(rightToken.type))\n                        pair = false;\n                }\n                else {\n                    if (stringBefore && !stringAfter)\n                        return null; // wrap string with different quote\n                    if (stringBefore && stringAfter)\n                        return null; // do not pair quotes inside strings\n                    var wordRe = session.$mode.tokenRe;\n                    wordRe.lastIndex = 0;\n                    var isWordBefore = wordRe.test(leftChar);\n                    wordRe.lastIndex = 0;\n                    var isWordAfter = wordRe.test(leftChar);\n                    if (isWordBefore || isWordAfter)\n                        return null; // before or after alphanumeric\n                    if (rightChar && !/[\\s;,.})\\]\\\\]/.test(rightChar))\n                        return null; // there is rightChar and it isn't closing\n                    var charBefore = line[cursor.column - 2];\n                    if (leftChar == quote && (charBefore == quote || wordRe.test(charBefore)))\n                        return null;\n                    pair = true;\n                }\n                return {\n                    text: pair ? quote + quote : \"\",\n                    selection: [1, 1]\n                };\n            }\n        }\n    });\n    this.add(\"string_dquotes\", \"deletion\", function (state, action, editor, session, range) {\n        var quotes = session.$mode.$quotes || defaultQuotes;\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && quotes.hasOwnProperty(selected)) {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == selected) {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n};\nCstyleBehaviour.isSaneInsertion = function (editor, session) {\n    var cursor = editor.getCursorPosition();\n    var iterator = new TokenIterator(session, cursor.row, cursor.column);\n    if (!this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS)) {\n        if (/[)}\\]]/.test(editor.session.getLine(cursor.row)[cursor.column]))\n            return true;\n        var iterator2 = new TokenIterator(session, cursor.row, cursor.column + 1);\n        if (!this.$matchTokenType(iterator2.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS))\n            return false;\n    }\n    iterator.stepForward();\n    return iterator.getCurrentTokenRow() !== cursor.row ||\n        this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_BEFORE_TOKENS);\n};\nCstyleBehaviour.$matchTokenType = function (token, types) {\n    return types.indexOf(token.type || token) > -1;\n};\nCstyleBehaviour.recordAutoInsert = function (editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isAutoInsertedClosing(cursor, line, context.autoInsertedLineEnd[0]))\n        context.autoInsertedBrackets = 0;\n    context.autoInsertedRow = cursor.row;\n    context.autoInsertedLineEnd = bracket + line.substr(cursor.column);\n    context.autoInsertedBrackets++;\n};\nCstyleBehaviour.recordMaybeInsert = function (editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isMaybeInsertedClosing(cursor, line))\n        context.maybeInsertedBrackets = 0;\n    context.maybeInsertedRow = cursor.row;\n    context.maybeInsertedLineStart = line.substr(0, cursor.column) + bracket;\n    context.maybeInsertedLineEnd = line.substr(cursor.column);\n    context.maybeInsertedBrackets++;\n};\nCstyleBehaviour.isAutoInsertedClosing = function (cursor, line, bracket) {\n    return context.autoInsertedBrackets > 0 &&\n        cursor.row === context.autoInsertedRow &&\n        bracket === context.autoInsertedLineEnd[0] &&\n        line.substr(cursor.column) === context.autoInsertedLineEnd;\n};\nCstyleBehaviour.isMaybeInsertedClosing = function (cursor, line) {\n    return context.maybeInsertedBrackets > 0 &&\n        cursor.row === context.maybeInsertedRow &&\n        line.substr(cursor.column) === context.maybeInsertedLineEnd &&\n        line.substr(0, cursor.column) == context.maybeInsertedLineStart;\n};\nCstyleBehaviour.popAutoInsertedClosing = function () {\n    context.autoInsertedLineEnd = context.autoInsertedLineEnd.substr(1);\n    context.autoInsertedBrackets--;\n};\nCstyleBehaviour.clearMaybeInsertedClosing = function () {\n    if (context) {\n        context.maybeInsertedBrackets = 0;\n        context.maybeInsertedRow = -1;\n    }\n};\noop.inherits(CstyleBehaviour, Behaviour);\nexports.CstyleBehaviour = CstyleBehaviour;\n\n});\n\nace.define(\"ace/unicode\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar wordChars = [48, 9, 8, 25, 5, 0, 2, 25, 48, 0, 11, 0, 5, 0, 6, 22, 2, 30, 2, 457, 5, 11, 15, 4, 8, 0, 2, 0, 18, 116, 2, 1, 3, 3, 9, 0, 2, 2, 2, 0, 2, 19, 2, 82, 2, 138, 2, 4, 3, 155, 12, 37, 3, 0, 8, 38, 10, 44, 2, 0, 2, 1, 2, 1, 2, 0, 9, 26, 6, 2, 30, 10, 7, 61, 2, 9, 5, 101, 2, 7, 3, 9, 2, 18, 3, 0, 17, 58, 3, 100, 15, 53, 5, 0, 6, 45, 211, 57, 3, 18, 2, 5, 3, 11, 3, 9, 2, 1, 7, 6, 2, 2, 2, 7, 3, 1, 3, 21, 2, 6, 2, 0, 4, 3, 3, 8, 3, 1, 3, 3, 9, 0, 5, 1, 2, 4, 3, 11, 16, 2, 2, 5, 5, 1, 3, 21, 2, 6, 2, 1, 2, 1, 2, 1, 3, 0, 2, 4, 5, 1, 3, 2, 4, 0, 8, 3, 2, 0, 8, 15, 12, 2, 2, 8, 2, 2, 2, 21, 2, 6, 2, 1, 2, 4, 3, 9, 2, 2, 2, 2, 3, 0, 16, 3, 3, 9, 18, 2, 2, 7, 3, 1, 3, 21, 2, 6, 2, 1, 2, 4, 3, 8, 3, 1, 3, 2, 9, 1, 5, 1, 2, 4, 3, 9, 2, 0, 17, 1, 2, 5, 4, 2, 2, 3, 4, 1, 2, 0, 2, 1, 4, 1, 4, 2, 4, 11, 5, 4, 4, 2, 2, 3, 3, 0, 7, 0, 15, 9, 18, 2, 2, 7, 2, 2, 2, 22, 2, 9, 2, 4, 4, 7, 2, 2, 2, 3, 8, 1, 2, 1, 7, 3, 3, 9, 19, 1, 2, 7, 2, 2, 2, 22, 2, 9, 2, 4, 3, 8, 2, 2, 2, 3, 8, 1, 8, 0, 2, 3, 3, 9, 19, 1, 2, 7, 2, 2, 2, 22, 2, 15, 4, 7, 2, 2, 2, 3, 10, 0, 9, 3, 3, 9, 11, 5, 3, 1, 2, 17, 4, 23, 2, 8, 2, 0, 3, 6, 4, 0, 5, 5, 2, 0, 2, 7, 19, 1, 14, 57, 6, 14, 2, 9, 40, 1, 2, 0, 3, 1, 2, 0, 3, 0, 7, 3, 2, 6, 2, 2, 2, 0, 2, 0, 3, 1, 2, 12, 2, 2, 3, 4, 2, 0, 2, 5, 3, 9, 3, 1, 35, 0, 24, 1, 7, 9, 12, 0, 2, 0, 2, 0, 5, 9, 2, 35, 5, 19, 2, 5, 5, 7, 2, 35, 10, 0, 58, 73, 7, 77, 3, 37, 11, 42, 2, 0, 4, 328, 2, 3, 3, 6, 2, 0, 2, 3, 3, 40, 2, 3, 3, 32, 2, 3, 3, 6, 2, 0, 2, 3, 3, 14, 2, 56, 2, 3, 3, 66, 5, 0, 33, 15, 17, 84, 13, 619, 3, 16, 2, 25, 6, 74, 22, 12, 2, 6, 12, 20, 12, 19, 13, 12, 2, 2, 2, 1, 13, 51, 3, 29, 4, 0, 5, 1, 3, 9, 34, 2, 3, 9, 7, 87, 9, 42, 6, 69, 11, 28, 4, 11, 5, 11, 11, 39, 3, 4, 12, 43, 5, 25, 7, 10, 38, 27, 5, 62, 2, 28, 3, 10, 7, 9, 14, 0, 89, 75, 5, 9, 18, 8, 13, 42, 4, 11, 71, 55, 9, 9, 4, 48, 83, 2, 2, 30, 14, 230, 23, 280, 3, 5, 3, 37, 3, 5, 3, 7, 2, 0, 2, 0, 2, 0, 2, 30, 3, 52, 2, 6, 2, 0, 4, 2, 2, 6, 4, 3, 3, 5, 5, 12, 6, 2, 2, 6, 67, 1, 20, 0, 29, 0, 14, 0, 17, 4, 60, 12, 5, 0, 4, 11, 18, 0, 5, 0, 3, 9, 2, 0, 4, 4, 7, 0, 2, 0, 2, 0, 2, 3, 2, 10, 3, 3, 6, 4, 5, 0, 53, 1, 2684, 46, 2, 46, 2, 132, 7, 6, 15, 37, 11, 53, 10, 0, 17, 22, 10, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 31, 48, 0, 470, 1, 36, 5, 2, 4, 6, 1, 5, 85, 3, 1, 3, 2, 2, 89, 2, 3, 6, 40, 4, 93, 18, 23, 57, 15, 513, 6581, 75, 20939, 53, 1164, 68, 45, 3, 268, 4, 27, 21, 31, 3, 13, 13, 1, 2, 24, 9, 69, 11, 1, 38, 8, 3, 102, 3, 1, 111, 44, 25, 51, 13, 68, 12, 9, 7, 23, 4, 0, 5, 45, 3, 35, 13, 28, 4, 64, 15, 10, 39, 54, 10, 13, 3, 9, 7, 22, 4, 1, 5, 66, 25, 2, 227, 42, 2, 1, 3, 9, 7, 11171, 13, 22, 5, 48, 8453, 301, 3, 61, 3, 105, 39, 6, 13, 4, 6, 11, 2, 12, 2, 4, 2, 0, 2, 1, 2, 1, 2, 107, 34, 362, 19, 63, 3, 53, 41, 11, 5, 15, 17, 6, 13, 1, 25, 2, 33, 4, 2, 134, 20, 9, 8, 25, 5, 0, 2, 25, 12, 88, 4, 5, 3, 5, 3, 5, 3, 2];\nvar code = 0;\nvar str = [];\nfor (var i = 0; i < wordChars.length; i += 2) {\n    str.push(code += wordChars[i]);\n    if (wordChars[i + 1])\n        str.push(45, code += wordChars[i + 1]);\n}\nexports.wordChars = String.fromCharCode.apply(null, str);\n\n});\n\nace.define(\"ace/mode/text\",[\"require\",\"exports\",\"module\",\"ace/config\",\"ace/tokenizer\",\"ace/mode/text_highlight_rules\",\"ace/mode/behaviour/cstyle\",\"ace/unicode\",\"ace/lib/lang\",\"ace/token_iterator\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar config = require(\"../config\");\nvar Tokenizer = require(\"../tokenizer\").Tokenizer;\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\nvar CstyleBehaviour = require(\"./behaviour/cstyle\").CstyleBehaviour;\nvar unicode = require(\"../unicode\");\nvar lang = require(\"../lib/lang\");\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nvar Range = require(\"../range\").Range;\nvar Mode = function () {\n    this.HighlightRules = TextHighlightRules;\n};\n(function () {\n    this.$defaultBehaviour = new CstyleBehaviour();\n    this.tokenRe = new RegExp(\"^[\" + unicode.wordChars + \"\\\\$_]+\", \"g\");\n    this.nonTokenRe = new RegExp(\"^(?:[^\" + unicode.wordChars + \"\\\\$_]|\\\\s])+\", \"g\");\n    this.getTokenizer = function () {\n        if (!this.$tokenizer) {\n            this.$highlightRules = this.$highlightRules || new this.HighlightRules(this.$highlightRuleConfig);\n            this.$tokenizer = new Tokenizer(this.$highlightRules.getRules());\n        }\n        return this.$tokenizer;\n    };\n    this.lineCommentStart = \"\";\n    this.blockComment = \"\";\n    this.toggleCommentLines = function (state, session, startRow, endRow) {\n        var doc = session.doc;\n        var ignoreBlankLines = true;\n        var shouldRemove = true;\n        var minIndent = Infinity;\n        var tabSize = session.getTabSize();\n        var insertAtTabStop = false;\n        if (!this.lineCommentStart) {\n            if (!this.blockComment)\n                return false;\n            var lineCommentStart = this.blockComment.start;\n            var lineCommentEnd = this.blockComment.end;\n            var regexpStart = new RegExp(\"^(\\\\s*)(?:\" + lang.escapeRegExp(lineCommentStart) + \")\");\n            var regexpEnd = new RegExp(\"(?:\" + lang.escapeRegExp(lineCommentEnd) + \")\\\\s*$\");\n            var comment = function (line, i) {\n                if (testRemove(line, i))\n                    return;\n                if (!ignoreBlankLines || /\\S/.test(line)) {\n                    doc.insertInLine({ row: i, column: line.length }, lineCommentEnd);\n                    doc.insertInLine({ row: i, column: minIndent }, lineCommentStart);\n                }\n            };\n            var uncomment = function (line, i) {\n                var m;\n                if (m = line.match(regexpEnd))\n                    doc.removeInLine(i, line.length - m[0].length, line.length);\n                if (m = line.match(regexpStart))\n                    doc.removeInLine(i, m[1].length, m[0].length);\n            };\n            var testRemove = function (line, row) {\n                if (regexpStart.test(line))\n                    return true;\n                var tokens = session.getTokens(row);\n                for (var i = 0; i < tokens.length; i++) {\n                    if (tokens[i].type === \"comment\")\n                        return true;\n                }\n            };\n        }\n        else {\n            if (Array.isArray(this.lineCommentStart)) {\n                var regexpStart = this.lineCommentStart.map(lang.escapeRegExp).join(\"|\");\n                var lineCommentStart = this.lineCommentStart[0];\n            }\n            else {\n                var regexpStart = lang.escapeRegExp(this.lineCommentStart);\n                var lineCommentStart = this.lineCommentStart;\n            }\n            regexpStart = new RegExp(\"^(\\\\s*)(?:\" + regexpStart + \") ?\");\n            insertAtTabStop = session.getUseSoftTabs();\n            var uncomment = function (line, i) {\n                var m = line.match(regexpStart);\n                if (!m)\n                    return;\n                var start = m[1].length, end = m[0].length;\n                if (!shouldInsertSpace(line, start, end) && m[0][end - 1] == \" \")\n                    end--;\n                doc.removeInLine(i, start, end);\n            };\n            var commentWithSpace = lineCommentStart + \" \";\n            var comment = function (line, i) {\n                if (!ignoreBlankLines || /\\S/.test(line)) {\n                    if (shouldInsertSpace(line, minIndent, minIndent))\n                        doc.insertInLine({ row: i, column: minIndent }, commentWithSpace);\n                    else\n                        doc.insertInLine({ row: i, column: minIndent }, lineCommentStart);\n                }\n            };\n            var testRemove = function (line, i) {\n                return regexpStart.test(line);\n            };\n            var shouldInsertSpace = function (line, before, after) {\n                var spaces = 0;\n                while (before-- && line.charAt(before) == \" \")\n                    spaces++;\n                if (spaces % tabSize != 0)\n                    return false;\n                var spaces = 0;\n                while (line.charAt(after++) == \" \")\n                    spaces++;\n                if (tabSize > 2)\n                    return spaces % tabSize != tabSize - 1;\n                else\n                    return spaces % tabSize == 0;\n            };\n        }\n        function iter(fun) {\n            for (var i = startRow; i <= endRow; i++)\n                fun(doc.getLine(i), i);\n        }\n        var minEmptyLength = Infinity;\n        iter(function (line, i) {\n            var indent = line.search(/\\S/);\n            if (indent !== -1) {\n                if (indent < minIndent)\n                    minIndent = indent;\n                if (shouldRemove && !testRemove(line, i))\n                    shouldRemove = false;\n            }\n            else if (minEmptyLength > line.length) {\n                minEmptyLength = line.length;\n            }\n        });\n        if (minIndent == Infinity) {\n            minIndent = minEmptyLength;\n            ignoreBlankLines = false;\n            shouldRemove = false;\n        }\n        if (insertAtTabStop && minIndent % tabSize != 0)\n            minIndent = Math.floor(minIndent / tabSize) * tabSize;\n        iter(shouldRemove ? uncomment : comment);\n    };\n    this.toggleBlockComment = function (state, session, range, cursor) {\n        var comment = this.blockComment;\n        if (!comment)\n            return;\n        if (!comment.start && comment[0])\n            comment = comment[0];\n        var iterator = new TokenIterator(session, cursor.row, cursor.column);\n        var token = iterator.getCurrentToken();\n        var sel = session.selection;\n        var initialRange = session.selection.toOrientedRange();\n        var startRow, colDiff;\n        if (token && /comment/.test(token.type)) {\n            var startRange, endRange;\n            while (token && /comment/.test(token.type)) {\n                var i = token.value.indexOf(comment.start);\n                if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    startRange = new Range(row, column, row, column + comment.start.length);\n                    break;\n                }\n                token = iterator.stepBackward();\n            }\n            var iterator = new TokenIterator(session, cursor.row, cursor.column);\n            var token = iterator.getCurrentToken();\n            while (token && /comment/.test(token.type)) {\n                var i = token.value.indexOf(comment.end);\n                if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    endRange = new Range(row, column, row, column + comment.end.length);\n                    break;\n                }\n                token = iterator.stepForward();\n            }\n            if (endRange)\n                session.remove(endRange);\n            if (startRange) {\n                session.remove(startRange);\n                startRow = startRange.start.row;\n                colDiff = -comment.start.length;\n            }\n        }\n        else {\n            colDiff = comment.start.length;\n            startRow = range.start.row;\n            session.insert(range.end, comment.end);\n            session.insert(range.start, comment.start);\n        }\n        if (initialRange.start.row == startRow)\n            initialRange.start.column += colDiff;\n        if (initialRange.end.row == startRow)\n            initialRange.end.column += colDiff;\n        session.selection.fromOrientedRange(initialRange);\n    };\n    this.getNextLineIndent = function (state, line, tab) {\n        return this.$getIndent(line);\n    };\n    this.checkOutdent = function (state, line, input) {\n        return false;\n    };\n    this.autoOutdent = function (state, doc, row) {\n    };\n    this.$getIndent = function (line) {\n        return line.match(/^\\s*/)[0];\n    };\n    this.createWorker = function (session) {\n        return null;\n    };\n    this.createModeDelegates = function (mapping) {\n        this.$embeds = [];\n        this.$modes = {};\n        for (var i in mapping) {\n            if (mapping[i]) {\n                var Mode = mapping[i];\n                var id = Mode.prototype.$id;\n                var mode = config.$modes[id];\n                if (!mode)\n                    config.$modes[id] = mode = new Mode();\n                if (!config.$modes[i])\n                    config.$modes[i] = mode;\n                this.$embeds.push(i);\n                this.$modes[i] = mode;\n            }\n        }\n        var delegations = [\"toggleBlockComment\", \"toggleCommentLines\", \"getNextLineIndent\",\n            \"checkOutdent\", \"autoOutdent\", \"transformAction\", \"getCompletions\"];\n        for (var i = 0; i < delegations.length; i++) {\n            (function (scope) {\n                var functionName = delegations[i];\n                var defaultHandler = scope[functionName];\n                scope[delegations[i]] = function () {\n                    return this.$delegator(functionName, arguments, defaultHandler);\n                };\n            }(this));\n        }\n    };\n    this.$delegator = function (method, args, defaultHandler) {\n        var state = args[0] || \"start\";\n        if (typeof state != \"string\") {\n            if (Array.isArray(state[2])) {\n                var language = state[2][state[2].length - 1];\n                var mode = this.$modes[language];\n                if (mode)\n                    return mode[method].apply(mode, [state[1]].concat([].slice.call(args, 1)));\n            }\n            state = state[0] || \"start\";\n        }\n        for (var i = 0; i < this.$embeds.length; i++) {\n            if (!this.$modes[this.$embeds[i]])\n                continue;\n            var split = state.split(this.$embeds[i]);\n            if (!split[0] && split[1]) {\n                args[0] = split[1];\n                var mode = this.$modes[this.$embeds[i]];\n                return mode[method].apply(mode, args);\n            }\n        }\n        var ret = defaultHandler.apply(this, args);\n        return defaultHandler ? ret : undefined;\n    };\n    this.transformAction = function (state, action, editor, session, param) {\n        if (this.$behaviour) {\n            var behaviours = this.$behaviour.getBehaviours();\n            for (var key in behaviours) {\n                if (behaviours[key][action]) {\n                    var ret = behaviours[key][action].apply(this, arguments);\n                    if (ret) {\n                        return ret;\n                    }\n                }\n            }\n        }\n    };\n    this.getKeywords = function (append) {\n        if (!this.completionKeywords) {\n            var rules = this.$tokenizer.rules;\n            var completionKeywords = [];\n            for (var rule in rules) {\n                var ruleItr = rules[rule];\n                for (var r = 0, l = ruleItr.length; r < l; r++) {\n                    if (typeof ruleItr[r].token === \"string\") {\n                        if (/keyword|support|storage/.test(ruleItr[r].token))\n                            completionKeywords.push(ruleItr[r].regex);\n                    }\n                    else if (typeof ruleItr[r].token === \"object\") {\n                        for (var a = 0, aLength = ruleItr[r].token.length; a < aLength; a++) {\n                            if (/keyword|support|storage/.test(ruleItr[r].token[a])) {\n                                var rule = ruleItr[r].regex.match(/\\(.+?\\)/g)[a];\n                                completionKeywords.push(rule.substr(1, rule.length - 2));\n                            }\n                        }\n                    }\n                }\n            }\n            this.completionKeywords = completionKeywords;\n        }\n        if (!append)\n            return this.$keywordList;\n        return completionKeywords.concat(this.$keywordList || []);\n    };\n    this.$createKeywordList = function () {\n        if (!this.$highlightRules)\n            this.getTokenizer();\n        return this.$keywordList = this.$highlightRules.$keywordList || [];\n    };\n    this.getCompletions = function (state, session, pos, prefix) {\n        var keywords = this.$keywordList || this.$createKeywordList();\n        return keywords.map(function (word) {\n            return {\n                name: word,\n                value: word,\n                score: 0,\n                meta: \"keyword\"\n            };\n        });\n    };\n    this.$id = \"ace/mode/text\";\n}).call(Mode.prototype);\nexports.Mode = Mode;\n\n});\n\nace.define(\"ace/apply_delta\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nfunction throwDeltaError(delta, errorText) {\n    console.log(\"Invalid Delta:\", delta);\n    throw \"Invalid Delta: \" + errorText;\n}\nfunction positionInDocument(docLines, position) {\n    return position.row >= 0 && position.row < docLines.length &&\n        position.column >= 0 && position.column <= docLines[position.row].length;\n}\nfunction validateDelta(docLines, delta) {\n    if (delta.action != \"insert\" && delta.action != \"remove\")\n        throwDeltaError(delta, \"delta.action must be 'insert' or 'remove'\");\n    if (!(delta.lines instanceof Array))\n        throwDeltaError(delta, \"delta.lines must be an Array\");\n    if (!delta.start || !delta.end)\n        throwDeltaError(delta, \"delta.start/end must be an present\");\n    var start = delta.start;\n    if (!positionInDocument(docLines, delta.start))\n        throwDeltaError(delta, \"delta.start must be contained in document\");\n    var end = delta.end;\n    if (delta.action == \"remove\" && !positionInDocument(docLines, end))\n        throwDeltaError(delta, \"delta.end must contained in document for 'remove' actions\");\n    var numRangeRows = end.row - start.row;\n    var numRangeLastLineChars = (end.column - (numRangeRows == 0 ? start.column : 0));\n    if (numRangeRows != delta.lines.length - 1 || delta.lines[numRangeRows].length != numRangeLastLineChars)\n        throwDeltaError(delta, \"delta.range must match delta lines\");\n}\nexports.applyDelta = function (docLines, delta, doNotValidate) {\n    var row = delta.start.row;\n    var startColumn = delta.start.column;\n    var line = docLines[row] || \"\";\n    switch (delta.action) {\n        case \"insert\":\n            var lines = delta.lines;\n            if (lines.length === 1) {\n                docLines[row] = line.substring(0, startColumn) + delta.lines[0] + line.substring(startColumn);\n            }\n            else {\n                var args = [row, 1].concat(delta.lines);\n                docLines.splice.apply(docLines, args);\n                docLines[row] = line.substring(0, startColumn) + docLines[row];\n                docLines[row + delta.lines.length - 1] += line.substring(startColumn);\n            }\n            break;\n        case \"remove\":\n            var endColumn = delta.end.column;\n            var endRow = delta.end.row;\n            if (row === endRow) {\n                docLines[row] = line.substring(0, startColumn) + line.substring(endColumn);\n            }\n            else {\n                docLines.splice(row, endRow - row + 1, line.substring(0, startColumn) + docLines[endRow].substring(endColumn));\n            }\n            break;\n    }\n};\n\n});\n\nace.define(\"ace/anchor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Anchor = exports.Anchor = function (doc, row, column) {\n    this.$onChange = this.onChange.bind(this);\n    this.attach(doc);\n    if (typeof column == \"undefined\")\n        this.setPosition(row.row, row.column);\n    else\n        this.setPosition(row, column);\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.getPosition = function () {\n        return this.$clipPositionToDocument(this.row, this.column);\n    };\n    this.getDocument = function () {\n        return this.document;\n    };\n    this.$insertRight = false;\n    this.onChange = function (delta) {\n        if (delta.start.row == delta.end.row && delta.start.row != this.row)\n            return;\n        if (delta.start.row > this.row)\n            return;\n        var point = $getTransformedPoint(delta, { row: this.row, column: this.column }, this.$insertRight);\n        this.setPosition(point.row, point.column, true);\n    };\n    function $pointsInOrder(point1, point2, equalPointsInOrder) {\n        var bColIsAfter = equalPointsInOrder ? point1.column <= point2.column : point1.column < point2.column;\n        return (point1.row < point2.row) || (point1.row == point2.row && bColIsAfter);\n    }\n    function $getTransformedPoint(delta, point, moveIfEqual) {\n        var deltaIsInsert = delta.action == \"insert\";\n        var deltaRowShift = (deltaIsInsert ? 1 : -1) * (delta.end.row - delta.start.row);\n        var deltaColShift = (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column);\n        var deltaStart = delta.start;\n        var deltaEnd = deltaIsInsert ? deltaStart : delta.end; // Collapse insert range.\n        if ($pointsInOrder(point, deltaStart, moveIfEqual)) {\n            return {\n                row: point.row,\n                column: point.column\n            };\n        }\n        if ($pointsInOrder(deltaEnd, point, !moveIfEqual)) {\n            return {\n                row: point.row + deltaRowShift,\n                column: point.column + (point.row == deltaEnd.row ? deltaColShift : 0)\n            };\n        }\n        return {\n            row: deltaStart.row,\n            column: deltaStart.column\n        };\n    }\n    this.setPosition = function (row, column, noClip) {\n        var pos;\n        if (noClip) {\n            pos = {\n                row: row,\n                column: column\n            };\n        }\n        else {\n            pos = this.$clipPositionToDocument(row, column);\n        }\n        if (this.row == pos.row && this.column == pos.column)\n            return;\n        var old = {\n            row: this.row,\n            column: this.column\n        };\n        this.row = pos.row;\n        this.column = pos.column;\n        this._signal(\"change\", {\n            old: old,\n            value: pos\n        });\n    };\n    this.detach = function () {\n        this.document.off(\"change\", this.$onChange);\n    };\n    this.attach = function (doc) {\n        this.document = doc || this.document;\n        this.document.on(\"change\", this.$onChange);\n    };\n    this.$clipPositionToDocument = function (row, column) {\n        var pos = {};\n        if (row >= this.document.getLength()) {\n            pos.row = Math.max(0, this.document.getLength() - 1);\n            pos.column = this.document.getLine(pos.row).length;\n        }\n        else if (row < 0) {\n            pos.row = 0;\n            pos.column = 0;\n        }\n        else {\n            pos.row = row;\n            pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));\n        }\n        if (column < 0)\n            pos.column = 0;\n        return pos;\n    };\n}).call(Anchor.prototype);\n\n});\n\nace.define(\"ace/document\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/apply_delta\",\"ace/lib/event_emitter\",\"ace/range\",\"ace/anchor\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar applyDelta = require(\"./apply_delta\").applyDelta;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Range = require(\"./range\").Range;\nvar Anchor = require(\"./anchor\").Anchor;\nvar Document = function (textOrLines) {\n    this.$lines = [\"\"];\n    if (textOrLines.length === 0) {\n        this.$lines = [\"\"];\n    }\n    else if (Array.isArray(textOrLines)) {\n        this.insertMergedLines({ row: 0, column: 0 }, textOrLines);\n    }\n    else {\n        this.insert({ row: 0, column: 0 }, textOrLines);\n    }\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.setValue = function (text) {\n        var len = this.getLength() - 1;\n        this.remove(new Range(0, 0, len, this.getLine(len).length));\n        this.insert({ row: 0, column: 0 }, text || \"\");\n    };\n    this.getValue = function () {\n        return this.getAllLines().join(this.getNewLineCharacter());\n    };\n    this.createAnchor = function (row, column) {\n        return new Anchor(this, row, column);\n    };\n    if (\"aaa\".split(/a/).length === 0) {\n        this.$split = function (text) {\n            return text.replace(/\\r\\n|\\r/g, \"\\n\").split(\"\\n\");\n        };\n    }\n    else {\n        this.$split = function (text) {\n            return text.split(/\\r\\n|\\r|\\n/);\n        };\n    }\n    this.$detectNewLine = function (text) {\n        var match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n        this.$autoNewLine = match ? match[1] : \"\\n\";\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineCharacter = function () {\n        switch (this.$newLineMode) {\n            case \"windows\":\n                return \"\\r\\n\";\n            case \"unix\":\n                return \"\\n\";\n            default:\n                return this.$autoNewLine || \"\\n\";\n        }\n    };\n    this.$autoNewLine = \"\";\n    this.$newLineMode = \"auto\";\n    this.setNewLineMode = function (newLineMode) {\n        if (this.$newLineMode === newLineMode)\n            return;\n        this.$newLineMode = newLineMode;\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineMode = function () {\n        return this.$newLineMode;\n    };\n    this.isNewLine = function (text) {\n        return (text == \"\\r\\n\" || text == \"\\r\" || text == \"\\n\");\n    };\n    this.getLine = function (row) {\n        return this.$lines[row] || \"\";\n    };\n    this.getLines = function (firstRow, lastRow) {\n        return this.$lines.slice(firstRow, lastRow + 1);\n    };\n    this.getAllLines = function () {\n        return this.getLines(0, this.getLength());\n    };\n    this.getLength = function () {\n        return this.$lines.length;\n    };\n    this.getTextRange = function (range) {\n        return this.getLinesForRange(range).join(this.getNewLineCharacter());\n    };\n    this.getLinesForRange = function (range) {\n        var lines;\n        if (range.start.row === range.end.row) {\n            lines = [this.getLine(range.start.row).substring(range.start.column, range.end.column)];\n        }\n        else {\n            lines = this.getLines(range.start.row, range.end.row);\n            lines[0] = (lines[0] || \"\").substring(range.start.column);\n            var l = lines.length - 1;\n            if (range.end.row - range.start.row == l)\n                lines[l] = lines[l].substring(0, range.end.column);\n        }\n        return lines;\n    };\n    this.insertLines = function (row, lines) {\n        console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\");\n        return this.insertFullLines(row, lines);\n    };\n    this.removeLines = function (firstRow, lastRow) {\n        console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\");\n        return this.removeFullLines(firstRow, lastRow);\n    };\n    this.insertNewLine = function (position) {\n        console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\");\n        return this.insertMergedLines(position, [\"\", \"\"]);\n    };\n    this.insert = function (position, text) {\n        if (this.getLength() <= 1)\n            this.$detectNewLine(text);\n        return this.insertMergedLines(position, this.$split(text));\n    };\n    this.insertInLine = function (position, text) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = this.pos(position.row, position.column + text.length);\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: [text]\n        }, true);\n        return this.clonePos(end);\n    };\n    this.clippedPos = function (row, column) {\n        var length = this.getLength();\n        if (row === undefined) {\n            row = length;\n        }\n        else if (row < 0) {\n            row = 0;\n        }\n        else if (row >= length) {\n            row = length - 1;\n            column = undefined;\n        }\n        var line = this.getLine(row);\n        if (column == undefined)\n            column = line.length;\n        column = Math.min(Math.max(column, 0), line.length);\n        return { row: row, column: column };\n    };\n    this.clonePos = function (pos) {\n        return { row: pos.row, column: pos.column };\n    };\n    this.pos = function (row, column) {\n        return { row: row, column: column };\n    };\n    this.$clipPosition = function (position) {\n        var length = this.getLength();\n        if (position.row >= length) {\n            position.row = Math.max(0, length - 1);\n            position.column = this.getLine(length - 1).length;\n        }\n        else {\n            position.row = Math.max(0, position.row);\n            position.column = Math.min(Math.max(position.column, 0), this.getLine(position.row).length);\n        }\n        return position;\n    };\n    this.insertFullLines = function (row, lines) {\n        row = Math.min(Math.max(row, 0), this.getLength());\n        var column = 0;\n        if (row < this.getLength()) {\n            lines = lines.concat([\"\"]);\n            column = 0;\n        }\n        else {\n            lines = [\"\"].concat(lines);\n            row--;\n            column = this.$lines[row].length;\n        }\n        this.insertMergedLines({ row: row, column: column }, lines);\n    };\n    this.insertMergedLines = function (position, lines) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = {\n            row: start.row + lines.length - 1,\n            column: (lines.length == 1 ? start.column : 0) + lines[lines.length - 1].length\n        };\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: lines\n        });\n        return this.clonePos(end);\n    };\n    this.remove = function (range) {\n        var start = this.clippedPos(range.start.row, range.start.column);\n        var end = this.clippedPos(range.end.row, range.end.column);\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({ start: start, end: end })\n        });\n        return this.clonePos(start);\n    };\n    this.removeInLine = function (row, startColumn, endColumn) {\n        var start = this.clippedPos(row, startColumn);\n        var end = this.clippedPos(row, endColumn);\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({ start: start, end: end })\n        }, true);\n        return this.clonePos(start);\n    };\n    this.removeFullLines = function (firstRow, lastRow) {\n        firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1);\n        lastRow = Math.min(Math.max(0, lastRow), this.getLength() - 1);\n        var deleteFirstNewLine = lastRow == this.getLength() - 1 && firstRow > 0;\n        var deleteLastNewLine = lastRow < this.getLength() - 1;\n        var startRow = (deleteFirstNewLine ? firstRow - 1 : firstRow);\n        var startCol = (deleteFirstNewLine ? this.getLine(startRow).length : 0);\n        var endRow = (deleteLastNewLine ? lastRow + 1 : lastRow);\n        var endCol = (deleteLastNewLine ? 0 : this.getLine(endRow).length);\n        var range = new Range(startRow, startCol, endRow, endCol);\n        var deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n        this.applyDelta({\n            start: range.start,\n            end: range.end,\n            action: \"remove\",\n            lines: this.getLinesForRange(range)\n        });\n        return deletedLines;\n    };\n    this.removeNewLine = function (row) {\n        if (row < this.getLength() - 1 && row >= 0) {\n            this.applyDelta({\n                start: this.pos(row, this.getLine(row).length),\n                end: this.pos(row + 1, 0),\n                action: \"remove\",\n                lines: [\"\", \"\"]\n            });\n        }\n    };\n    this.replace = function (range, text) {\n        if (!(range instanceof Range))\n            range = Range.fromPoints(range.start, range.end);\n        if (text.length === 0 && range.isEmpty())\n            return range.start;\n        if (text == this.getTextRange(range))\n            return range.end;\n        this.remove(range);\n        var end;\n        if (text) {\n            end = this.insert(range.start, text);\n        }\n        else {\n            end = range.start;\n        }\n        return end;\n    };\n    this.applyDeltas = function (deltas) {\n        for (var i = 0; i < deltas.length; i++) {\n            this.applyDelta(deltas[i]);\n        }\n    };\n    this.revertDeltas = function (deltas) {\n        for (var i = deltas.length - 1; i >= 0; i--) {\n            this.revertDelta(deltas[i]);\n        }\n    };\n    this.applyDelta = function (delta, doNotValidate) {\n        var isInsert = delta.action == \"insert\";\n        if (isInsert ? delta.lines.length <= 1 && !delta.lines[0]\n            : !Range.comparePoints(delta.start, delta.end)) {\n            return;\n        }\n        if (isInsert && delta.lines.length > 20000) {\n            this.$splitAndapplyLargeDelta(delta, 20000);\n        }\n        else {\n            applyDelta(this.$lines, delta, doNotValidate);\n            this._signal(\"change\", delta);\n        }\n    };\n    this.$safeApplyDelta = function (delta) {\n        var docLength = this.$lines.length;\n        if (delta.action == \"remove\" && delta.start.row < docLength && delta.end.row < docLength\n            || delta.action == \"insert\" && delta.start.row <= docLength) {\n            this.applyDelta(delta);\n        }\n    };\n    this.$splitAndapplyLargeDelta = function (delta, MAX) {\n        var lines = delta.lines;\n        var l = lines.length - MAX + 1;\n        var row = delta.start.row;\n        var column = delta.start.column;\n        for (var from = 0, to = 0; from < l; from = to) {\n            to += MAX - 1;\n            var chunk = lines.slice(from, to);\n            chunk.push(\"\");\n            this.applyDelta({\n                start: this.pos(row + from, column),\n                end: this.pos(row + to, column = 0),\n                action: delta.action,\n                lines: chunk\n            }, true);\n        }\n        delta.lines = lines.slice(from);\n        delta.start.row = row + from;\n        delta.start.column = column;\n        this.applyDelta(delta, true);\n    };\n    this.revertDelta = function (delta) {\n        this.$safeApplyDelta({\n            start: this.clonePos(delta.start),\n            end: this.clonePos(delta.end),\n            action: (delta.action == \"insert\" ? \"remove\" : \"insert\"),\n            lines: delta.lines.slice()\n        });\n    };\n    this.indexToPosition = function (index, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        for (var i = startRow || 0, l = lines.length; i < l; i++) {\n            index -= lines[i].length + newlineLength;\n            if (index < 0)\n                return { row: i, column: index + lines[i].length + newlineLength };\n        }\n        return { row: l - 1, column: index + lines[l - 1].length + newlineLength };\n    };\n    this.positionToIndex = function (pos, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        var index = 0;\n        var row = Math.min(pos.row, lines.length);\n        for (var i = startRow || 0; i < row; ++i)\n            index += lines[i].length + newlineLength;\n        return index + pos.column;\n    };\n}).call(Document.prototype);\nexports.Document = Document;\n\n});\n\nace.define(\"ace/background_tokenizer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar BackgroundTokenizer = function (tokenizer, editor) {\n    this.running = false;\n    this.lines = [];\n    this.states = [];\n    this.currentLine = 0;\n    this.tokenizer = tokenizer;\n    var self = this;\n    this.$worker = function () {\n        if (!self.running) {\n            return;\n        }\n        var workerStart = new Date();\n        var currentLine = self.currentLine;\n        var endLine = -1;\n        var doc = self.doc;\n        var startLine = currentLine;\n        while (self.lines[currentLine])\n            currentLine++;\n        var len = doc.getLength();\n        var processedLines = 0;\n        self.running = false;\n        while (currentLine < len) {\n            self.$tokenizeRow(currentLine);\n            endLine = currentLine;\n            do {\n                currentLine++;\n            } while (self.lines[currentLine]);\n            processedLines++;\n            if ((processedLines % 5 === 0) && (new Date() - workerStart) > 20) {\n                self.running = setTimeout(self.$worker, 20);\n                break;\n            }\n        }\n        self.currentLine = currentLine;\n        if (endLine == -1)\n            endLine = currentLine;\n        if (startLine <= endLine)\n            self.fireUpdateEvent(startLine, endLine);\n    };\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.setTokenizer = function (tokenizer) {\n        this.tokenizer = tokenizer;\n        this.lines = [];\n        this.states = [];\n        this.start(0);\n    };\n    this.setDocument = function (doc) {\n        this.doc = doc;\n        this.lines = [];\n        this.states = [];\n        this.stop();\n    };\n    this.fireUpdateEvent = function (firstRow, lastRow) {\n        var data = {\n            first: firstRow,\n            last: lastRow\n        };\n        this._signal(\"update\", { data: data });\n    };\n    this.start = function (startRow) {\n        this.currentLine = Math.min(startRow || 0, this.currentLine, this.doc.getLength());\n        this.lines.splice(this.currentLine, this.lines.length);\n        this.states.splice(this.currentLine, this.states.length);\n        this.stop();\n        this.running = setTimeout(this.$worker, 700);\n    };\n    this.scheduleStart = function () {\n        if (!this.running)\n            this.running = setTimeout(this.$worker, 700);\n    };\n    this.$updateOnChange = function (delta) {\n        var startRow = delta.start.row;\n        var len = delta.end.row - startRow;\n        if (len === 0) {\n            this.lines[startRow] = null;\n        }\n        else if (delta.action == \"remove\") {\n            this.lines.splice(startRow, len + 1, null);\n            this.states.splice(startRow, len + 1, null);\n        }\n        else {\n            var args = Array(len + 1);\n            args.unshift(startRow, 1);\n            this.lines.splice.apply(this.lines, args);\n            this.states.splice.apply(this.states, args);\n        }\n        this.currentLine = Math.min(startRow, this.currentLine, this.doc.getLength());\n        this.stop();\n    };\n    this.stop = function () {\n        if (this.running)\n            clearTimeout(this.running);\n        this.running = false;\n    };\n    this.getTokens = function (row) {\n        return this.lines[row] || this.$tokenizeRow(row);\n    };\n    this.getState = function (row) {\n        if (this.currentLine == row)\n            this.$tokenizeRow(row);\n        return this.states[row] || \"start\";\n    };\n    this.$tokenizeRow = function (row) {\n        var line = this.doc.getLine(row);\n        var state = this.states[row - 1];\n        var data = this.tokenizer.getLineTokens(line, state, row);\n        if (this.states[row] + \"\" !== data.state + \"\") {\n            this.states[row] = data.state;\n            this.lines[row + 1] = null;\n            if (this.currentLine > row + 1)\n                this.currentLine = row + 1;\n        }\n        else if (this.currentLine == row) {\n            this.currentLine = row + 1;\n        }\n        return this.lines[row] = data.tokens;\n    };\n    this.cleanup = function () {\n        this.running = false;\n        this.lines = [];\n        this.states = [];\n        this.currentLine = 0;\n        this.removeAllListeners();\n    };\n}).call(BackgroundTokenizer.prototype);\nexports.BackgroundTokenizer = BackgroundTokenizer;\n\n});\n\nace.define(\"ace/search_highlight\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar Range = require(\"./range\").Range;\nvar SearchHighlight = function (regExp, clazz, type) {\n    this.setRegexp(regExp);\n    this.clazz = clazz;\n    this.type = type || \"text\";\n};\n(function () {\n    this.MAX_RANGES = 500;\n    this.setRegexp = function (regExp) {\n        if (this.regExp + \"\" == regExp + \"\")\n            return;\n        this.regExp = regExp;\n        this.cache = [];\n    };\n    this.update = function (html, markerLayer, session, config) {\n        if (!this.regExp)\n            return;\n        var start = config.firstRow, end = config.lastRow;\n        var renderedMarkerRanges = {};\n        for (var i = start; i <= end; i++) {\n            var ranges = this.cache[i];\n            if (ranges == null) {\n                ranges = lang.getMatchOffsets(session.getLine(i), this.regExp);\n                if (ranges.length > this.MAX_RANGES)\n                    ranges = ranges.slice(0, this.MAX_RANGES);\n                ranges = ranges.map(function (match) {\n                    return new Range(i, match.offset, i, match.offset + match.length);\n                });\n                this.cache[i] = ranges.length ? ranges : \"\";\n            }\n            for (var j = ranges.length; j--;) {\n                var rangeToAddMarkerTo = ranges[j].toScreenRange(session);\n                var rangeAsString = rangeToAddMarkerTo.toString();\n                if (renderedMarkerRanges[rangeAsString])\n                    continue;\n                renderedMarkerRanges[rangeAsString] = true;\n                markerLayer.drawSingleLineMarker(html, rangeToAddMarkerTo, this.clazz, config);\n            }\n        }\n    };\n}).call(SearchHighlight.prototype);\nexports.SearchHighlight = SearchHighlight;\n\n});\n\nace.define(\"ace/edit_session/fold_line\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"../range\").Range;\nfunction FoldLine(foldData, folds) {\n    this.foldData = foldData;\n    if (Array.isArray(folds)) {\n        this.folds = folds;\n    }\n    else {\n        folds = this.folds = [folds];\n    }\n    var last = folds[folds.length - 1];\n    this.range = new Range(folds[0].start.row, folds[0].start.column, last.end.row, last.end.column);\n    this.start = this.range.start;\n    this.end = this.range.end;\n    this.folds.forEach(function (fold) {\n        fold.setFoldLine(this);\n    }, this);\n}\n(function () {\n    this.shiftRow = function (shift) {\n        this.start.row += shift;\n        this.end.row += shift;\n        this.folds.forEach(function (fold) {\n            fold.start.row += shift;\n            fold.end.row += shift;\n        });\n    };\n    this.addFold = function (fold) {\n        if (fold.sameRow) {\n            if (fold.start.row < this.startRow || fold.endRow > this.endRow) {\n                throw new Error(\"Can't add a fold to this FoldLine as it has no connection\");\n            }\n            this.folds.push(fold);\n            this.folds.sort(function (a, b) {\n                return -a.range.compareEnd(b.start.row, b.start.column);\n            });\n            if (this.range.compareEnd(fold.start.row, fold.start.column) > 0) {\n                this.end.row = fold.end.row;\n                this.end.column = fold.end.column;\n            }\n            else if (this.range.compareStart(fold.end.row, fold.end.column) < 0) {\n                this.start.row = fold.start.row;\n                this.start.column = fold.start.column;\n            }\n        }\n        else if (fold.start.row == this.end.row) {\n            this.folds.push(fold);\n            this.end.row = fold.end.row;\n            this.end.column = fold.end.column;\n        }\n        else if (fold.end.row == this.start.row) {\n            this.folds.unshift(fold);\n            this.start.row = fold.start.row;\n            this.start.column = fold.start.column;\n        }\n        else {\n            throw new Error(\"Trying to add fold to FoldRow that doesn't have a matching row\");\n        }\n        fold.foldLine = this;\n    };\n    this.containsRow = function (row) {\n        return row >= this.start.row && row <= this.end.row;\n    };\n    this.walk = function (callback, endRow, endColumn) {\n        var lastEnd = 0, folds = this.folds, fold, cmp, stop, isNewRow = true;\n        if (endRow == null) {\n            endRow = this.end.row;\n            endColumn = this.end.column;\n        }\n        for (var i = 0; i < folds.length; i++) {\n            fold = folds[i];\n            cmp = fold.range.compareStart(endRow, endColumn);\n            if (cmp == -1) {\n                callback(null, endRow, endColumn, lastEnd, isNewRow);\n                return;\n            }\n            stop = callback(null, fold.start.row, fold.start.column, lastEnd, isNewRow);\n            stop = !stop && callback(fold.placeholder, fold.start.row, fold.start.column, lastEnd);\n            if (stop || cmp === 0) {\n                return;\n            }\n            isNewRow = !fold.sameRow;\n            lastEnd = fold.end.column;\n        }\n        callback(null, endRow, endColumn, lastEnd, isNewRow);\n    };\n    this.getNextFoldTo = function (row, column) {\n        var fold, cmp;\n        for (var i = 0; i < this.folds.length; i++) {\n            fold = this.folds[i];\n            cmp = fold.range.compareEnd(row, column);\n            if (cmp == -1) {\n                return {\n                    fold: fold,\n                    kind: \"after\"\n                };\n            }\n            else if (cmp === 0) {\n                return {\n                    fold: fold,\n                    kind: \"inside\"\n                };\n            }\n        }\n        return null;\n    };\n    this.addRemoveChars = function (row, column, len) {\n        var ret = this.getNextFoldTo(row, column), fold, folds;\n        if (ret) {\n            fold = ret.fold;\n            if (ret.kind == \"inside\"\n                && fold.start.column != column\n                && fold.start.row != row) {\n                window.console && window.console.log(row, column, fold);\n            }\n            else if (fold.start.row == row) {\n                folds = this.folds;\n                var i = folds.indexOf(fold);\n                if (i === 0) {\n                    this.start.column += len;\n                }\n                for (i; i < folds.length; i++) {\n                    fold = folds[i];\n                    fold.start.column += len;\n                    if (!fold.sameRow) {\n                        return;\n                    }\n                    fold.end.column += len;\n                }\n                this.end.column += len;\n            }\n        }\n    };\n    this.split = function (row, column) {\n        var pos = this.getNextFoldTo(row, column);\n        if (!pos || pos.kind == \"inside\")\n            return null;\n        var fold = pos.fold;\n        var folds = this.folds;\n        var foldData = this.foldData;\n        var i = folds.indexOf(fold);\n        var foldBefore = folds[i - 1];\n        this.end.row = foldBefore.end.row;\n        this.end.column = foldBefore.end.column;\n        folds = folds.splice(i, folds.length - i);\n        var newFoldLine = new FoldLine(foldData, folds);\n        foldData.splice(foldData.indexOf(this) + 1, 0, newFoldLine);\n        return newFoldLine;\n    };\n    this.merge = function (foldLineNext) {\n        var folds = foldLineNext.folds;\n        for (var i = 0; i < folds.length; i++) {\n            this.addFold(folds[i]);\n        }\n        var foldData = this.foldData;\n        foldData.splice(foldData.indexOf(foldLineNext), 1);\n    };\n    this.toString = function () {\n        var ret = [this.range.toString() + \": [\"];\n        this.folds.forEach(function (fold) {\n            ret.push(\"  \" + fold.toString());\n        });\n        ret.push(\"]\");\n        return ret.join(\"\\n\");\n    };\n    this.idxToPosition = function (idx) {\n        var lastFoldEndColumn = 0;\n        for (var i = 0; i < this.folds.length; i++) {\n            var fold = this.folds[i];\n            idx -= fold.start.column - lastFoldEndColumn;\n            if (idx < 0) {\n                return {\n                    row: fold.start.row,\n                    column: fold.start.column + idx\n                };\n            }\n            idx -= fold.placeholder.length;\n            if (idx < 0) {\n                return fold.start;\n            }\n            lastFoldEndColumn = fold.end.column;\n        }\n        return {\n            row: this.end.row,\n            column: this.end.column + idx\n        };\n    };\n}).call(FoldLine.prototype);\nexports.FoldLine = FoldLine;\n\n});\n\nace.define(\"ace/range_list\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"./range\").Range;\nvar comparePoints = Range.comparePoints;\nvar RangeList = function () {\n    this.ranges = [];\n    this.$bias = 1;\n};\n(function () {\n    this.comparePoints = comparePoints;\n    this.pointIndex = function (pos, excludeEdges, startIndex) {\n        var list = this.ranges;\n        for (var i = startIndex || 0; i < list.length; i++) {\n            var range = list[i];\n            var cmpEnd = comparePoints(pos, range.end);\n            if (cmpEnd > 0)\n                continue;\n            var cmpStart = comparePoints(pos, range.start);\n            if (cmpEnd === 0)\n                return excludeEdges && cmpStart !== 0 ? -i - 2 : i;\n            if (cmpStart > 0 || (cmpStart === 0 && !excludeEdges))\n                return i;\n            return -i - 1;\n        }\n        return -i - 1;\n    };\n    this.add = function (range) {\n        var excludeEdges = !range.isEmpty();\n        var startIndex = this.pointIndex(range.start, excludeEdges);\n        if (startIndex < 0)\n            startIndex = -startIndex - 1;\n        var endIndex = this.pointIndex(range.end, excludeEdges, startIndex);\n        if (endIndex < 0)\n            endIndex = -endIndex - 1;\n        else\n            endIndex++;\n        return this.ranges.splice(startIndex, endIndex - startIndex, range);\n    };\n    this.addList = function (list) {\n        var removed = [];\n        for (var i = list.length; i--;) {\n            removed.push.apply(removed, this.add(list[i]));\n        }\n        return removed;\n    };\n    this.substractPoint = function (pos) {\n        var i = this.pointIndex(pos);\n        if (i >= 0)\n            return this.ranges.splice(i, 1);\n    };\n    this.merge = function () {\n        var removed = [];\n        var list = this.ranges;\n        list = list.sort(function (a, b) {\n            return comparePoints(a.start, b.start);\n        });\n        var next = list[0], range;\n        for (var i = 1; i < list.length; i++) {\n            range = next;\n            next = list[i];\n            var cmp = comparePoints(range.end, next.start);\n            if (cmp < 0)\n                continue;\n            if (cmp == 0 && !range.isEmpty() && !next.isEmpty())\n                continue;\n            if (comparePoints(range.end, next.end) < 0) {\n                range.end.row = next.end.row;\n                range.end.column = next.end.column;\n            }\n            list.splice(i, 1);\n            removed.push(next);\n            next = range;\n            i--;\n        }\n        this.ranges = list;\n        return removed;\n    };\n    this.contains = function (row, column) {\n        return this.pointIndex({ row: row, column: column }) >= 0;\n    };\n    this.containsPoint = function (pos) {\n        return this.pointIndex(pos) >= 0;\n    };\n    this.rangeAtPoint = function (pos) {\n        var i = this.pointIndex(pos);\n        if (i >= 0)\n            return this.ranges[i];\n    };\n    this.clipRows = function (startRow, endRow) {\n        var list = this.ranges;\n        if (list[0].start.row > endRow || list[list.length - 1].start.row < startRow)\n            return [];\n        var startIndex = this.pointIndex({ row: startRow, column: 0 });\n        if (startIndex < 0)\n            startIndex = -startIndex - 1;\n        var endIndex = this.pointIndex({ row: endRow, column: 0 }, startIndex);\n        if (endIndex < 0)\n            endIndex = -endIndex - 1;\n        var clipped = [];\n        for (var i = startIndex; i < endIndex; i++) {\n            clipped.push(list[i]);\n        }\n        return clipped;\n    };\n    this.removeAll = function () {\n        return this.ranges.splice(0, this.ranges.length);\n    };\n    this.attach = function (session) {\n        if (this.session)\n            this.detach();\n        this.session = session;\n        this.onChange = this.$onChange.bind(this);\n        this.session.on('change', this.onChange);\n    };\n    this.detach = function () {\n        if (!this.session)\n            return;\n        this.session.removeListener('change', this.onChange);\n        this.session = null;\n    };\n    this.$onChange = function (delta) {\n        var start = delta.start;\n        var end = delta.end;\n        var startRow = start.row;\n        var endRow = end.row;\n        var ranges = this.ranges;\n        for (var i = 0, n = ranges.length; i < n; i++) {\n            var r = ranges[i];\n            if (r.end.row >= startRow)\n                break;\n        }\n        if (delta.action == \"insert\") {\n            var lineDif = endRow - startRow;\n            var colDiff = -start.column + end.column;\n            for (; i < n; i++) {\n                var r = ranges[i];\n                if (r.start.row > startRow)\n                    break;\n                if (r.start.row == startRow && r.start.column >= start.column) {\n                    if (r.start.column == start.column && this.$bias <= 0) {\n                    }\n                    else {\n                        r.start.column += colDiff;\n                        r.start.row += lineDif;\n                    }\n                }\n                if (r.end.row == startRow && r.end.column >= start.column) {\n                    if (r.end.column == start.column && this.$bias < 0) {\n                        continue;\n                    }\n                    if (r.end.column == start.column && colDiff > 0 && i < n - 1) {\n                        if (r.end.column > r.start.column && r.end.column == ranges[i + 1].start.column)\n                            r.end.column -= colDiff;\n                    }\n                    r.end.column += colDiff;\n                    r.end.row += lineDif;\n                }\n            }\n        }\n        else {\n            var lineDif = startRow - endRow;\n            var colDiff = start.column - end.column;\n            for (; i < n; i++) {\n                var r = ranges[i];\n                if (r.start.row > endRow)\n                    break;\n                if (r.end.row < endRow\n                    && (startRow < r.end.row\n                        || startRow == r.end.row && start.column < r.end.column)) {\n                    r.end.row = startRow;\n                    r.end.column = start.column;\n                }\n                else if (r.end.row == endRow) {\n                    if (r.end.column <= end.column) {\n                        if (lineDif || r.end.column > start.column) {\n                            r.end.column = start.column;\n                            r.end.row = start.row;\n                        }\n                    }\n                    else {\n                        r.end.column += colDiff;\n                        r.end.row += lineDif;\n                    }\n                }\n                else if (r.end.row > endRow) {\n                    r.end.row += lineDif;\n                }\n                if (r.start.row < endRow\n                    && (startRow < r.start.row\n                        || startRow == r.start.row && start.column < r.start.column)) {\n                    r.start.row = startRow;\n                    r.start.column = start.column;\n                }\n                else if (r.start.row == endRow) {\n                    if (r.start.column <= end.column) {\n                        if (lineDif || r.start.column > start.column) {\n                            r.start.column = start.column;\n                            r.start.row = start.row;\n                        }\n                    }\n                    else {\n                        r.start.column += colDiff;\n                        r.start.row += lineDif;\n                    }\n                }\n                else if (r.start.row > endRow) {\n                    r.start.row += lineDif;\n                }\n            }\n        }\n        if (lineDif != 0 && i < n) {\n            for (; i < n; i++) {\n                var r = ranges[i];\n                r.start.row += lineDif;\n                r.end.row += lineDif;\n            }\n        }\n    };\n}).call(RangeList.prototype);\nexports.RangeList = RangeList;\n\n});\n\nace.define(\"ace/edit_session/fold\",[\"require\",\"exports\",\"module\",\"ace/range_list\",\"ace/lib/oop\"], function(require, exports, module){\"use strict\";\nvar RangeList = require(\"../range_list\").RangeList;\nvar oop = require(\"../lib/oop\");\nvar Fold = exports.Fold = function (range, placeholder) {\n    this.foldLine = null;\n    this.placeholder = placeholder;\n    this.range = range;\n    this.start = range.start;\n    this.end = range.end;\n    this.sameRow = range.start.row == range.end.row;\n    this.subFolds = this.ranges = [];\n};\noop.inherits(Fold, RangeList);\n(function () {\n    this.toString = function () {\n        return '\"' + this.placeholder + '\" ' + this.range.toString();\n    };\n    this.setFoldLine = function (foldLine) {\n        this.foldLine = foldLine;\n        this.subFolds.forEach(function (fold) {\n            fold.setFoldLine(foldLine);\n        });\n    };\n    this.clone = function () {\n        var range = this.range.clone();\n        var fold = new Fold(range, this.placeholder);\n        this.subFolds.forEach(function (subFold) {\n            fold.subFolds.push(subFold.clone());\n        });\n        fold.collapseChildren = this.collapseChildren;\n        return fold;\n    };\n    this.addSubFold = function (fold) {\n        if (this.range.isEqual(fold))\n            return;\n        consumeRange(fold, this.start);\n        var row = fold.start.row, column = fold.start.column;\n        for (var i = 0, cmp = -1; i < this.subFolds.length; i++) {\n            cmp = this.subFolds[i].range.compare(row, column);\n            if (cmp != 1)\n                break;\n        }\n        var afterStart = this.subFolds[i];\n        var firstConsumed = 0;\n        if (cmp == 0) {\n            if (afterStart.range.containsRange(fold))\n                return afterStart.addSubFold(fold);\n            else\n                firstConsumed = 1;\n        }\n        var row = fold.range.end.row, column = fold.range.end.column;\n        for (var j = i, cmp = -1; j < this.subFolds.length; j++) {\n            cmp = this.subFolds[j].range.compare(row, column);\n            if (cmp != 1)\n                break;\n        }\n        if (cmp == 0)\n            j++;\n        var consumedFolds = this.subFolds.splice(i, j - i, fold);\n        var last = cmp == 0 ? consumedFolds.length - 1 : consumedFolds.length;\n        for (var k = firstConsumed; k < last; k++) {\n            fold.addSubFold(consumedFolds[k]);\n        }\n        fold.setFoldLine(this.foldLine);\n        return fold;\n    };\n    this.restoreRange = function (range) {\n        return restoreRange(range, this.start);\n    };\n}).call(Fold.prototype);\nfunction consumePoint(point, anchor) {\n    point.row -= anchor.row;\n    if (point.row == 0)\n        point.column -= anchor.column;\n}\nfunction consumeRange(range, anchor) {\n    consumePoint(range.start, anchor);\n    consumePoint(range.end, anchor);\n}\nfunction restorePoint(point, anchor) {\n    if (point.row == 0)\n        point.column += anchor.column;\n    point.row += anchor.row;\n}\nfunction restoreRange(range, anchor) {\n    restorePoint(range.start, anchor);\n    restorePoint(range.end, anchor);\n}\n\n});\n\nace.define(\"ace/edit_session/folding\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/edit_session/fold_line\",\"ace/edit_session/fold\",\"ace/token_iterator\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"../range\").Range;\nvar FoldLine = require(\"./fold_line\").FoldLine;\nvar Fold = require(\"./fold\").Fold;\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nfunction Folding() {\n    this.getFoldAt = function (row, column, side) {\n        var foldLine = this.getFoldLine(row);\n        if (!foldLine)\n            return null;\n        var folds = foldLine.folds;\n        for (var i = 0; i < folds.length; i++) {\n            var range = folds[i].range;\n            if (range.contains(row, column)) {\n                if (side == 1 && range.isEnd(row, column) && !range.isEmpty()) {\n                    continue;\n                }\n                else if (side == -1 && range.isStart(row, column) && !range.isEmpty()) {\n                    continue;\n                }\n                return folds[i];\n            }\n        }\n    };\n    this.getFoldsInRange = function (range) {\n        var start = range.start;\n        var end = range.end;\n        var foldLines = this.$foldData;\n        var foundFolds = [];\n        start.column += 1;\n        end.column -= 1;\n        for (var i = 0; i < foldLines.length; i++) {\n            var cmp = foldLines[i].range.compareRange(range);\n            if (cmp == 2) {\n                continue;\n            }\n            else if (cmp == -2) {\n                break;\n            }\n            var folds = foldLines[i].folds;\n            for (var j = 0; j < folds.length; j++) {\n                var fold = folds[j];\n                cmp = fold.range.compareRange(range);\n                if (cmp == -2) {\n                    break;\n                }\n                else if (cmp == 2) {\n                    continue;\n                }\n                else \n                if (cmp == 42) {\n                    break;\n                }\n                foundFolds.push(fold);\n            }\n        }\n        start.column -= 1;\n        end.column += 1;\n        return foundFolds;\n    };\n    this.getFoldsInRangeList = function (ranges) {\n        if (Array.isArray(ranges)) {\n            var folds = [];\n            ranges.forEach(function (range) {\n                folds = folds.concat(this.getFoldsInRange(range));\n            }, this);\n        }\n        else {\n            var folds = this.getFoldsInRange(ranges);\n        }\n        return folds;\n    };\n    this.getAllFolds = function () {\n        var folds = [];\n        var foldLines = this.$foldData;\n        for (var i = 0; i < foldLines.length; i++)\n            for (var j = 0; j < foldLines[i].folds.length; j++)\n                folds.push(foldLines[i].folds[j]);\n        return folds;\n    };\n    this.getFoldStringAt = function (row, column, trim, foldLine) {\n        foldLine = foldLine || this.getFoldLine(row);\n        if (!foldLine)\n            return null;\n        var lastFold = {\n            end: { column: 0 }\n        };\n        var str, fold;\n        for (var i = 0; i < foldLine.folds.length; i++) {\n            fold = foldLine.folds[i];\n            var cmp = fold.range.compareEnd(row, column);\n            if (cmp == -1) {\n                str = this\n                    .getLine(fold.start.row)\n                    .substring(lastFold.end.column, fold.start.column);\n                break;\n            }\n            else if (cmp === 0) {\n                return null;\n            }\n            lastFold = fold;\n        }\n        if (!str)\n            str = this.getLine(fold.start.row).substring(lastFold.end.column);\n        if (trim == -1)\n            return str.substring(0, column - lastFold.end.column);\n        else if (trim == 1)\n            return str.substring(column - lastFold.end.column);\n        else\n            return str;\n    };\n    this.getFoldLine = function (docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine)\n            i = foldData.indexOf(startFoldLine);\n        if (i == -1)\n            i = 0;\n        for (i; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (foldLine.start.row <= docRow && foldLine.end.row >= docRow) {\n                return foldLine;\n            }\n            else if (foldLine.end.row > docRow) {\n                return null;\n            }\n        }\n        return null;\n    };\n    this.getNextFoldLine = function (docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine)\n            i = foldData.indexOf(startFoldLine);\n        if (i == -1)\n            i = 0;\n        for (i; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (foldLine.end.row >= docRow) {\n                return foldLine;\n            }\n        }\n        return null;\n    };\n    this.getFoldedRowCount = function (first, last) {\n        var foldData = this.$foldData, rowCount = last - first + 1;\n        for (var i = 0; i < foldData.length; i++) {\n            var foldLine = foldData[i], end = foldLine.end.row, start = foldLine.start.row;\n            if (end >= last) {\n                if (start < last) {\n                    if (start >= first)\n                        rowCount -= last - start;\n                    else\n                        rowCount = 0; // in one fold\n                }\n                break;\n            }\n            else if (end >= first) {\n                if (start >= first) // fold inside range\n                    rowCount -= end - start;\n                else\n                    rowCount -= end - first + 1;\n            }\n        }\n        return rowCount;\n    };\n    this.$addFoldLine = function (foldLine) {\n        this.$foldData.push(foldLine);\n        this.$foldData.sort(function (a, b) {\n            return a.start.row - b.start.row;\n        });\n        return foldLine;\n    };\n    this.addFold = function (placeholder, range) {\n        var foldData = this.$foldData;\n        var added = false;\n        var fold;\n        if (placeholder instanceof Fold)\n            fold = placeholder;\n        else {\n            fold = new Fold(range, placeholder);\n            fold.collapseChildren = range.collapseChildren;\n        }\n        this.$clipRangeToDocument(fold.range);\n        var startRow = fold.start.row;\n        var startColumn = fold.start.column;\n        var endRow = fold.end.row;\n        var endColumn = fold.end.column;\n        var startFold = this.getFoldAt(startRow, startColumn, 1);\n        var endFold = this.getFoldAt(endRow, endColumn, -1);\n        if (startFold && endFold == startFold)\n            return startFold.addSubFold(fold);\n        if (startFold && !startFold.range.isStart(startRow, startColumn))\n            this.removeFold(startFold);\n        if (endFold && !endFold.range.isEnd(endRow, endColumn))\n            this.removeFold(endFold);\n        var folds = this.getFoldsInRange(fold.range);\n        if (folds.length > 0) {\n            this.removeFolds(folds);\n            if (!fold.collapseChildren) {\n                folds.forEach(function (subFold) {\n                    fold.addSubFold(subFold);\n                });\n            }\n        }\n        for (var i = 0; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (endRow == foldLine.start.row) {\n                foldLine.addFold(fold);\n                added = true;\n                break;\n            }\n            else if (startRow == foldLine.end.row) {\n                foldLine.addFold(fold);\n                added = true;\n                if (!fold.sameRow) {\n                    var foldLineNext = foldData[i + 1];\n                    if (foldLineNext && foldLineNext.start.row == endRow) {\n                        foldLine.merge(foldLineNext);\n                        break;\n                    }\n                }\n                break;\n            }\n            else if (endRow <= foldLine.start.row) {\n                break;\n            }\n        }\n        if (!added)\n            foldLine = this.$addFoldLine(new FoldLine(this.$foldData, fold));\n        if (this.$useWrapMode)\n            this.$updateWrapData(foldLine.start.row, foldLine.start.row);\n        else\n            this.$updateRowLengthCache(foldLine.start.row, foldLine.start.row);\n        this.$modified = true;\n        this._signal(\"changeFold\", { data: fold, action: \"add\" });\n        return fold;\n    };\n    this.addFolds = function (folds) {\n        folds.forEach(function (fold) {\n            this.addFold(fold);\n        }, this);\n    };\n    this.removeFold = function (fold) {\n        var foldLine = fold.foldLine;\n        var startRow = foldLine.start.row;\n        var endRow = foldLine.end.row;\n        var foldLines = this.$foldData;\n        var folds = foldLine.folds;\n        if (folds.length == 1) {\n            foldLines.splice(foldLines.indexOf(foldLine), 1);\n        }\n        else \n        if (foldLine.range.isEnd(fold.end.row, fold.end.column)) {\n            folds.pop();\n            foldLine.end.row = folds[folds.length - 1].end.row;\n            foldLine.end.column = folds[folds.length - 1].end.column;\n        }\n        else \n        if (foldLine.range.isStart(fold.start.row, fold.start.column)) {\n            folds.shift();\n            foldLine.start.row = folds[0].start.row;\n            foldLine.start.column = folds[0].start.column;\n        }\n        else \n        if (fold.sameRow) {\n            folds.splice(folds.indexOf(fold), 1);\n        }\n        else \n        {\n            var newFoldLine = foldLine.split(fold.start.row, fold.start.column);\n            folds = newFoldLine.folds;\n            folds.shift();\n            newFoldLine.start.row = folds[0].start.row;\n            newFoldLine.start.column = folds[0].start.column;\n        }\n        if (!this.$updating) {\n            if (this.$useWrapMode)\n                this.$updateWrapData(startRow, endRow);\n            else\n                this.$updateRowLengthCache(startRow, endRow);\n        }\n        this.$modified = true;\n        this._signal(\"changeFold\", { data: fold, action: \"remove\" });\n    };\n    this.removeFolds = function (folds) {\n        var cloneFolds = [];\n        for (var i = 0; i < folds.length; i++) {\n            cloneFolds.push(folds[i]);\n        }\n        cloneFolds.forEach(function (fold) {\n            this.removeFold(fold);\n        }, this);\n        this.$modified = true;\n    };\n    this.expandFold = function (fold) {\n        this.removeFold(fold);\n        fold.subFolds.forEach(function (subFold) {\n            fold.restoreRange(subFold);\n            this.addFold(subFold);\n        }, this);\n        if (fold.collapseChildren > 0) {\n            this.foldAll(fold.start.row + 1, fold.end.row, fold.collapseChildren - 1);\n        }\n        fold.subFolds = [];\n    };\n    this.expandFolds = function (folds) {\n        folds.forEach(function (fold) {\n            this.expandFold(fold);\n        }, this);\n    };\n    this.unfold = function (location, expandInner) {\n        var range, folds;\n        if (location == null) {\n            range = new Range(0, 0, this.getLength(), 0);\n            if (expandInner == null)\n                expandInner = true;\n        }\n        else if (typeof location == \"number\") {\n            range = new Range(location, 0, location, this.getLine(location).length);\n        }\n        else if (\"row\" in location) {\n            range = Range.fromPoints(location, location);\n        }\n        else if (Array.isArray(location)) {\n            folds = [];\n            location.forEach(function (range) {\n                folds = folds.concat(this.unfold(range));\n            }, this);\n            return folds;\n        }\n        else {\n            range = location;\n        }\n        folds = this.getFoldsInRangeList(range);\n        var outermostFolds = folds;\n        while (folds.length == 1\n            && Range.comparePoints(folds[0].start, range.start) < 0\n            && Range.comparePoints(folds[0].end, range.end) > 0) {\n            this.expandFolds(folds);\n            folds = this.getFoldsInRangeList(range);\n        }\n        if (expandInner != false) {\n            this.removeFolds(folds);\n        }\n        else {\n            this.expandFolds(folds);\n        }\n        if (outermostFolds.length)\n            return outermostFolds;\n    };\n    this.isRowFolded = function (docRow, startFoldRow) {\n        return !!this.getFoldLine(docRow, startFoldRow);\n    };\n    this.getRowFoldEnd = function (docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.end.row : docRow;\n    };\n    this.getRowFoldStart = function (docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.start.row : docRow;\n    };\n    this.getFoldDisplayLine = function (foldLine, endRow, endColumn, startRow, startColumn) {\n        if (startRow == null)\n            startRow = foldLine.start.row;\n        if (startColumn == null)\n            startColumn = 0;\n        if (endRow == null)\n            endRow = foldLine.end.row;\n        if (endColumn == null)\n            endColumn = this.getLine(endRow).length;\n        var doc = this.doc;\n        var textLine = \"\";\n        foldLine.walk(function (placeholder, row, column, lastColumn) {\n            if (row < startRow)\n                return;\n            if (row == startRow) {\n                if (column < startColumn)\n                    return;\n                lastColumn = Math.max(startColumn, lastColumn);\n            }\n            if (placeholder != null) {\n                textLine += placeholder;\n            }\n            else {\n                textLine += doc.getLine(row).substring(lastColumn, column);\n            }\n        }, endRow, endColumn);\n        return textLine;\n    };\n    this.getDisplayLine = function (row, endColumn, startRow, startColumn) {\n        var foldLine = this.getFoldLine(row);\n        if (!foldLine) {\n            var line;\n            line = this.doc.getLine(row);\n            return line.substring(startColumn || 0, endColumn || line.length);\n        }\n        else {\n            return this.getFoldDisplayLine(foldLine, row, endColumn, startRow, startColumn);\n        }\n    };\n    this.$cloneFoldData = function () {\n        var fd = [];\n        fd = this.$foldData.map(function (foldLine) {\n            var folds = foldLine.folds.map(function (fold) {\n                return fold.clone();\n            });\n            return new FoldLine(fd, folds);\n        });\n        return fd;\n    };\n    this.toggleFold = function (tryToUnfold) {\n        var selection = this.selection;\n        var range = selection.getRange();\n        var fold;\n        var bracketPos;\n        if (range.isEmpty()) {\n            var cursor = range.start;\n            fold = this.getFoldAt(cursor.row, cursor.column);\n            if (fold) {\n                this.expandFold(fold);\n                return;\n            }\n            else if (bracketPos = this.findMatchingBracket(cursor)) {\n                if (range.comparePoint(bracketPos) == 1) {\n                    range.end = bracketPos;\n                }\n                else {\n                    range.start = bracketPos;\n                    range.start.column++;\n                    range.end.column--;\n                }\n            }\n            else if (bracketPos = this.findMatchingBracket({ row: cursor.row, column: cursor.column + 1 })) {\n                if (range.comparePoint(bracketPos) == 1)\n                    range.end = bracketPos;\n                else\n                    range.start = bracketPos;\n                range.start.column++;\n            }\n            else {\n                range = this.getCommentFoldRange(cursor.row, cursor.column) || range;\n            }\n        }\n        else {\n            var folds = this.getFoldsInRange(range);\n            if (tryToUnfold && folds.length) {\n                this.expandFolds(folds);\n                return;\n            }\n            else if (folds.length == 1) {\n                fold = folds[0];\n            }\n        }\n        if (!fold)\n            fold = this.getFoldAt(range.start.row, range.start.column);\n        if (fold && fold.range.toString() == range.toString()) {\n            this.expandFold(fold);\n            return;\n        }\n        var placeholder = \"...\";\n        if (!range.isMultiLine()) {\n            placeholder = this.getTextRange(range);\n            if (placeholder.length < 4)\n                return;\n            placeholder = placeholder.trim().substring(0, 2) + \"..\";\n        }\n        this.addFold(placeholder, range);\n    };\n    this.getCommentFoldRange = function (row, column, dir) {\n        var iterator = new TokenIterator(this, row, column);\n        var token = iterator.getCurrentToken();\n        var type = token && token.type;\n        if (token && /^comment|string/.test(type)) {\n            type = type.match(/comment|string/)[0];\n            if (type == \"comment\")\n                type += \"|doc-start\";\n            var re = new RegExp(type);\n            var range = new Range();\n            if (dir != 1) {\n                do {\n                    token = iterator.stepBackward();\n                } while (token && re.test(token.type) && !/^comment.end/.test(token.type));\n                token = iterator.stepForward();\n            }\n            range.start.row = iterator.getCurrentTokenRow();\n            range.start.column = iterator.getCurrentTokenColumn() + (/^comment.start/.test(token.type) ? token.value.length : 2);\n            iterator = new TokenIterator(this, row, column);\n            if (dir != -1) {\n                var lastRow = -1;\n                do {\n                    token = iterator.stepForward();\n                    if (lastRow == -1) {\n                        var state = this.getState(iterator.$row);\n                        if (!re.test(state))\n                            lastRow = iterator.$row;\n                    }\n                    else if (iterator.$row > lastRow) {\n                        break;\n                    }\n                } while (token && re.test(token.type) && !/^comment.start/.test(token.type));\n                token = iterator.stepBackward();\n            }\n            else\n                token = iterator.getCurrentToken();\n            range.end.row = iterator.getCurrentTokenRow();\n            range.end.column = iterator.getCurrentTokenColumn();\n            if (!/^comment.end/.test(token.type)) {\n                range.end.column += token.value.length - 2;\n            }\n            return range;\n        }\n    };\n    this.foldAll = function (startRow, endRow, depth, test) {\n        if (depth == undefined)\n            depth = 100000; // JSON.stringify doesn't hanle Infinity\n        var foldWidgets = this.foldWidgets;\n        if (!foldWidgets)\n            return; // mode doesn't support folding\n        endRow = endRow || this.getLength();\n        startRow = startRow || 0;\n        for (var row = startRow; row < endRow; row++) {\n            if (foldWidgets[row] == null)\n                foldWidgets[row] = this.getFoldWidget(row);\n            if (foldWidgets[row] != \"start\")\n                continue;\n            if (test && !test(row))\n                continue;\n            var range = this.getFoldWidgetRange(row);\n            if (range && range.isMultiLine()\n                && range.end.row <= endRow\n                && range.start.row >= startRow) {\n                row = range.end.row;\n                range.collapseChildren = depth;\n                this.addFold(\"...\", range);\n            }\n        }\n    };\n    this.foldToLevel = function (level) {\n        this.foldAll();\n        while (level-- > 0)\n            this.unfold(null, false);\n    };\n    this.foldAllComments = function () {\n        var session = this;\n        this.foldAll(null, null, null, function (row) {\n            var tokens = session.getTokens(row);\n            for (var i = 0; i < tokens.length; i++) {\n                var token = tokens[i];\n                if (token.type == \"text\" && /^\\s+$/.test(token.value))\n                    continue;\n                if (/comment/.test(token.type))\n                    return true;\n                return false;\n            }\n        });\n    };\n    this.$foldStyles = {\n        \"manual\": 1,\n        \"markbegin\": 1,\n        \"markbeginend\": 1\n    };\n    this.$foldStyle = \"markbegin\";\n    this.setFoldStyle = function (style) {\n        if (!this.$foldStyles[style])\n            throw new Error(\"invalid fold style: \" + style + \"[\" + Object.keys(this.$foldStyles).join(\", \") + \"]\");\n        if (this.$foldStyle == style)\n            return;\n        this.$foldStyle = style;\n        if (style == \"manual\")\n            this.unfold();\n        var mode = this.$foldMode;\n        this.$setFolding(null);\n        this.$setFolding(mode);\n    };\n    this.$setFolding = function (foldMode) {\n        if (this.$foldMode == foldMode)\n            return;\n        this.$foldMode = foldMode;\n        this.off('change', this.$updateFoldWidgets);\n        this.off('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n        this._signal(\"changeAnnotation\");\n        if (!foldMode || this.$foldStyle == \"manual\") {\n            this.foldWidgets = null;\n            return;\n        }\n        this.foldWidgets = [];\n        this.getFoldWidget = foldMode.getFoldWidget.bind(foldMode, this, this.$foldStyle);\n        this.getFoldWidgetRange = foldMode.getFoldWidgetRange.bind(foldMode, this, this.$foldStyle);\n        this.$updateFoldWidgets = this.updateFoldWidgets.bind(this);\n        this.$tokenizerUpdateFoldWidgets = this.tokenizerUpdateFoldWidgets.bind(this);\n        this.on('change', this.$updateFoldWidgets);\n        this.on('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n    };\n    this.getParentFoldRangeData = function (row, ignoreCurrent) {\n        var fw = this.foldWidgets;\n        if (!fw || (ignoreCurrent && fw[row]))\n            return {};\n        var i = row - 1, firstRange;\n        while (i >= 0) {\n            var c = fw[i];\n            if (c == null)\n                c = fw[i] = this.getFoldWidget(i);\n            if (c == \"start\") {\n                var range = this.getFoldWidgetRange(i);\n                if (!firstRange)\n                    firstRange = range;\n                if (range && range.end.row >= row)\n                    break;\n            }\n            i--;\n        }\n        return {\n            range: i !== -1 && range,\n            firstRange: firstRange\n        };\n    };\n    this.onFoldWidgetClick = function (row, e) {\n        e = e.domEvent;\n        var options = {\n            children: e.shiftKey,\n            all: e.ctrlKey || e.metaKey,\n            siblings: e.altKey\n        };\n        var range = this.$toggleFoldWidget(row, options);\n        if (!range) {\n            var el = (e.target || e.srcElement);\n            if (el && /ace_fold-widget/.test(el.className))\n                el.className += \" ace_invalid\";\n        }\n    };\n    this.$toggleFoldWidget = function (row, options) {\n        if (!this.getFoldWidget)\n            return;\n        var type = this.getFoldWidget(row);\n        var line = this.getLine(row);\n        var dir = type === \"end\" ? -1 : 1;\n        var fold = this.getFoldAt(row, dir === -1 ? 0 : line.length, dir);\n        if (fold) {\n            if (options.children || options.all)\n                this.removeFold(fold);\n            else\n                this.expandFold(fold);\n            return fold;\n        }\n        var range = this.getFoldWidgetRange(row, true);\n        if (range && !range.isMultiLine()) {\n            fold = this.getFoldAt(range.start.row, range.start.column, 1);\n            if (fold && range.isEqual(fold.range)) {\n                this.removeFold(fold);\n                return fold;\n            }\n        }\n        if (options.siblings) {\n            var data = this.getParentFoldRangeData(row);\n            if (data.range) {\n                var startRow = data.range.start.row + 1;\n                var endRow = data.range.end.row;\n            }\n            this.foldAll(startRow, endRow, options.all ? 10000 : 0);\n        }\n        else if (options.children) {\n            endRow = range ? range.end.row : this.getLength();\n            this.foldAll(row + 1, endRow, options.all ? 10000 : 0);\n        }\n        else if (range) {\n            if (options.all)\n                range.collapseChildren = 10000;\n            this.addFold(\"...\", range);\n        }\n        return range;\n    };\n    this.toggleFoldWidget = function (toggleParent) {\n        var row = this.selection.getCursor().row;\n        row = this.getRowFoldStart(row);\n        var range = this.$toggleFoldWidget(row, {});\n        if (range)\n            return;\n        var data = this.getParentFoldRangeData(row, true);\n        range = data.range || data.firstRange;\n        if (range) {\n            row = range.start.row;\n            var fold = this.getFoldAt(row, this.getLine(row).length, 1);\n            if (fold) {\n                this.removeFold(fold);\n            }\n            else {\n                this.addFold(\"...\", range);\n            }\n        }\n    };\n    this.updateFoldWidgets = function (delta) {\n        var firstRow = delta.start.row;\n        var len = delta.end.row - firstRow;\n        if (len === 0) {\n            this.foldWidgets[firstRow] = null;\n        }\n        else if (delta.action == 'remove') {\n            this.foldWidgets.splice(firstRow, len + 1, null);\n        }\n        else {\n            var args = Array(len + 1);\n            args.unshift(firstRow, 1);\n            this.foldWidgets.splice.apply(this.foldWidgets, args);\n        }\n    };\n    this.tokenizerUpdateFoldWidgets = function (e) {\n        var rows = e.data;\n        if (rows.first != rows.last) {\n            if (this.foldWidgets.length > rows.first)\n                this.foldWidgets.splice(rows.first, this.foldWidgets.length);\n        }\n    };\n}\nexports.Folding = Folding;\n\n});\n\nace.define(\"ace/edit_session/bracket_match\",[\"require\",\"exports\",\"module\",\"ace/token_iterator\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nvar Range = require(\"../range\").Range;\nfunction BracketMatch() {\n    this.findMatchingBracket = function (position, chr) {\n        if (position.column == 0)\n            return null;\n        var charBeforeCursor = chr || this.getLine(position.row).charAt(position.column - 1);\n        if (charBeforeCursor == \"\")\n            return null;\n        var match = charBeforeCursor.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match)\n            return null;\n        if (match[1])\n            return this.$findClosingBracket(match[1], position);\n        else\n            return this.$findOpeningBracket(match[2], position);\n    };\n    this.getBracketRange = function (pos) {\n        var line = this.getLine(pos.row);\n        var before = true, range;\n        var chr = line.charAt(pos.column - 1);\n        var match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match) {\n            chr = line.charAt(pos.column);\n            pos = { row: pos.row, column: pos.column + 1 };\n            match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n            before = false;\n        }\n        if (!match)\n            return null;\n        if (match[1]) {\n            var bracketPos = this.$findClosingBracket(match[1], pos);\n            if (!bracketPos)\n                return null;\n            range = Range.fromPoints(pos, bracketPos);\n            if (!before) {\n                range.end.column++;\n                range.start.column--;\n            }\n            range.cursor = range.end;\n        }\n        else {\n            var bracketPos = this.$findOpeningBracket(match[2], pos);\n            if (!bracketPos)\n                return null;\n            range = Range.fromPoints(bracketPos, pos);\n            if (!before) {\n                range.start.column++;\n                range.end.column--;\n            }\n            range.cursor = range.start;\n        }\n        return range;\n    };\n    this.getMatchingBracketRanges = function (pos, isBackwards) {\n        var line = this.getLine(pos.row);\n        var bracketsRegExp = /([\\(\\[\\{])|([\\)\\]\\}])/;\n        var chr = !isBackwards && line.charAt(pos.column - 1);\n        var match = chr && chr.match(bracketsRegExp);\n        if (!match) {\n            chr = (isBackwards === undefined || isBackwards) && line.charAt(pos.column);\n            pos = {\n                row: pos.row,\n                column: pos.column + 1\n            };\n            match = chr && chr.match(bracketsRegExp);\n        }\n        if (!match)\n            return null;\n        var startRange = new Range(pos.row, pos.column - 1, pos.row, pos.column);\n        var bracketPos = match[1] ? this.$findClosingBracket(match[1], pos)\n            : this.$findOpeningBracket(match[2], pos);\n        if (!bracketPos)\n            return [startRange];\n        var endRange = new Range(bracketPos.row, bracketPos.column, bracketPos.row, bracketPos.column + 1);\n        return [startRange, endRange];\n    };\n    this.$brackets = {\n        \")\": \"(\",\n        \"(\": \")\",\n        \"]\": \"[\",\n        \"[\": \"]\",\n        \"{\": \"}\",\n        \"}\": \"{\",\n        \"<\": \">\",\n        \">\": \"<\"\n    };\n    this.$findOpeningBracket = function (bracket, position, typeRe) {\n        var openBracket = this.$brackets[bracket];\n        var depth = 1;\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token)\n            token = iterator.stepForward();\n        if (!token)\n            return;\n        if (!typeRe) {\n            typeRe = new RegExp(\"(\\\\.?\" +\n                token.type.replace(\".\", \"\\\\.\").replace(\"rparen\", \".paren\")\n                    .replace(/\\b(?:end)\\b/, \"(?:start|begin|end)\")\n                + \")+\");\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn() - 2;\n        var value = token.value;\n        while (true) {\n            while (valueIndex >= 0) {\n                var chr = value.charAt(valueIndex);\n                if (chr == openBracket) {\n                    depth -= 1;\n                    if (depth == 0) {\n                        return { row: iterator.getCurrentTokenRow(),\n                            column: valueIndex + iterator.getCurrentTokenColumn() };\n                    }\n                }\n                else if (chr == bracket) {\n                    depth += 1;\n                }\n                valueIndex -= 1;\n            }\n            do {\n                token = iterator.stepBackward();\n            } while (token && !typeRe.test(token.type));\n            if (token == null)\n                break;\n            value = token.value;\n            valueIndex = value.length - 1;\n        }\n        return null;\n    };\n    this.$findClosingBracket = function (bracket, position, typeRe) {\n        var closingBracket = this.$brackets[bracket];\n        var depth = 1;\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token)\n            token = iterator.stepForward();\n        if (!token)\n            return;\n        if (!typeRe) {\n            typeRe = new RegExp(\"(\\\\.?\" +\n                token.type.replace(\".\", \"\\\\.\").replace(\"lparen\", \".paren\")\n                    .replace(/\\b(?:start|begin)\\b/, \"(?:start|begin|end)\")\n                + \")+\");\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn();\n        while (true) {\n            var value = token.value;\n            var valueLength = value.length;\n            while (valueIndex < valueLength) {\n                var chr = value.charAt(valueIndex);\n                if (chr == closingBracket) {\n                    depth -= 1;\n                    if (depth == 0) {\n                        return { row: iterator.getCurrentTokenRow(),\n                            column: valueIndex + iterator.getCurrentTokenColumn() };\n                    }\n                }\n                else if (chr == bracket) {\n                    depth += 1;\n                }\n                valueIndex += 1;\n            }\n            do {\n                token = iterator.stepForward();\n            } while (token && !typeRe.test(token.type));\n            if (token == null)\n                break;\n            valueIndex = 0;\n        }\n        return null;\n    };\n    this.getMatchingTags = function (pos) {\n        var iterator = new TokenIterator(this, pos.row, pos.column);\n        var token = this.$findTagName(iterator);\n        if (!token)\n            return;\n        var prevToken = iterator.stepBackward();\n        if (prevToken.value === '<') {\n            return this.$findClosingTag(iterator, token);\n        }\n        else {\n            return this.$findOpeningTag(iterator, token);\n        }\n    };\n    this.$findTagName = function (iterator) {\n        var token = iterator.getCurrentToken();\n        var found = false;\n        var backward = false;\n        if (token && token.type.indexOf('tag-name') === -1) {\n            do {\n                if (backward)\n                    token = iterator.stepBackward();\n                else\n                    token = iterator.stepForward();\n                if (token) {\n                    if (token.value === \"/>\") {\n                        backward = true;\n                    }\n                    else if (token.type.indexOf('tag-name') !== -1) {\n                        found = true;\n                    }\n                }\n            } while (token && !found);\n        }\n        return token;\n    };\n    this.$findClosingTag = function (iterator, token) {\n        var prevToken;\n        var currentTag = token.value;\n        var tag = token.value;\n        var depth = 0;\n        var openTagStart = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1);\n        token = iterator.stepForward();\n        var openTagName = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + token.value.length);\n        var foundOpenTagEnd = false;\n        do {\n            prevToken = token;\n            token = iterator.stepForward();\n            if (token) {\n                if (token.value === '>' && !foundOpenTagEnd) {\n                    var openTagEnd = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1); //Range for `>`\n                    foundOpenTagEnd = true;\n                }\n                if (token.type.indexOf('tag-name') !== -1) {\n                    currentTag = token.value;\n                    if (tag === currentTag) {\n                        if (prevToken.value === '<') {\n                            depth++;\n                        }\n                        else if (prevToken.value === '</') {\n                            depth--;\n                            if (depth < 0) { //found closing tag\n                                iterator.stepBackward();\n                                var closeTagStart = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 2); //Range for </\n                                token = iterator.stepForward();\n                                var closeTagName = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + token.value.length);\n                                token = iterator.stepForward();\n                                if (token && token.value === '>') {\n                                    var closeTagEnd = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1); //Range for >\n                                }\n                                else {\n                                    return;\n                                }\n                            }\n                        }\n                    }\n                }\n                else if (tag === currentTag && token.value === '/>') { // self-closing tag\n                    depth--;\n                    if (depth < 0) { //found self-closing tag end\n                        var closeTagStart = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 2);\n                        var closeTagName = closeTagStart;\n                        var closeTagEnd = closeTagName;\n                        var openTagEnd = new Range(openTagName.end.row, openTagName.end.column, openTagName.end.row, openTagName.end.column + 1);\n                    }\n                }\n            }\n        } while (token && depth >= 0);\n        if (openTagStart && openTagEnd && closeTagStart && closeTagEnd && openTagName && closeTagName) {\n            return {\n                openTag: new Range(openTagStart.start.row, openTagStart.start.column, openTagEnd.end.row, openTagEnd.end.column),\n                closeTag: new Range(closeTagStart.start.row, closeTagStart.start.column, closeTagEnd.end.row, closeTagEnd.end.column),\n                openTagName: openTagName,\n                closeTagName: closeTagName\n            };\n        }\n    };\n    this.$findOpeningTag = function (iterator, token) {\n        var prevToken = iterator.getCurrentToken();\n        var tag = token.value;\n        var depth = 0;\n        var startRow = iterator.getCurrentTokenRow();\n        var startColumn = iterator.getCurrentTokenColumn();\n        var endColumn = startColumn + 2;\n        var closeTagStart = new Range(startRow, startColumn, startRow, endColumn); //Range for </\n        iterator.stepForward();\n        var closeTagName = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + token.value.length);\n        token = iterator.stepForward();\n        if (!token || token.value !== \">\")\n            return;\n        var closeTagEnd = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1); //Range for >\n        iterator.stepBackward();\n        iterator.stepBackward();\n        do {\n            token = prevToken;\n            startRow = iterator.getCurrentTokenRow();\n            startColumn = iterator.getCurrentTokenColumn();\n            endColumn = startColumn + token.value.length;\n            prevToken = iterator.stepBackward();\n            if (token) {\n                if (token.type.indexOf('tag-name') !== -1) {\n                    if (tag === token.value) {\n                        if (prevToken.value === '<') {\n                            depth++;\n                            if (depth > 0) { //found opening tag\n                                var openTagName = new Range(startRow, startColumn, startRow, endColumn);\n                                var openTagStart = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1); //Range for <\n                                do {\n                                    token = iterator.stepForward();\n                                } while (token && token.value !== '>');\n                                var openTagEnd = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1); //Range for >\n                            }\n                        }\n                        else if (prevToken.value === '</') {\n                            depth--;\n                        }\n                    }\n                }\n                else if (token.value === '/>') { // self-closing tag\n                    var stepCount = 0;\n                    var tmpToken = prevToken;\n                    while (tmpToken) {\n                        if (tmpToken.type.indexOf('tag-name') !== -1 && tmpToken.value === tag) {\n                            depth--;\n                            break;\n                        }\n                        else if (tmpToken.value === '<') {\n                            break;\n                        }\n                        tmpToken = iterator.stepBackward();\n                        stepCount++;\n                    }\n                    for (var i = 0; i < stepCount; i++) {\n                        iterator.stepForward();\n                    }\n                }\n            }\n        } while (prevToken && depth <= 0);\n        if (openTagStart && openTagEnd && closeTagStart && closeTagEnd && openTagName && closeTagName) {\n            return {\n                openTag: new Range(openTagStart.start.row, openTagStart.start.column, openTagEnd.end.row, openTagEnd.end.column),\n                closeTag: new Range(closeTagStart.start.row, closeTagStart.start.column, closeTagEnd.end.row, closeTagEnd.end.column),\n                openTagName: openTagName,\n                closeTagName: closeTagName\n            };\n        }\n    };\n}\nexports.BracketMatch = BracketMatch;\n\n});\n\nace.define(\"ace/edit_session\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/bidihandler\",\"ace/config\",\"ace/lib/event_emitter\",\"ace/selection\",\"ace/mode/text\",\"ace/range\",\"ace/document\",\"ace/background_tokenizer\",\"ace/search_highlight\",\"ace/edit_session/folding\",\"ace/edit_session/bracket_match\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar BidiHandler = require(\"./bidihandler\").BidiHandler;\nvar config = require(\"./config\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Selection = require(\"./selection\").Selection;\nvar TextMode = require(\"./mode/text\").Mode;\nvar Range = require(\"./range\").Range;\nvar Document = require(\"./document\").Document;\nvar BackgroundTokenizer = require(\"./background_tokenizer\").BackgroundTokenizer;\nvar SearchHighlight = require(\"./search_highlight\").SearchHighlight;\nvar EditSession = function (text, mode) {\n    this.$breakpoints = [];\n    this.$decorations = [];\n    this.$frontMarkers = {};\n    this.$backMarkers = {};\n    this.$markerId = 1;\n    this.$undoSelect = true;\n    this.$foldData = [];\n    this.id = \"session\" + (++EditSession.$uid);\n    this.$foldData.toString = function () {\n        return this.join(\"\\n\");\n    };\n    this.bgTokenizer = new BackgroundTokenizer((new TextMode()).getTokenizer(), this);\n    var _self = this;\n    this.bgTokenizer.on(\"update\", function (e) {\n        _self._signal(\"tokenizerUpdate\", e);\n    });\n    this.on(\"changeFold\", this.onChangeFold.bind(this));\n    this.$onChange = this.onChange.bind(this);\n    if (typeof text != \"object\" || !text.getLine)\n        text = new Document(text);\n    this.setDocument(text);\n    this.selection = new Selection(this);\n    this.$bidiHandler = new BidiHandler(this);\n    config.resetOptions(this);\n    this.setMode(mode);\n    config._signal(\"session\", this);\n    this.destroyed = false;\n};\nEditSession.$uid = 0;\n(function () {\n    oop.implement(this, EventEmitter);\n    this.setDocument = function (doc) {\n        if (this.doc)\n            this.doc.off(\"change\", this.$onChange);\n        this.doc = doc;\n        doc.on(\"change\", this.$onChange, true);\n        this.bgTokenizer.setDocument(this.getDocument());\n        this.resetCaches();\n    };\n    this.getDocument = function () {\n        return this.doc;\n    };\n    this.$resetRowCache = function (docRow) {\n        if (!docRow) {\n            this.$docRowCache = [];\n            this.$screenRowCache = [];\n            return;\n        }\n        var l = this.$docRowCache.length;\n        var i = this.$getRowCacheIndex(this.$docRowCache, docRow) + 1;\n        if (l > i) {\n            this.$docRowCache.splice(i, l);\n            this.$screenRowCache.splice(i, l);\n        }\n    };\n    this.$getRowCacheIndex = function (cacheArray, val) {\n        var low = 0;\n        var hi = cacheArray.length - 1;\n        while (low <= hi) {\n            var mid = (low + hi) >> 1;\n            var c = cacheArray[mid];\n            if (val > c)\n                low = mid + 1;\n            else if (val < c)\n                hi = mid - 1;\n            else\n                return mid;\n        }\n        return low - 1;\n    };\n    this.resetCaches = function () {\n        this.$modified = true;\n        this.$wrapData = [];\n        this.$rowLengthCache = [];\n        this.$resetRowCache(0);\n        if (!this.destroyed)\n            this.bgTokenizer.start(0);\n    };\n    this.onChangeFold = function (e) {\n        var fold = e.data;\n        this.$resetRowCache(fold.start.row);\n    };\n    this.onChange = function (delta) {\n        this.$modified = true;\n        this.$bidiHandler.onChange(delta);\n        this.$resetRowCache(delta.start.row);\n        var removedFolds = this.$updateInternalDataOnChange(delta);\n        if (!this.$fromUndo && this.$undoManager) {\n            if (removedFolds && removedFolds.length) {\n                this.$undoManager.add({\n                    action: \"removeFolds\",\n                    folds: removedFolds\n                }, this.mergeUndoDeltas);\n                this.mergeUndoDeltas = true;\n            }\n            this.$undoManager.add(delta, this.mergeUndoDeltas);\n            this.mergeUndoDeltas = true;\n            this.$informUndoManager.schedule();\n        }\n        this.bgTokenizer.$updateOnChange(delta);\n        this._signal(\"change\", delta);\n    };\n    this.setValue = function (text) {\n        this.doc.setValue(text);\n        this.selection.moveTo(0, 0);\n        this.$resetRowCache(0);\n        this.setUndoManager(this.$undoManager);\n        this.getUndoManager().reset();\n    };\n    this.getValue =\n        this.toString = function () {\n            return this.doc.getValue();\n        };\n    this.getSelection = function () {\n        return this.selection;\n    };\n    this.getState = function (row) {\n        return this.bgTokenizer.getState(row);\n    };\n    this.getTokens = function (row) {\n        return this.bgTokenizer.getTokens(row);\n    };\n    this.getTokenAt = function (row, column) {\n        var tokens = this.bgTokenizer.getTokens(row);\n        var token, c = 0;\n        if (column == null) {\n            var i = tokens.length - 1;\n            c = this.getLine(row).length;\n        }\n        else {\n            for (var i = 0; i < tokens.length; i++) {\n                c += tokens[i].value.length;\n                if (c >= column)\n                    break;\n            }\n        }\n        token = tokens[i];\n        if (!token)\n            return null;\n        token.index = i;\n        token.start = c - token.value.length;\n        return token;\n    };\n    this.setUndoManager = function (undoManager) {\n        this.$undoManager = undoManager;\n        if (this.$informUndoManager)\n            this.$informUndoManager.cancel();\n        if (undoManager) {\n            var self = this;\n            undoManager.addSession(this);\n            this.$syncInformUndoManager = function () {\n                self.$informUndoManager.cancel();\n                self.mergeUndoDeltas = false;\n            };\n            this.$informUndoManager = lang.delayedCall(this.$syncInformUndoManager);\n        }\n        else {\n            this.$syncInformUndoManager = function () { };\n        }\n    };\n    this.markUndoGroup = function () {\n        if (this.$syncInformUndoManager)\n            this.$syncInformUndoManager();\n    };\n    this.$defaultUndoManager = {\n        undo: function () { },\n        redo: function () { },\n        hasUndo: function () { },\n        hasRedo: function () { },\n        reset: function () { },\n        add: function () { },\n        addSelection: function () { },\n        startNewGroup: function () { },\n        addSession: function () { }\n    };\n    this.getUndoManager = function () {\n        return this.$undoManager || this.$defaultUndoManager;\n    };\n    this.getTabString = function () {\n        if (this.getUseSoftTabs()) {\n            return lang.stringRepeat(\" \", this.getTabSize());\n        }\n        else {\n            return \"\\t\";\n        }\n    };\n    this.setUseSoftTabs = function (val) {\n        this.setOption(\"useSoftTabs\", val);\n    };\n    this.getUseSoftTabs = function () {\n        return this.$useSoftTabs && !this.$mode.$indentWithTabs;\n    };\n    this.setTabSize = function (tabSize) {\n        this.setOption(\"tabSize\", tabSize);\n    };\n    this.getTabSize = function () {\n        return this.$tabSize;\n    };\n    this.isTabStop = function (position) {\n        return this.$useSoftTabs && (position.column % this.$tabSize === 0);\n    };\n    this.setNavigateWithinSoftTabs = function (navigateWithinSoftTabs) {\n        this.setOption(\"navigateWithinSoftTabs\", navigateWithinSoftTabs);\n    };\n    this.getNavigateWithinSoftTabs = function () {\n        return this.$navigateWithinSoftTabs;\n    };\n    this.$overwrite = false;\n    this.setOverwrite = function (overwrite) {\n        this.setOption(\"overwrite\", overwrite);\n    };\n    this.getOverwrite = function () {\n        return this.$overwrite;\n    };\n    this.toggleOverwrite = function () {\n        this.setOverwrite(!this.$overwrite);\n    };\n    this.addGutterDecoration = function (row, className) {\n        if (!this.$decorations[row])\n            this.$decorations[row] = \"\";\n        this.$decorations[row] += \" \" + className;\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.removeGutterDecoration = function (row, className) {\n        this.$decorations[row] = (this.$decorations[row] || \"\").replace(\" \" + className, \"\");\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.getBreakpoints = function () {\n        return this.$breakpoints;\n    };\n    this.setBreakpoints = function (rows) {\n        this.$breakpoints = [];\n        for (var i = 0; i < rows.length; i++) {\n            this.$breakpoints[rows[i]] = \"ace_breakpoint\";\n        }\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.clearBreakpoints = function () {\n        this.$breakpoints = [];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.setBreakpoint = function (row, className) {\n        if (className === undefined)\n            className = \"ace_breakpoint\";\n        if (className)\n            this.$breakpoints[row] = className;\n        else\n            delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.clearBreakpoint = function (row) {\n        delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.addMarker = function (range, clazz, type, inFront) {\n        var id = this.$markerId++;\n        var marker = {\n            range: range,\n            type: type || \"line\",\n            renderer: typeof type == \"function\" ? type : null,\n            clazz: clazz,\n            inFront: !!inFront,\n            id: id\n        };\n        if (inFront) {\n            this.$frontMarkers[id] = marker;\n            this._signal(\"changeFrontMarker\");\n        }\n        else {\n            this.$backMarkers[id] = marker;\n            this._signal(\"changeBackMarker\");\n        }\n        return id;\n    };\n    this.addDynamicMarker = function (marker, inFront) {\n        if (!marker.update)\n            return;\n        var id = this.$markerId++;\n        marker.id = id;\n        marker.inFront = !!inFront;\n        if (inFront) {\n            this.$frontMarkers[id] = marker;\n            this._signal(\"changeFrontMarker\");\n        }\n        else {\n            this.$backMarkers[id] = marker;\n            this._signal(\"changeBackMarker\");\n        }\n        return marker;\n    };\n    this.removeMarker = function (markerId) {\n        var marker = this.$frontMarkers[markerId] || this.$backMarkers[markerId];\n        if (!marker)\n            return;\n        var markers = marker.inFront ? this.$frontMarkers : this.$backMarkers;\n        delete (markers[markerId]);\n        this._signal(marker.inFront ? \"changeFrontMarker\" : \"changeBackMarker\");\n    };\n    this.getMarkers = function (inFront) {\n        return inFront ? this.$frontMarkers : this.$backMarkers;\n    };\n    this.highlight = function (re) {\n        if (!this.$searchHighlight) {\n            var highlight = new SearchHighlight(null, \"ace_selected-word\", \"text\");\n            this.$searchHighlight = this.addDynamicMarker(highlight);\n        }\n        this.$searchHighlight.setRegexp(re);\n    };\n    this.highlightLines = function (startRow, endRow, clazz, inFront) {\n        if (typeof endRow != \"number\") {\n            clazz = endRow;\n            endRow = startRow;\n        }\n        if (!clazz)\n            clazz = \"ace_step\";\n        var range = new Range(startRow, 0, endRow, Infinity);\n        range.id = this.addMarker(range, clazz, \"fullLine\", inFront);\n        return range;\n    };\n    this.setAnnotations = function (annotations) {\n        this.$annotations = annotations;\n        this._signal(\"changeAnnotation\", {});\n    };\n    this.getAnnotations = function () {\n        return this.$annotations || [];\n    };\n    this.clearAnnotations = function () {\n        this.setAnnotations([]);\n    };\n    this.$detectNewLine = function (text) {\n        var match = text.match(/^.*?(\\r?\\n)/m);\n        if (match) {\n            this.$autoNewLine = match[1];\n        }\n        else {\n            this.$autoNewLine = \"\\n\";\n        }\n    };\n    this.getWordRange = function (row, column) {\n        var line = this.getLine(row);\n        var inToken = false;\n        if (column > 0)\n            inToken = !!line.charAt(column - 1).match(this.tokenRe);\n        if (!inToken)\n            inToken = !!line.charAt(column).match(this.tokenRe);\n        if (inToken)\n            var re = this.tokenRe;\n        else if (/^\\s+$/.test(line.slice(column - 1, column + 1)))\n            var re = /\\s/;\n        else\n            var re = this.nonTokenRe;\n        var start = column;\n        if (start > 0) {\n            do {\n                start--;\n            } while (start >= 0 && line.charAt(start).match(re));\n            start++;\n        }\n        var end = column;\n        while (end < line.length && line.charAt(end).match(re)) {\n            end++;\n        }\n        return new Range(row, start, row, end);\n    };\n    this.getAWordRange = function (row, column) {\n        var wordRange = this.getWordRange(row, column);\n        var line = this.getLine(wordRange.end.row);\n        while (line.charAt(wordRange.end.column).match(/[ \\t]/)) {\n            wordRange.end.column += 1;\n        }\n        return wordRange;\n    };\n    this.setNewLineMode = function (newLineMode) {\n        this.doc.setNewLineMode(newLineMode);\n    };\n    this.getNewLineMode = function () {\n        return this.doc.getNewLineMode();\n    };\n    this.setUseWorker = function (useWorker) { this.setOption(\"useWorker\", useWorker); };\n    this.getUseWorker = function () { return this.$useWorker; };\n    this.onReloadTokenizer = function (e) {\n        var rows = e.data;\n        this.bgTokenizer.start(rows.first);\n        this._signal(\"tokenizerUpdate\", e);\n    };\n    this.$modes = config.$modes;\n    this.$mode = null;\n    this.$modeId = null;\n    this.setMode = function (mode, cb) {\n        if (mode && typeof mode === \"object\") {\n            if (mode.getTokenizer)\n                return this.$onChangeMode(mode);\n            var options = mode;\n            var path = options.path;\n        }\n        else {\n            path = mode || \"ace/mode/text\";\n        }\n        if (!this.$modes[\"ace/mode/text\"])\n            this.$modes[\"ace/mode/text\"] = new TextMode();\n        if (this.$modes[path] && !options) {\n            this.$onChangeMode(this.$modes[path]);\n            cb && cb();\n            return;\n        }\n        this.$modeId = path;\n        config.loadModule([\"mode\", path], function (m) {\n            if (this.$modeId !== path)\n                return cb && cb();\n            if (this.$modes[path] && !options) {\n                this.$onChangeMode(this.$modes[path]);\n            }\n            else if (m && m.Mode) {\n                m = new m.Mode(options);\n                if (!options) {\n                    this.$modes[path] = m;\n                    m.$id = path;\n                }\n                this.$onChangeMode(m);\n            }\n            cb && cb();\n        }.bind(this));\n        if (!this.$mode)\n            this.$onChangeMode(this.$modes[\"ace/mode/text\"], true);\n    };\n    this.$onChangeMode = function (mode, $isPlaceholder) {\n        if (!$isPlaceholder)\n            this.$modeId = mode.$id;\n        if (this.$mode === mode)\n            return;\n        var oldMode = this.$mode;\n        this.$mode = mode;\n        this.$stopWorker();\n        if (this.$useWorker)\n            this.$startWorker();\n        var tokenizer = mode.getTokenizer();\n        if (tokenizer.on !== undefined) {\n            var onReloadTokenizer = this.onReloadTokenizer.bind(this);\n            tokenizer.on(\"update\", onReloadTokenizer);\n        }\n        this.bgTokenizer.setTokenizer(tokenizer);\n        this.bgTokenizer.setDocument(this.getDocument());\n        this.tokenRe = mode.tokenRe;\n        this.nonTokenRe = mode.nonTokenRe;\n        if (!$isPlaceholder) {\n            if (mode.attachToSession)\n                mode.attachToSession(this);\n            this.$options.wrapMethod.set.call(this, this.$wrapMethod);\n            this.$setFolding(mode.foldingRules);\n            this.bgTokenizer.start(0);\n            this._emit(\"changeMode\", { oldMode: oldMode, mode: mode });\n        }\n    };\n    this.$stopWorker = function () {\n        if (this.$worker) {\n            this.$worker.terminate();\n            this.$worker = null;\n        }\n    };\n    this.$startWorker = function () {\n        try {\n            this.$worker = this.$mode.createWorker(this);\n        }\n        catch (e) {\n            config.warn(\"Could not load worker\", e);\n            this.$worker = null;\n        }\n    };\n    this.getMode = function () {\n        return this.$mode;\n    };\n    this.$scrollTop = 0;\n    this.setScrollTop = function (scrollTop) {\n        if (this.$scrollTop === scrollTop || isNaN(scrollTop))\n            return;\n        this.$scrollTop = scrollTop;\n        this._signal(\"changeScrollTop\", scrollTop);\n    };\n    this.getScrollTop = function () {\n        return this.$scrollTop;\n    };\n    this.$scrollLeft = 0;\n    this.setScrollLeft = function (scrollLeft) {\n        if (this.$scrollLeft === scrollLeft || isNaN(scrollLeft))\n            return;\n        this.$scrollLeft = scrollLeft;\n        this._signal(\"changeScrollLeft\", scrollLeft);\n    };\n    this.getScrollLeft = function () {\n        return this.$scrollLeft;\n    };\n    this.getScreenWidth = function () {\n        this.$computeWidth();\n        if (this.lineWidgets)\n            return Math.max(this.getLineWidgetMaxWidth(), this.screenWidth);\n        return this.screenWidth;\n    };\n    this.getLineWidgetMaxWidth = function () {\n        if (this.lineWidgetsWidth != null)\n            return this.lineWidgetsWidth;\n        var width = 0;\n        this.lineWidgets.forEach(function (w) {\n            if (w && w.screenWidth > width)\n                width = w.screenWidth;\n        });\n        return this.lineWidgetWidth = width;\n    };\n    this.$computeWidth = function (force) {\n        if (this.$modified || force) {\n            this.$modified = false;\n            if (this.$useWrapMode)\n                return this.screenWidth = this.$wrapLimit;\n            var lines = this.doc.getAllLines();\n            var cache = this.$rowLengthCache;\n            var longestScreenLine = 0;\n            var foldIndex = 0;\n            var foldLine = this.$foldData[foldIndex];\n            var foldStart = foldLine ? foldLine.start.row : Infinity;\n            var len = lines.length;\n            for (var i = 0; i < len; i++) {\n                if (i > foldStart) {\n                    i = foldLine.end.row + 1;\n                    if (i >= len)\n                        break;\n                    foldLine = this.$foldData[foldIndex++];\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n                if (cache[i] == null)\n                    cache[i] = this.$getStringScreenWidth(lines[i])[0];\n                if (cache[i] > longestScreenLine)\n                    longestScreenLine = cache[i];\n            }\n            this.screenWidth = longestScreenLine;\n        }\n    };\n    this.getLine = function (row) {\n        return this.doc.getLine(row);\n    };\n    this.getLines = function (firstRow, lastRow) {\n        return this.doc.getLines(firstRow, lastRow);\n    };\n    this.getLength = function () {\n        return this.doc.getLength();\n    };\n    this.getTextRange = function (range) {\n        return this.doc.getTextRange(range || this.selection.getRange());\n    };\n    this.insert = function (position, text) {\n        return this.doc.insert(position, text);\n    };\n    this.remove = function (range) {\n        return this.doc.remove(range);\n    };\n    this.removeFullLines = function (firstRow, lastRow) {\n        return this.doc.removeFullLines(firstRow, lastRow);\n    };\n    this.undoChanges = function (deltas, dontSelect) {\n        if (!deltas.length)\n            return;\n        this.$fromUndo = true;\n        for (var i = deltas.length - 1; i != -1; i--) {\n            var delta = deltas[i];\n            if (delta.action == \"insert\" || delta.action == \"remove\") {\n                this.doc.revertDelta(delta);\n            }\n            else if (delta.folds) {\n                this.addFolds(delta.folds);\n            }\n        }\n        if (!dontSelect && this.$undoSelect) {\n            if (deltas.selectionBefore)\n                this.selection.fromJSON(deltas.selectionBefore);\n            else\n                this.selection.setRange(this.$getUndoSelection(deltas, true));\n        }\n        this.$fromUndo = false;\n    };\n    this.redoChanges = function (deltas, dontSelect) {\n        if (!deltas.length)\n            return;\n        this.$fromUndo = true;\n        for (var i = 0; i < deltas.length; i++) {\n            var delta = deltas[i];\n            if (delta.action == \"insert\" || delta.action == \"remove\") {\n                this.doc.$safeApplyDelta(delta);\n            }\n        }\n        if (!dontSelect && this.$undoSelect) {\n            if (deltas.selectionAfter)\n                this.selection.fromJSON(deltas.selectionAfter);\n            else\n                this.selection.setRange(this.$getUndoSelection(deltas, false));\n        }\n        this.$fromUndo = false;\n    };\n    this.setUndoSelect = function (enable) {\n        this.$undoSelect = enable;\n    };\n    this.$getUndoSelection = function (deltas, isUndo) {\n        function isInsert(delta) {\n            return isUndo ? delta.action !== \"insert\" : delta.action === \"insert\";\n        }\n        var range, point;\n        for (var i = 0; i < deltas.length; i++) {\n            var delta = deltas[i];\n            if (!delta.start)\n                continue; // skip folds\n            if (!range) {\n                if (isInsert(delta)) {\n                    range = Range.fromPoints(delta.start, delta.end);\n                }\n                else {\n                    range = Range.fromPoints(delta.start, delta.start);\n                }\n                continue;\n            }\n            if (isInsert(delta)) {\n                point = delta.start;\n                if (range.compare(point.row, point.column) == -1) {\n                    range.setStart(point);\n                }\n                point = delta.end;\n                if (range.compare(point.row, point.column) == 1) {\n                    range.setEnd(point);\n                }\n            }\n            else {\n                point = delta.start;\n                if (range.compare(point.row, point.column) == -1) {\n                    range = Range.fromPoints(delta.start, delta.start);\n                }\n            }\n        }\n        return range;\n    };\n    this.replace = function (range, text) {\n        return this.doc.replace(range, text);\n    };\n    this.moveText = function (fromRange, toPosition, copy) {\n        var text = this.getTextRange(fromRange);\n        var folds = this.getFoldsInRange(fromRange);\n        var toRange = Range.fromPoints(toPosition, toPosition);\n        if (!copy) {\n            this.remove(fromRange);\n            var rowDiff = fromRange.start.row - fromRange.end.row;\n            var collDiff = rowDiff ? -fromRange.end.column : fromRange.start.column - fromRange.end.column;\n            if (collDiff) {\n                if (toRange.start.row == fromRange.end.row && toRange.start.column > fromRange.end.column)\n                    toRange.start.column += collDiff;\n                if (toRange.end.row == fromRange.end.row && toRange.end.column > fromRange.end.column)\n                    toRange.end.column += collDiff;\n            }\n            if (rowDiff && toRange.start.row >= fromRange.end.row) {\n                toRange.start.row += rowDiff;\n                toRange.end.row += rowDiff;\n            }\n        }\n        toRange.end = this.insert(toRange.start, text);\n        if (folds.length) {\n            var oldStart = fromRange.start;\n            var newStart = toRange.start;\n            var rowDiff = newStart.row - oldStart.row;\n            var collDiff = newStart.column - oldStart.column;\n            this.addFolds(folds.map(function (x) {\n                x = x.clone();\n                if (x.start.row == oldStart.row)\n                    x.start.column += collDiff;\n                if (x.end.row == oldStart.row)\n                    x.end.column += collDiff;\n                x.start.row += rowDiff;\n                x.end.row += rowDiff;\n                return x;\n            }));\n        }\n        return toRange;\n    };\n    this.indentRows = function (startRow, endRow, indentString) {\n        indentString = indentString.replace(/\\t/g, this.getTabString());\n        for (var row = startRow; row <= endRow; row++)\n            this.doc.insertInLine({ row: row, column: 0 }, indentString);\n    };\n    this.outdentRows = function (range) {\n        var rowRange = range.collapseRows();\n        var deleteRange = new Range(0, 0, 0, 0);\n        var size = this.getTabSize();\n        for (var i = rowRange.start.row; i <= rowRange.end.row; ++i) {\n            var line = this.getLine(i);\n            deleteRange.start.row = i;\n            deleteRange.end.row = i;\n            for (var j = 0; j < size; ++j)\n                if (line.charAt(j) != ' ')\n                    break;\n            if (j < size && line.charAt(j) == '\\t') {\n                deleteRange.start.column = j;\n                deleteRange.end.column = j + 1;\n            }\n            else {\n                deleteRange.start.column = 0;\n                deleteRange.end.column = j;\n            }\n            this.remove(deleteRange);\n        }\n    };\n    this.$moveLines = function (firstRow, lastRow, dir) {\n        firstRow = this.getRowFoldStart(firstRow);\n        lastRow = this.getRowFoldEnd(lastRow);\n        if (dir < 0) {\n            var row = this.getRowFoldStart(firstRow + dir);\n            if (row < 0)\n                return 0;\n            var diff = row - firstRow;\n        }\n        else if (dir > 0) {\n            var row = this.getRowFoldEnd(lastRow + dir);\n            if (row > this.doc.getLength() - 1)\n                return 0;\n            var diff = row - lastRow;\n        }\n        else {\n            firstRow = this.$clipRowToDocument(firstRow);\n            lastRow = this.$clipRowToDocument(lastRow);\n            var diff = lastRow - firstRow + 1;\n        }\n        var range = new Range(firstRow, 0, lastRow, Number.MAX_VALUE);\n        var folds = this.getFoldsInRange(range).map(function (x) {\n            x = x.clone();\n            x.start.row += diff;\n            x.end.row += diff;\n            return x;\n        });\n        var lines = dir == 0\n            ? this.doc.getLines(firstRow, lastRow)\n            : this.doc.removeFullLines(firstRow, lastRow);\n        this.doc.insertFullLines(firstRow + diff, lines);\n        folds.length && this.addFolds(folds);\n        return diff;\n    };\n    this.moveLinesUp = function (firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, -1);\n    };\n    this.moveLinesDown = function (firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 1);\n    };\n    this.duplicateLines = function (firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 0);\n    };\n    this.$clipRowToDocument = function (row) {\n        return Math.max(0, Math.min(row, this.doc.getLength() - 1));\n    };\n    this.$clipColumnToRow = function (row, column) {\n        if (column < 0)\n            return 0;\n        return Math.min(this.doc.getLine(row).length, column);\n    };\n    this.$clipPositionToDocument = function (row, column) {\n        column = Math.max(0, column);\n        if (row < 0) {\n            row = 0;\n            column = 0;\n        }\n        else {\n            var len = this.doc.getLength();\n            if (row >= len) {\n                row = len - 1;\n                column = this.doc.getLine(len - 1).length;\n            }\n            else {\n                column = Math.min(this.doc.getLine(row).length, column);\n            }\n        }\n        return {\n            row: row,\n            column: column\n        };\n    };\n    this.$clipRangeToDocument = function (range) {\n        if (range.start.row < 0) {\n            range.start.row = 0;\n            range.start.column = 0;\n        }\n        else {\n            range.start.column = this.$clipColumnToRow(range.start.row, range.start.column);\n        }\n        var len = this.doc.getLength() - 1;\n        if (range.end.row > len) {\n            range.end.row = len;\n            range.end.column = this.doc.getLine(len).length;\n        }\n        else {\n            range.end.column = this.$clipColumnToRow(range.end.row, range.end.column);\n        }\n        return range;\n    };\n    this.$wrapLimit = 80;\n    this.$useWrapMode = false;\n    this.$wrapLimitRange = {\n        min: null,\n        max: null\n    };\n    this.setUseWrapMode = function (useWrapMode) {\n        if (useWrapMode != this.$useWrapMode) {\n            this.$useWrapMode = useWrapMode;\n            this.$modified = true;\n            this.$resetRowCache(0);\n            if (useWrapMode) {\n                var len = this.getLength();\n                this.$wrapData = Array(len);\n                this.$updateWrapData(0, len - 1);\n            }\n            this._signal(\"changeWrapMode\");\n        }\n    };\n    this.getUseWrapMode = function () {\n        return this.$useWrapMode;\n    };\n    this.setWrapLimitRange = function (min, max) {\n        if (this.$wrapLimitRange.min !== min || this.$wrapLimitRange.max !== max) {\n            this.$wrapLimitRange = { min: min, max: max };\n            this.$modified = true;\n            this.$bidiHandler.markAsDirty();\n            if (this.$useWrapMode)\n                this._signal(\"changeWrapMode\");\n        }\n    };\n    this.adjustWrapLimit = function (desiredLimit, $printMargin) {\n        var limits = this.$wrapLimitRange;\n        if (limits.max < 0)\n            limits = { min: $printMargin, max: $printMargin };\n        var wrapLimit = this.$constrainWrapLimit(desiredLimit, limits.min, limits.max);\n        if (wrapLimit != this.$wrapLimit && wrapLimit > 1) {\n            this.$wrapLimit = wrapLimit;\n            this.$modified = true;\n            if (this.$useWrapMode) {\n                this.$updateWrapData(0, this.getLength() - 1);\n                this.$resetRowCache(0);\n                this._signal(\"changeWrapLimit\");\n            }\n            return true;\n        }\n        return false;\n    };\n    this.$constrainWrapLimit = function (wrapLimit, min, max) {\n        if (min)\n            wrapLimit = Math.max(min, wrapLimit);\n        if (max)\n            wrapLimit = Math.min(max, wrapLimit);\n        return wrapLimit;\n    };\n    this.getWrapLimit = function () {\n        return this.$wrapLimit;\n    };\n    this.setWrapLimit = function (limit) {\n        this.setWrapLimitRange(limit, limit);\n    };\n    this.getWrapLimitRange = function () {\n        return {\n            min: this.$wrapLimitRange.min,\n            max: this.$wrapLimitRange.max\n        };\n    };\n    this.$updateInternalDataOnChange = function (delta) {\n        var useWrapMode = this.$useWrapMode;\n        var action = delta.action;\n        var start = delta.start;\n        var end = delta.end;\n        var firstRow = start.row;\n        var lastRow = end.row;\n        var len = lastRow - firstRow;\n        var removedFolds = null;\n        this.$updating = true;\n        if (len != 0) {\n            if (action === \"remove\") {\n                this[useWrapMode ? \"$wrapData\" : \"$rowLengthCache\"].splice(firstRow, len);\n                var foldLines = this.$foldData;\n                removedFolds = this.getFoldsInRange(delta);\n                this.removeFolds(removedFolds);\n                var foldLine = this.getFoldLine(end.row);\n                var idx = 0;\n                if (foldLine) {\n                    foldLine.addRemoveChars(end.row, end.column, start.column - end.column);\n                    foldLine.shiftRow(-len);\n                    var foldLineBefore = this.getFoldLine(firstRow);\n                    if (foldLineBefore && foldLineBefore !== foldLine) {\n                        foldLineBefore.merge(foldLine);\n                        foldLine = foldLineBefore;\n                    }\n                    idx = foldLines.indexOf(foldLine) + 1;\n                }\n                for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n                    if (foldLine.start.row >= end.row) {\n                        foldLine.shiftRow(-len);\n                    }\n                }\n                lastRow = firstRow;\n            }\n            else {\n                var args = Array(len);\n                args.unshift(firstRow, 0);\n                var arr = useWrapMode ? this.$wrapData : this.$rowLengthCache;\n                arr.splice.apply(arr, args);\n                var foldLines = this.$foldData;\n                var foldLine = this.getFoldLine(firstRow);\n                var idx = 0;\n                if (foldLine) {\n                    var cmp = foldLine.range.compareInside(start.row, start.column);\n                    if (cmp == 0) {\n                        foldLine = foldLine.split(start.row, start.column);\n                        if (foldLine) {\n                            foldLine.shiftRow(len);\n                            foldLine.addRemoveChars(lastRow, 0, end.column - start.column);\n                        }\n                    }\n                    else \n                    if (cmp == -1) {\n                        foldLine.addRemoveChars(firstRow, 0, end.column - start.column);\n                        foldLine.shiftRow(len);\n                    }\n                    idx = foldLines.indexOf(foldLine) + 1;\n                }\n                for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n                    if (foldLine.start.row >= firstRow) {\n                        foldLine.shiftRow(len);\n                    }\n                }\n            }\n        }\n        else {\n            len = Math.abs(delta.start.column - delta.end.column);\n            if (action === \"remove\") {\n                removedFolds = this.getFoldsInRange(delta);\n                this.removeFolds(removedFolds);\n                len = -len;\n            }\n            var foldLine = this.getFoldLine(firstRow);\n            if (foldLine) {\n                foldLine.addRemoveChars(firstRow, start.column, len);\n            }\n        }\n        if (useWrapMode && this.$wrapData.length != this.doc.getLength()) {\n            console.error(\"doc.getLength() and $wrapData.length have to be the same!\");\n        }\n        this.$updating = false;\n        if (useWrapMode)\n            this.$updateWrapData(firstRow, lastRow);\n        else\n            this.$updateRowLengthCache(firstRow, lastRow);\n        return removedFolds;\n    };\n    this.$updateRowLengthCache = function (firstRow, lastRow, b) {\n        this.$rowLengthCache[firstRow] = null;\n        this.$rowLengthCache[lastRow] = null;\n    };\n    this.$updateWrapData = function (firstRow, lastRow) {\n        var lines = this.doc.getAllLines();\n        var tabSize = this.getTabSize();\n        var wrapData = this.$wrapData;\n        var wrapLimit = this.$wrapLimit;\n        var tokens;\n        var foldLine;\n        var row = firstRow;\n        lastRow = Math.min(lastRow, lines.length - 1);\n        while (row <= lastRow) {\n            foldLine = this.getFoldLine(row, foldLine);\n            if (!foldLine) {\n                tokens = this.$getDisplayTokens(lines[row]);\n                wrapData[row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                row++;\n            }\n            else {\n                tokens = [];\n                foldLine.walk(function (placeholder, row, column, lastColumn) {\n                    var walkTokens;\n                    if (placeholder != null) {\n                        walkTokens = this.$getDisplayTokens(placeholder, tokens.length);\n                        walkTokens[0] = PLACEHOLDER_START;\n                        for (var i = 1; i < walkTokens.length; i++) {\n                            walkTokens[i] = PLACEHOLDER_BODY;\n                        }\n                    }\n                    else {\n                        walkTokens = this.$getDisplayTokens(lines[row].substring(lastColumn, column), tokens.length);\n                    }\n                    tokens = tokens.concat(walkTokens);\n                }.bind(this), foldLine.end.row, lines[foldLine.end.row].length + 1);\n                wrapData[foldLine.start.row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                row = foldLine.end.row + 1;\n            }\n        }\n    };\n    var CHAR = 1, CHAR_EXT = 2, PLACEHOLDER_START = 3, PLACEHOLDER_BODY = 4, PUNCTUATION = 9, SPACE = 10, TAB = 11, TAB_SPACE = 12;\n    this.$computeWrapSplits = function (tokens, wrapLimit, tabSize) {\n        if (tokens.length == 0) {\n            return [];\n        }\n        var splits = [];\n        var displayLength = tokens.length;\n        var lastSplit = 0, lastDocSplit = 0;\n        var isCode = this.$wrapAsCode;\n        var indentedSoftWrap = this.$indentedSoftWrap;\n        var maxIndent = wrapLimit <= Math.max(2 * tabSize, 8)\n            || indentedSoftWrap === false ? 0 : Math.floor(wrapLimit / 2);\n        function getWrapIndent() {\n            var indentation = 0;\n            if (maxIndent === 0)\n                return indentation;\n            if (indentedSoftWrap) {\n                for (var i = 0; i < tokens.length; i++) {\n                    var token = tokens[i];\n                    if (token == SPACE)\n                        indentation += 1;\n                    else if (token == TAB)\n                        indentation += tabSize;\n                    else if (token == TAB_SPACE)\n                        continue;\n                    else\n                        break;\n                }\n            }\n            if (isCode && indentedSoftWrap !== false)\n                indentation += tabSize;\n            return Math.min(indentation, maxIndent);\n        }\n        function addSplit(screenPos) {\n            var len = screenPos - lastSplit;\n            for (var i = lastSplit; i < screenPos; i++) {\n                var ch = tokens[i];\n                if (ch === 12 || ch === 2)\n                    len -= 1;\n            }\n            if (!splits.length) {\n                indent = getWrapIndent();\n                splits.indent = indent;\n            }\n            lastDocSplit += len;\n            splits.push(lastDocSplit);\n            lastSplit = screenPos;\n        }\n        var indent = 0;\n        while (displayLength - lastSplit > wrapLimit - indent) {\n            var split = lastSplit + wrapLimit - indent;\n            if (tokens[split - 1] >= SPACE && tokens[split] >= SPACE) {\n                addSplit(split);\n                continue;\n            }\n            if (tokens[split] == PLACEHOLDER_START || tokens[split] == PLACEHOLDER_BODY) {\n                for (split; split != lastSplit - 1; split--) {\n                    if (tokens[split] == PLACEHOLDER_START) {\n                        break;\n                    }\n                }\n                if (split > lastSplit) {\n                    addSplit(split);\n                    continue;\n                }\n                split = lastSplit + wrapLimit;\n                for (split; split < tokens.length; split++) {\n                    if (tokens[split] != PLACEHOLDER_BODY) {\n                        break;\n                    }\n                }\n                if (split == tokens.length) {\n                    break; // Breaks the while-loop.\n                }\n                addSplit(split);\n                continue;\n            }\n            var minSplit = Math.max(split - (wrapLimit - (wrapLimit >> 2)), lastSplit - 1);\n            while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                split--;\n            }\n            if (isCode) {\n                while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                    split--;\n                }\n                while (split > minSplit && tokens[split] == PUNCTUATION) {\n                    split--;\n                }\n            }\n            else {\n                while (split > minSplit && tokens[split] < SPACE) {\n                    split--;\n                }\n            }\n            if (split > minSplit) {\n                addSplit(++split);\n                continue;\n            }\n            split = lastSplit + wrapLimit;\n            if (tokens[split] == CHAR_EXT)\n                split--;\n            addSplit(split - indent);\n        }\n        return splits;\n    };\n    this.$getDisplayTokens = function (str, offset) {\n        var arr = [];\n        var tabSize;\n        offset = offset || 0;\n        for (var i = 0; i < str.length; i++) {\n            var c = str.charCodeAt(i);\n            if (c == 9) {\n                tabSize = this.getScreenTabSize(arr.length + offset);\n                arr.push(TAB);\n                for (var n = 1; n < tabSize; n++) {\n                    arr.push(TAB_SPACE);\n                }\n            }\n            else if (c == 32) {\n                arr.push(SPACE);\n            }\n            else if ((c > 39 && c < 48) || (c > 57 && c < 64)) {\n                arr.push(PUNCTUATION);\n            }\n            else if (c >= 0x1100 && isFullWidth(c)) {\n                arr.push(CHAR, CHAR_EXT);\n            }\n            else {\n                arr.push(CHAR);\n            }\n        }\n        return arr;\n    };\n    this.$getStringScreenWidth = function (str, maxScreenColumn, screenColumn) {\n        if (maxScreenColumn == 0)\n            return [0, 0];\n        if (maxScreenColumn == null)\n            maxScreenColumn = Infinity;\n        screenColumn = screenColumn || 0;\n        var c, column;\n        for (column = 0; column < str.length; column++) {\n            c = str.charCodeAt(column);\n            if (c == 9) {\n                screenColumn += this.getScreenTabSize(screenColumn);\n            }\n            else if (c >= 0x1100 && isFullWidth(c)) {\n                screenColumn += 2;\n            }\n            else {\n                screenColumn += 1;\n            }\n            if (screenColumn > maxScreenColumn) {\n                break;\n            }\n        }\n        return [screenColumn, column];\n    };\n    this.lineWidgets = null;\n    this.getRowLength = function (row) {\n        var h = 1;\n        if (this.lineWidgets)\n            h += this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;\n        if (!this.$useWrapMode || !this.$wrapData[row])\n            return h;\n        else\n            return this.$wrapData[row].length + h;\n    };\n    this.getRowLineCount = function (row) {\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1;\n        }\n        else {\n            return this.$wrapData[row].length + 1;\n        }\n    };\n    this.getRowWrapIndent = function (screenRow) {\n        if (this.$useWrapMode) {\n            var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n            var splits = this.$wrapData[pos.row];\n            return splits.length && splits[0] < pos.column ? splits.indent : 0;\n        }\n        else {\n            return 0;\n        }\n    };\n    this.getScreenLastRowColumn = function (screenRow) {\n        var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n        return this.documentToScreenColumn(pos.row, pos.column);\n    };\n    this.getDocumentLastRowColumn = function (docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.getScreenLastRowColumn(screenRow);\n    };\n    this.getDocumentLastRowColumnPosition = function (docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.screenToDocumentPosition(screenRow, Number.MAX_VALUE / 10);\n    };\n    this.getRowSplitData = function (row) {\n        if (!this.$useWrapMode) {\n            return undefined;\n        }\n        else {\n            return this.$wrapData[row];\n        }\n    };\n    this.getScreenTabSize = function (screenColumn) {\n        return this.$tabSize - (screenColumn % this.$tabSize | 0);\n    };\n    this.screenToDocumentRow = function (screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).row;\n    };\n    this.screenToDocumentColumn = function (screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).column;\n    };\n    this.screenToDocumentPosition = function (screenRow, screenColumn, offsetX) {\n        if (screenRow < 0)\n            return { row: 0, column: 0 };\n        var line;\n        var docRow = 0;\n        var docColumn = 0;\n        var column;\n        var row = 0;\n        var rowLength = 0;\n        var rowCache = this.$screenRowCache;\n        var i = this.$getRowCacheIndex(rowCache, screenRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n            var row = rowCache[i];\n            var docRow = this.$docRowCache[i];\n            var doCache = screenRow > rowCache[l - 1];\n        }\n        else {\n            var doCache = !l;\n        }\n        var maxRow = this.getLength() - 1;\n        var foldLine = this.getNextFoldLine(docRow);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n        while (row <= screenRow) {\n            rowLength = this.getRowLength(docRow);\n            if (row + rowLength > screenRow || docRow >= maxRow) {\n                break;\n            }\n            else {\n                row += rowLength;\n                docRow++;\n                if (docRow > foldStart) {\n                    docRow = foldLine.end.row + 1;\n                    foldLine = this.getNextFoldLine(docRow, foldLine);\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n            }\n            if (doCache) {\n                this.$docRowCache.push(docRow);\n                this.$screenRowCache.push(row);\n            }\n        }\n        if (foldLine && foldLine.start.row <= docRow) {\n            line = this.getFoldDisplayLine(foldLine);\n            docRow = foldLine.start.row;\n        }\n        else if (row + rowLength <= screenRow || docRow > maxRow) {\n            return {\n                row: maxRow,\n                column: this.getLine(maxRow).length\n            };\n        }\n        else {\n            line = this.getLine(docRow);\n            foldLine = null;\n        }\n        var wrapIndent = 0, splitIndex = Math.floor(screenRow - row);\n        if (this.$useWrapMode) {\n            var splits = this.$wrapData[docRow];\n            if (splits) {\n                column = splits[splitIndex];\n                if (splitIndex > 0 && splits.length) {\n                    wrapIndent = splits.indent;\n                    docColumn = splits[splitIndex - 1] || splits[splits.length - 1];\n                    line = line.substring(docColumn);\n                }\n            }\n        }\n        if (offsetX !== undefined && this.$bidiHandler.isBidiRow(row + splitIndex, docRow, splitIndex))\n            screenColumn = this.$bidiHandler.offsetToCol(offsetX);\n        docColumn += this.$getStringScreenWidth(line, screenColumn - wrapIndent)[1];\n        if (this.$useWrapMode && docColumn >= column)\n            docColumn = column - 1;\n        if (foldLine)\n            return foldLine.idxToPosition(docColumn);\n        return { row: docRow, column: docColumn };\n    };\n    this.documentToScreenPosition = function (docRow, docColumn) {\n        if (typeof docColumn === \"undefined\")\n            var pos = this.$clipPositionToDocument(docRow.row, docRow.column);\n        else\n            pos = this.$clipPositionToDocument(docRow, docColumn);\n        docRow = pos.row;\n        docColumn = pos.column;\n        var screenRow = 0;\n        var foldStartRow = null;\n        var fold = null;\n        fold = this.getFoldAt(docRow, docColumn, 1);\n        if (fold) {\n            docRow = fold.start.row;\n            docColumn = fold.start.column;\n        }\n        var rowEnd, row = 0;\n        var rowCache = this.$docRowCache;\n        var i = this.$getRowCacheIndex(rowCache, docRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n            var row = rowCache[i];\n            var screenRow = this.$screenRowCache[i];\n            var doCache = docRow > rowCache[l - 1];\n        }\n        else {\n            var doCache = !l;\n        }\n        var foldLine = this.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n        while (row < docRow) {\n            if (row >= foldStart) {\n                rowEnd = foldLine.end.row + 1;\n                if (rowEnd > docRow)\n                    break;\n                foldLine = this.getNextFoldLine(rowEnd, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            else {\n                rowEnd = row + 1;\n            }\n            screenRow += this.getRowLength(row);\n            row = rowEnd;\n            if (doCache) {\n                this.$docRowCache.push(row);\n                this.$screenRowCache.push(screenRow);\n            }\n        }\n        var textLine = \"\";\n        if (foldLine && row >= foldStart) {\n            textLine = this.getFoldDisplayLine(foldLine, docRow, docColumn);\n            foldStartRow = foldLine.start.row;\n        }\n        else {\n            textLine = this.getLine(docRow).substring(0, docColumn);\n            foldStartRow = docRow;\n        }\n        var wrapIndent = 0;\n        if (this.$useWrapMode) {\n            var wrapRow = this.$wrapData[foldStartRow];\n            if (wrapRow) {\n                var screenRowOffset = 0;\n                while (textLine.length >= wrapRow[screenRowOffset]) {\n                    screenRow++;\n                    screenRowOffset++;\n                }\n                textLine = textLine.substring(wrapRow[screenRowOffset - 1] || 0, textLine.length);\n                wrapIndent = screenRowOffset > 0 ? wrapRow.indent : 0;\n            }\n        }\n        if (this.lineWidgets && this.lineWidgets[row] && this.lineWidgets[row].rowsAbove)\n            screenRow += this.lineWidgets[row].rowsAbove;\n        return {\n            row: screenRow,\n            column: wrapIndent + this.$getStringScreenWidth(textLine)[0]\n        };\n    };\n    this.documentToScreenColumn = function (row, docColumn) {\n        return this.documentToScreenPosition(row, docColumn).column;\n    };\n    this.documentToScreenRow = function (docRow, docColumn) {\n        return this.documentToScreenPosition(docRow, docColumn).row;\n    };\n    this.getScreenLength = function () {\n        var screenRows = 0;\n        var fold = null;\n        if (!this.$useWrapMode) {\n            screenRows = this.getLength();\n            var foldData = this.$foldData;\n            for (var i = 0; i < foldData.length; i++) {\n                fold = foldData[i];\n                screenRows -= fold.end.row - fold.start.row;\n            }\n        }\n        else {\n            var lastRow = this.$wrapData.length;\n            var row = 0, i = 0;\n            var fold = this.$foldData[i++];\n            var foldStart = fold ? fold.start.row : Infinity;\n            while (row < lastRow) {\n                var splits = this.$wrapData[row];\n                screenRows += splits ? splits.length + 1 : 1;\n                row++;\n                if (row > foldStart) {\n                    row = fold.end.row + 1;\n                    fold = this.$foldData[i++];\n                    foldStart = fold ? fold.start.row : Infinity;\n                }\n            }\n        }\n        if (this.lineWidgets)\n            screenRows += this.$getWidgetScreenLength();\n        return screenRows;\n    };\n    this.$setFontMetrics = function (fm) {\n        if (!this.$enableVarChar)\n            return;\n        this.$getStringScreenWidth = function (str, maxScreenColumn, screenColumn) {\n            if (maxScreenColumn === 0)\n                return [0, 0];\n            if (!maxScreenColumn)\n                maxScreenColumn = Infinity;\n            screenColumn = screenColumn || 0;\n            var c, column;\n            for (column = 0; column < str.length; column++) {\n                c = str.charAt(column);\n                if (c === \"\\t\") {\n                    screenColumn += this.getScreenTabSize(screenColumn);\n                }\n                else {\n                    screenColumn += fm.getCharacterWidth(c);\n                }\n                if (screenColumn > maxScreenColumn) {\n                    break;\n                }\n            }\n            return [screenColumn, column];\n        };\n    };\n    this.destroy = function () {\n        if (!this.destroyed) {\n            this.bgTokenizer.setDocument(null);\n            this.bgTokenizer.cleanup();\n            this.destroyed = true;\n        }\n        this.$stopWorker();\n        this.removeAllListeners();\n        if (this.doc) {\n            this.doc.off(\"change\", this.$onChange);\n        }\n        this.selection.detach();\n    };\n    this.isFullWidth = isFullWidth;\n    function isFullWidth(c) {\n        if (c < 0x1100)\n            return false;\n        return c >= 0x1100 && c <= 0x115F ||\n            c >= 0x11A3 && c <= 0x11A7 ||\n            c >= 0x11FA && c <= 0x11FF ||\n            c >= 0x2329 && c <= 0x232A ||\n            c >= 0x2E80 && c <= 0x2E99 ||\n            c >= 0x2E9B && c <= 0x2EF3 ||\n            c >= 0x2F00 && c <= 0x2FD5 ||\n            c >= 0x2FF0 && c <= 0x2FFB ||\n            c >= 0x3000 && c <= 0x303E ||\n            c >= 0x3041 && c <= 0x3096 ||\n            c >= 0x3099 && c <= 0x30FF ||\n            c >= 0x3105 && c <= 0x312D ||\n            c >= 0x3131 && c <= 0x318E ||\n            c >= 0x3190 && c <= 0x31BA ||\n            c >= 0x31C0 && c <= 0x31E3 ||\n            c >= 0x31F0 && c <= 0x321E ||\n            c >= 0x3220 && c <= 0x3247 ||\n            c >= 0x3250 && c <= 0x32FE ||\n            c >= 0x3300 && c <= 0x4DBF ||\n            c >= 0x4E00 && c <= 0xA48C ||\n            c >= 0xA490 && c <= 0xA4C6 ||\n            c >= 0xA960 && c <= 0xA97C ||\n            c >= 0xAC00 && c <= 0xD7A3 ||\n            c >= 0xD7B0 && c <= 0xD7C6 ||\n            c >= 0xD7CB && c <= 0xD7FB ||\n            c >= 0xF900 && c <= 0xFAFF ||\n            c >= 0xFE10 && c <= 0xFE19 ||\n            c >= 0xFE30 && c <= 0xFE52 ||\n            c >= 0xFE54 && c <= 0xFE66 ||\n            c >= 0xFE68 && c <= 0xFE6B ||\n            c >= 0xFF01 && c <= 0xFF60 ||\n            c >= 0xFFE0 && c <= 0xFFE6;\n    }\n}).call(EditSession.prototype);\nrequire(\"./edit_session/folding\").Folding.call(EditSession.prototype);\nrequire(\"./edit_session/bracket_match\").BracketMatch.call(EditSession.prototype);\nconfig.defineOptions(EditSession.prototype, \"session\", {\n    wrap: {\n        set: function (value) {\n            if (!value || value == \"off\")\n                value = false;\n            else if (value == \"free\")\n                value = true;\n            else if (value == \"printMargin\")\n                value = -1;\n            else if (typeof value == \"string\")\n                value = parseInt(value, 10) || false;\n            if (this.$wrap == value)\n                return;\n            this.$wrap = value;\n            if (!value) {\n                this.setUseWrapMode(false);\n            }\n            else {\n                var col = typeof value == \"number\" ? value : null;\n                this.setWrapLimitRange(col, col);\n                this.setUseWrapMode(true);\n            }\n        },\n        get: function () {\n            if (this.getUseWrapMode()) {\n                if (this.$wrap == -1)\n                    return \"printMargin\";\n                if (!this.getWrapLimitRange().min)\n                    return \"free\";\n                return this.$wrap;\n            }\n            return \"off\";\n        },\n        handlesSet: true\n    },\n    wrapMethod: {\n        set: function (val) {\n            val = val == \"auto\"\n                ? this.$mode.type != \"text\"\n                : val != \"text\";\n            if (val != this.$wrapAsCode) {\n                this.$wrapAsCode = val;\n                if (this.$useWrapMode) {\n                    this.$useWrapMode = false;\n                    this.setUseWrapMode(true);\n                }\n            }\n        },\n        initialValue: \"auto\"\n    },\n    indentedSoftWrap: {\n        set: function () {\n            if (this.$useWrapMode) {\n                this.$useWrapMode = false;\n                this.setUseWrapMode(true);\n            }\n        },\n        initialValue: true\n    },\n    firstLineNumber: {\n        set: function () { this._signal(\"changeBreakpoint\"); },\n        initialValue: 1\n    },\n    useWorker: {\n        set: function (useWorker) {\n            this.$useWorker = useWorker;\n            this.$stopWorker();\n            if (useWorker)\n                this.$startWorker();\n        },\n        initialValue: true\n    },\n    useSoftTabs: { initialValue: true },\n    tabSize: {\n        set: function (tabSize) {\n            tabSize = parseInt(tabSize);\n            if (tabSize > 0 && this.$tabSize !== tabSize) {\n                this.$modified = true;\n                this.$rowLengthCache = [];\n                this.$tabSize = tabSize;\n                this._signal(\"changeTabSize\");\n            }\n        },\n        initialValue: 4,\n        handlesSet: true\n    },\n    navigateWithinSoftTabs: { initialValue: false },\n    foldStyle: {\n        set: function (val) { this.setFoldStyle(val); },\n        handlesSet: true\n    },\n    overwrite: {\n        set: function (val) { this._signal(\"changeOverwrite\"); },\n        initialValue: false\n    },\n    newLineMode: {\n        set: function (val) { this.doc.setNewLineMode(val); },\n        get: function () { return this.doc.getNewLineMode(); },\n        handlesSet: true\n    },\n    mode: {\n        set: function (val) { this.setMode(val); },\n        get: function () { return this.$modeId; },\n        handlesSet: true\n    }\n});\nexports.EditSession = EditSession;\n\n});\n\nace.define(\"ace/search\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar Range = require(\"./range\").Range;\nvar Search = function () {\n    this.$options = {};\n};\n(function () {\n    this.set = function (options) {\n        oop.mixin(this.$options, options);\n        return this;\n    };\n    this.getOptions = function () {\n        return lang.copyObject(this.$options);\n    };\n    this.setOptions = function (options) {\n        this.$options = options;\n    };\n    this.find = function (session) {\n        var options = this.$options;\n        var iterator = this.$matchIterator(session, options);\n        if (!iterator)\n            return false;\n        var firstRange = null;\n        iterator.forEach(function (sr, sc, er, ec) {\n            firstRange = new Range(sr, sc, er, ec);\n            if (sc == ec && options.start && options.start.start\n                && options.skipCurrent != false && firstRange.isEqual(options.start)) {\n                firstRange = null;\n                return false;\n            }\n            return true;\n        });\n        return firstRange;\n    };\n    this.findAll = function (session) {\n        var options = this.$options;\n        if (!options.needle)\n            return [];\n        this.$assembleRegExp(options);\n        var range = options.range;\n        var lines = range\n            ? session.getLines(range.start.row, range.end.row)\n            : session.doc.getAllLines();\n        var ranges = [];\n        var re = options.re;\n        if (options.$isMultiLine) {\n            var len = re.length;\n            var maxRow = lines.length - len;\n            var prevRange;\n            outer: for (var row = re.offset || 0; row <= maxRow; row++) {\n                for (var j = 0; j < len; j++)\n                    if (lines[row + j].search(re[j]) == -1)\n                        continue outer;\n                var startLine = lines[row];\n                var line = lines[row + len - 1];\n                var startIndex = startLine.length - startLine.match(re[0])[0].length;\n                var endIndex = line.match(re[len - 1])[0].length;\n                if (prevRange && prevRange.end.row === row &&\n                    prevRange.end.column > startIndex) {\n                    continue;\n                }\n                ranges.push(prevRange = new Range(row, startIndex, row + len - 1, endIndex));\n                if (len > 2)\n                    row = row + len - 2;\n            }\n        }\n        else {\n            for (var i = 0; i < lines.length; i++) {\n                var matches = lang.getMatchOffsets(lines[i], re);\n                for (var j = 0; j < matches.length; j++) {\n                    var match = matches[j];\n                    ranges.push(new Range(i, match.offset, i, match.offset + match.length));\n                }\n            }\n        }\n        if (range) {\n            var startColumn = range.start.column;\n            var endColumn = range.end.column;\n            var i = 0, j = ranges.length - 1;\n            while (i < j && ranges[i].start.column < startColumn && ranges[i].start.row == 0)\n                i++;\n            var endRow = range.end.row - range.start.row;\n            while (i < j && ranges[j].end.column > endColumn && ranges[j].end.row == endRow)\n                j--;\n            ranges = ranges.slice(i, j + 1);\n            for (i = 0, j = ranges.length; i < j; i++) {\n                ranges[i].start.row += range.start.row;\n                ranges[i].end.row += range.start.row;\n            }\n        }\n        return ranges;\n    };\n    this.replace = function (input, replacement) {\n        var options = this.$options;\n        var re = this.$assembleRegExp(options);\n        if (options.$isMultiLine)\n            return replacement;\n        if (!re)\n            return;\n        var match = re.exec(input);\n        if (!match || match[0].length != input.length)\n            return null;\n        replacement = input.replace(re, replacement);\n        if (options.preserveCase) {\n            replacement = replacement.split(\"\");\n            for (var i = Math.min(input.length, input.length); i--;) {\n                var ch = input[i];\n                if (ch && ch.toLowerCase() != ch)\n                    replacement[i] = replacement[i].toUpperCase();\n                else\n                    replacement[i] = replacement[i].toLowerCase();\n            }\n            replacement = replacement.join(\"\");\n        }\n        return replacement;\n    };\n    this.$assembleRegExp = function (options, $disableFakeMultiline) {\n        if (options.needle instanceof RegExp)\n            return options.re = options.needle;\n        var needle = options.needle;\n        if (!options.needle)\n            return options.re = false;\n        if (!options.regExp)\n            needle = lang.escapeRegExp(needle);\n        if (options.wholeWord)\n            needle = addWordBoundary(needle, options);\n        var modifier = options.caseSensitive ? \"gm\" : \"gmi\";\n        options.$isMultiLine = !$disableFakeMultiline && /[\\n\\r]/.test(needle);\n        if (options.$isMultiLine)\n            return options.re = this.$assembleMultilineRegExp(needle, modifier);\n        try {\n            var re = new RegExp(needle, modifier);\n        }\n        catch (e) {\n            re = false;\n        }\n        return options.re = re;\n    };\n    this.$assembleMultilineRegExp = function (needle, modifier) {\n        var parts = needle.replace(/\\r\\n|\\r|\\n/g, \"$\\n^\").split(\"\\n\");\n        var re = [];\n        for (var i = 0; i < parts.length; i++)\n            try {\n                re.push(new RegExp(parts[i], modifier));\n            }\n            catch (e) {\n                return false;\n            }\n        return re;\n    };\n    this.$matchIterator = function (session, options) {\n        var re = this.$assembleRegExp(options);\n        if (!re)\n            return false;\n        var backwards = options.backwards == true;\n        var skipCurrent = options.skipCurrent != false;\n        var range = options.range;\n        var start = options.start;\n        if (!start)\n            start = range ? range[backwards ? \"end\" : \"start\"] : session.selection.getRange();\n        if (start.start)\n            start = start[skipCurrent != backwards ? \"end\" : \"start\"];\n        var firstRow = range ? range.start.row : 0;\n        var lastRow = range ? range.end.row : session.getLength() - 1;\n        if (backwards) {\n            var forEach = function (callback) {\n                var row = start.row;\n                if (forEachInLine(row, start.column, callback))\n                    return;\n                for (row--; row >= firstRow; row--)\n                    if (forEachInLine(row, Number.MAX_VALUE, callback))\n                        return;\n                if (options.wrap == false)\n                    return;\n                for (row = lastRow, firstRow = start.row; row >= firstRow; row--)\n                    if (forEachInLine(row, Number.MAX_VALUE, callback))\n                        return;\n            };\n        }\n        else {\n            var forEach = function (callback) {\n                var row = start.row;\n                if (forEachInLine(row, start.column, callback))\n                    return;\n                for (row = row + 1; row <= lastRow; row++)\n                    if (forEachInLine(row, 0, callback))\n                        return;\n                if (options.wrap == false)\n                    return;\n                for (row = firstRow, lastRow = start.row; row <= lastRow; row++)\n                    if (forEachInLine(row, 0, callback))\n                        return;\n            };\n        }\n        if (options.$isMultiLine) {\n            var len = re.length;\n            var forEachInLine = function (row, offset, callback) {\n                var startRow = backwards ? row - len + 1 : row;\n                if (startRow < 0 || startRow + len > session.getLength())\n                    return;\n                var line = session.getLine(startRow);\n                var startIndex = line.search(re[0]);\n                if (!backwards && startIndex < offset || startIndex === -1)\n                    return;\n                for (var i = 1; i < len; i++) {\n                    line = session.getLine(startRow + i);\n                    if (line.search(re[i]) == -1)\n                        return;\n                }\n                var endIndex = line.match(re[len - 1])[0].length;\n                if (backwards && endIndex > offset)\n                    return;\n                if (callback(startRow, startIndex, startRow + len - 1, endIndex))\n                    return true;\n            };\n        }\n        else if (backwards) {\n            var forEachInLine = function (row, endIndex, callback) {\n                var line = session.getLine(row);\n                var matches = [];\n                var m, last = 0;\n                re.lastIndex = 0;\n                while ((m = re.exec(line))) {\n                    var length = m[0].length;\n                    last = m.index;\n                    if (!length) {\n                        if (last >= line.length)\n                            break;\n                        re.lastIndex = last += 1;\n                    }\n                    if (m.index + length > endIndex)\n                        break;\n                    matches.push(m.index, length);\n                }\n                for (var i = matches.length - 1; i >= 0; i -= 2) {\n                    var column = matches[i - 1];\n                    var length = matches[i];\n                    if (callback(row, column, row, column + length))\n                        return true;\n                }\n            };\n        }\n        else {\n            var forEachInLine = function (row, startIndex, callback) {\n                var line = session.getLine(row);\n                var last;\n                var m;\n                re.lastIndex = startIndex;\n                while ((m = re.exec(line))) {\n                    var length = m[0].length;\n                    last = m.index;\n                    if (callback(row, last, row, last + length))\n                        return true;\n                    if (!length) {\n                        re.lastIndex = last += 1;\n                        if (last >= line.length)\n                            return false;\n                    }\n                }\n            };\n        }\n        return { forEach: forEach };\n    };\n}).call(Search.prototype);\nfunction addWordBoundary(needle, options) {\n    function wordBoundary(c) {\n        if (/\\w/.test(c) || options.regExp)\n            return \"\\\\b\";\n        return \"\";\n    }\n    return wordBoundary(needle[0]) + needle\n        + wordBoundary(needle[needle.length - 1]);\n}\nexports.Search = Search;\n\n});\n\nace.define(\"ace/keyboard/hash_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar keyUtil = require(\"../lib/keys\");\nvar useragent = require(\"../lib/useragent\");\nvar KEY_MODS = keyUtil.KEY_MODS;\nfunction HashHandler(config, platform) {\n    this.platform = platform || (useragent.isMac ? \"mac\" : \"win\");\n    this.commands = {};\n    this.commandKeyBinding = {};\n    this.addCommands(config);\n    this.$singleCommand = true;\n}\nfunction MultiHashHandler(config, platform) {\n    HashHandler.call(this, config, platform);\n    this.$singleCommand = false;\n}\nMultiHashHandler.prototype = HashHandler.prototype;\n(function () {\n    this.addCommand = function (command) {\n        if (this.commands[command.name])\n            this.removeCommand(command);\n        this.commands[command.name] = command;\n        if (command.bindKey)\n            this._buildKeyHash(command);\n    };\n    this.removeCommand = function (command, keepCommand) {\n        var name = command && (typeof command === 'string' ? command : command.name);\n        command = this.commands[name];\n        if (!keepCommand)\n            delete this.commands[name];\n        var ckb = this.commandKeyBinding;\n        for (var keyId in ckb) {\n            var cmdGroup = ckb[keyId];\n            if (cmdGroup == command) {\n                delete ckb[keyId];\n            }\n            else if (Array.isArray(cmdGroup)) {\n                var i = cmdGroup.indexOf(command);\n                if (i != -1) {\n                    cmdGroup.splice(i, 1);\n                    if (cmdGroup.length == 1)\n                        ckb[keyId] = cmdGroup[0];\n                }\n            }\n        }\n    };\n    this.bindKey = function (key, command, position) {\n        if (typeof key == \"object\" && key) {\n            if (position == undefined)\n                position = key.position;\n            key = key[this.platform];\n        }\n        if (!key)\n            return;\n        if (typeof command == \"function\")\n            return this.addCommand({ exec: command, bindKey: key, name: command.name || key });\n        key.split(\"|\").forEach(function (keyPart) {\n            var chain = \"\";\n            if (keyPart.indexOf(\" \") != -1) {\n                var parts = keyPart.split(/\\s+/);\n                keyPart = parts.pop();\n                parts.forEach(function (keyPart) {\n                    var binding = this.parseKeys(keyPart);\n                    var id = KEY_MODS[binding.hashId] + binding.key;\n                    chain += (chain ? \" \" : \"\") + id;\n                    this._addCommandToBinding(chain, \"chainKeys\");\n                }, this);\n                chain += \" \";\n            }\n            var binding = this.parseKeys(keyPart);\n            var id = KEY_MODS[binding.hashId] + binding.key;\n            this._addCommandToBinding(chain + id, command, position);\n        }, this);\n    };\n    function getPosition(command) {\n        return typeof command == \"object\" && command.bindKey\n            && command.bindKey.position\n            || (command.isDefault ? -100 : 0);\n    }\n    this._addCommandToBinding = function (keyId, command, position) {\n        var ckb = this.commandKeyBinding, i;\n        if (!command) {\n            delete ckb[keyId];\n        }\n        else if (!ckb[keyId] || this.$singleCommand) {\n            ckb[keyId] = command;\n        }\n        else {\n            if (!Array.isArray(ckb[keyId])) {\n                ckb[keyId] = [ckb[keyId]];\n            }\n            else if ((i = ckb[keyId].indexOf(command)) != -1) {\n                ckb[keyId].splice(i, 1);\n            }\n            if (typeof position != \"number\") {\n                position = getPosition(command);\n            }\n            var commands = ckb[keyId];\n            for (i = 0; i < commands.length; i++) {\n                var other = commands[i];\n                var otherPos = getPosition(other);\n                if (otherPos > position)\n                    break;\n            }\n            commands.splice(i, 0, command);\n        }\n    };\n    this.addCommands = function (commands) {\n        commands && Object.keys(commands).forEach(function (name) {\n            var command = commands[name];\n            if (!command)\n                return;\n            if (typeof command === \"string\")\n                return this.bindKey(command, name);\n            if (typeof command === \"function\")\n                command = { exec: command };\n            if (typeof command !== \"object\")\n                return;\n            if (!command.name)\n                command.name = name;\n            this.addCommand(command);\n        }, this);\n    };\n    this.removeCommands = function (commands) {\n        Object.keys(commands).forEach(function (name) {\n            this.removeCommand(commands[name]);\n        }, this);\n    };\n    this.bindKeys = function (keyList) {\n        Object.keys(keyList).forEach(function (key) {\n            this.bindKey(key, keyList[key]);\n        }, this);\n    };\n    this._buildKeyHash = function (command) {\n        this.bindKey(command.bindKey, command);\n    };\n    this.parseKeys = function (keys) {\n        var parts = keys.toLowerCase().split(/[\\-\\+]([\\-\\+])?/).filter(function (x) { return x; });\n        var key = parts.pop();\n        var keyCode = keyUtil[key];\n        if (keyUtil.FUNCTION_KEYS[keyCode])\n            key = keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();\n        else if (!parts.length)\n            return { key: key, hashId: -1 };\n        else if (parts.length == 1 && parts[0] == \"shift\")\n            return { key: key.toUpperCase(), hashId: -1 };\n        var hashId = 0;\n        for (var i = parts.length; i--;) {\n            var modifier = keyUtil.KEY_MODS[parts[i]];\n            if (modifier == null) {\n                if (typeof console != \"undefined\")\n                    console.error(\"invalid modifier \" + parts[i] + \" in \" + keys);\n                return false;\n            }\n            hashId |= modifier;\n        }\n        return { key: key, hashId: hashId };\n    };\n    this.findKeyCommand = function findKeyCommand(hashId, keyString) {\n        var key = KEY_MODS[hashId] + keyString;\n        return this.commandKeyBinding[key];\n    };\n    this.handleKeyboard = function (data, hashId, keyString, keyCode) {\n        if (keyCode < 0)\n            return;\n        var key = KEY_MODS[hashId] + keyString;\n        var command = this.commandKeyBinding[key];\n        if (data.$keyChain) {\n            data.$keyChain += \" \" + key;\n            command = this.commandKeyBinding[data.$keyChain] || command;\n        }\n        if (command) {\n            if (command == \"chainKeys\" || command[command.length - 1] == \"chainKeys\") {\n                data.$keyChain = data.$keyChain || key;\n                return { command: \"null\" };\n            }\n        }\n        if (data.$keyChain) {\n            if ((!hashId || hashId == 4) && keyString.length == 1)\n                data.$keyChain = data.$keyChain.slice(0, -key.length - 1); // wait for input\n            else if (hashId == -1 || keyCode > 0)\n                data.$keyChain = \"\"; // reset keyChain\n        }\n        return { command: command };\n    };\n    this.getStatusText = function (editor, data) {\n        return data.$keyChain || \"\";\n    };\n}).call(HashHandler.prototype);\nexports.HashHandler = HashHandler;\nexports.MultiHashHandler = MultiHashHandler;\n\n});\n\nace.define(\"ace/commands/command_manager\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/keyboard/hash_handler\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"../lib/oop\");\nvar MultiHashHandler = require(\"../keyboard/hash_handler\").MultiHashHandler;\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar CommandManager = function (platform, commands) {\n    MultiHashHandler.call(this, commands, platform);\n    this.byName = this.commands;\n    this.setDefaultHandler(\"exec\", function (e) {\n        if (!e.args) {\n            return e.command.exec(e.editor, {}, e.event, true);\n        }\n        return e.command.exec(e.editor, e.args, e.event, false);\n    });\n};\noop.inherits(CommandManager, MultiHashHandler);\n(function () {\n    oop.implement(this, EventEmitter);\n    this.exec = function (command, editor, args) {\n        if (Array.isArray(command)) {\n            for (var i = command.length; i--;) {\n                if (this.exec(command[i], editor, args))\n                    return true;\n            }\n            return false;\n        }\n        if (typeof command === \"string\")\n            command = this.commands[command];\n        if (!command)\n            return false;\n        if (editor && editor.$readOnly && !command.readOnly)\n            return false;\n        if (this.$checkCommandState != false && command.isAvailable && !command.isAvailable(editor))\n            return false;\n        var e = { editor: editor, command: command, args: args };\n        e.returnValue = this._emit(\"exec\", e);\n        this._signal(\"afterExec\", e);\n        return e.returnValue === false ? false : true;\n    };\n    this.toggleRecording = function (editor) {\n        if (this.$inReplay)\n            return;\n        editor && editor._emit(\"changeStatus\");\n        if (this.recording) {\n            this.macro.pop();\n            this.off(\"exec\", this.$addCommandToMacro);\n            if (!this.macro.length)\n                this.macro = this.oldMacro;\n            return this.recording = false;\n        }\n        if (!this.$addCommandToMacro) {\n            this.$addCommandToMacro = function (e) {\n                this.macro.push([e.command, e.args]);\n            }.bind(this);\n        }\n        this.oldMacro = this.macro;\n        this.macro = [];\n        this.on(\"exec\", this.$addCommandToMacro);\n        return this.recording = true;\n    };\n    this.replay = function (editor) {\n        if (this.$inReplay || !this.macro)\n            return;\n        if (this.recording)\n            return this.toggleRecording(editor);\n        try {\n            this.$inReplay = true;\n            this.macro.forEach(function (x) {\n                if (typeof x == \"string\")\n                    this.exec(x, editor);\n                else\n                    this.exec(x[0], editor, x[1]);\n            }, this);\n        }\n        finally {\n            this.$inReplay = false;\n        }\n    };\n    this.trimMacro = function (m) {\n        return m.map(function (x) {\n            if (typeof x[0] != \"string\")\n                x[0] = x[0].name;\n            if (!x[1])\n                x = x[0];\n            return x;\n        });\n    };\n}).call(CommandManager.prototype);\nexports.CommandManager = CommandManager;\n\n});\n\nace.define(\"ace/commands/default_commands\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/config\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar lang = require(\"../lib/lang\");\nvar config = require(\"../config\");\nvar Range = require(\"../range\").Range;\nfunction bindKey(win, mac) {\n    return { win: win, mac: mac };\n}\nexports.commands = [{\n        name: \"showSettingsMenu\",\n        description: \"Show settings menu\",\n        bindKey: bindKey(\"Ctrl-,\", \"Command-,\"),\n        exec: function (editor) {\n            config.loadModule(\"ace/ext/settings_menu\", function (module) {\n                module.init(editor);\n                editor.showSettingsMenu();\n            });\n        },\n        readOnly: true\n    }, {\n        name: \"goToNextError\",\n        description: \"Go to next error\",\n        bindKey: bindKey(\"Alt-E\", \"F4\"),\n        exec: function (editor) {\n            config.loadModule(\"./ext/error_marker\", function (module) {\n                module.showErrorMarker(editor, 1);\n            });\n        },\n        scrollIntoView: \"animate\",\n        readOnly: true\n    }, {\n        name: \"goToPreviousError\",\n        description: \"Go to previous error\",\n        bindKey: bindKey(\"Alt-Shift-E\", \"Shift-F4\"),\n        exec: function (editor) {\n            config.loadModule(\"./ext/error_marker\", function (module) {\n                module.showErrorMarker(editor, -1);\n            });\n        },\n        scrollIntoView: \"animate\",\n        readOnly: true\n    }, {\n        name: \"selectall\",\n        description: \"Select all\",\n        bindKey: bindKey(\"Ctrl-A\", \"Command-A\"),\n        exec: function (editor) { editor.selectAll(); },\n        readOnly: true\n    }, {\n        name: \"centerselection\",\n        description: \"Center selection\",\n        bindKey: bindKey(null, \"Ctrl-L\"),\n        exec: function (editor) { editor.centerSelection(); },\n        readOnly: true\n    }, {\n        name: \"gotoline\",\n        description: \"Go to line...\",\n        bindKey: bindKey(\"Ctrl-L\", \"Command-L\"),\n        exec: function (editor, line) {\n            if (typeof line === \"number\" && !isNaN(line))\n                editor.gotoLine(line);\n            editor.prompt({ $type: \"gotoLine\" });\n        },\n        readOnly: true\n    }, {\n        name: \"fold\",\n        bindKey: bindKey(\"Alt-L|Ctrl-F1\", \"Command-Alt-L|Command-F1\"),\n        exec: function (editor) { editor.session.toggleFold(false); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"unfold\",\n        bindKey: bindKey(\"Alt-Shift-L|Ctrl-Shift-F1\", \"Command-Alt-Shift-L|Command-Shift-F1\"),\n        exec: function (editor) { editor.session.toggleFold(true); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"toggleFoldWidget\",\n        description: \"Toggle fold widget\",\n        bindKey: bindKey(\"F2\", \"F2\"),\n        exec: function (editor) { editor.session.toggleFoldWidget(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"toggleParentFoldWidget\",\n        description: \"Toggle parent fold widget\",\n        bindKey: bindKey(\"Alt-F2\", \"Alt-F2\"),\n        exec: function (editor) { editor.session.toggleFoldWidget(true); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"foldall\",\n        description: \"Fold all\",\n        bindKey: bindKey(null, \"Ctrl-Command-Option-0\"),\n        exec: function (editor) { editor.session.foldAll(); },\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"foldAllComments\",\n        description: \"Fold all comments\",\n        bindKey: bindKey(null, \"Ctrl-Command-Option-0\"),\n        exec: function (editor) { editor.session.foldAllComments(); },\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"foldOther\",\n        description: \"Fold other\",\n        bindKey: bindKey(\"Alt-0\", \"Command-Option-0\"),\n        exec: function (editor) {\n            editor.session.foldAll();\n            editor.session.unfold(editor.selection.getAllRanges());\n        },\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"unfoldall\",\n        description: \"Unfold all\",\n        bindKey: bindKey(\"Alt-Shift-0\", \"Command-Option-Shift-0\"),\n        exec: function (editor) { editor.session.unfold(); },\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"findnext\",\n        description: \"Find next\",\n        bindKey: bindKey(\"Ctrl-K\", \"Command-G\"),\n        exec: function (editor) { editor.findNext(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"findprevious\",\n        description: \"Find previous\",\n        bindKey: bindKey(\"Ctrl-Shift-K\", \"Command-Shift-G\"),\n        exec: function (editor) { editor.findPrevious(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"selectOrFindNext\",\n        description: \"Select or find next\",\n        bindKey: bindKey(\"Alt-K\", \"Ctrl-G\"),\n        exec: function (editor) {\n            if (editor.selection.isEmpty())\n                editor.selection.selectWord();\n            else\n                editor.findNext();\n        },\n        readOnly: true\n    }, {\n        name: \"selectOrFindPrevious\",\n        description: \"Select or find previous\",\n        bindKey: bindKey(\"Alt-Shift-K\", \"Ctrl-Shift-G\"),\n        exec: function (editor) {\n            if (editor.selection.isEmpty())\n                editor.selection.selectWord();\n            else\n                editor.findPrevious();\n        },\n        readOnly: true\n    }, {\n        name: \"find\",\n        description: \"Find\",\n        bindKey: bindKey(\"Ctrl-F\", \"Command-F\"),\n        exec: function (editor) {\n            config.loadModule(\"ace/ext/searchbox\", function (e) { e.Search(editor); });\n        },\n        readOnly: true\n    }, {\n        name: \"overwrite\",\n        description: \"Overwrite\",\n        bindKey: \"Insert\",\n        exec: function (editor) { editor.toggleOverwrite(); },\n        readOnly: true\n    }, {\n        name: \"selecttostart\",\n        description: \"Select to start\",\n        bindKey: bindKey(\"Ctrl-Shift-Home\", \"Command-Shift-Home|Command-Shift-Up\"),\n        exec: function (editor) { editor.getSelection().selectFileStart(); },\n        multiSelectAction: \"forEach\",\n        readOnly: true,\n        scrollIntoView: \"animate\",\n        aceCommandGroup: \"fileJump\"\n    }, {\n        name: \"gotostart\",\n        description: \"Go to start\",\n        bindKey: bindKey(\"Ctrl-Home\", \"Command-Home|Command-Up\"),\n        exec: function (editor) { editor.navigateFileStart(); },\n        multiSelectAction: \"forEach\",\n        readOnly: true,\n        scrollIntoView: \"animate\",\n        aceCommandGroup: \"fileJump\"\n    }, {\n        name: \"selectup\",\n        description: \"Select up\",\n        bindKey: bindKey(\"Shift-Up\", \"Shift-Up|Ctrl-Shift-P\"),\n        exec: function (editor) { editor.getSelection().selectUp(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"golineup\",\n        description: \"Go line up\",\n        bindKey: bindKey(\"Up\", \"Up|Ctrl-P\"),\n        exec: function (editor, args) { editor.navigateUp(args.times); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selecttoend\",\n        description: \"Select to end\",\n        bindKey: bindKey(\"Ctrl-Shift-End\", \"Command-Shift-End|Command-Shift-Down\"),\n        exec: function (editor) { editor.getSelection().selectFileEnd(); },\n        multiSelectAction: \"forEach\",\n        readOnly: true,\n        scrollIntoView: \"animate\",\n        aceCommandGroup: \"fileJump\"\n    }, {\n        name: \"gotoend\",\n        description: \"Go to end\",\n        bindKey: bindKey(\"Ctrl-End\", \"Command-End|Command-Down\"),\n        exec: function (editor) { editor.navigateFileEnd(); },\n        multiSelectAction: \"forEach\",\n        readOnly: true,\n        scrollIntoView: \"animate\",\n        aceCommandGroup: \"fileJump\"\n    }, {\n        name: \"selectdown\",\n        description: \"Select down\",\n        bindKey: bindKey(\"Shift-Down\", \"Shift-Down|Ctrl-Shift-N\"),\n        exec: function (editor) { editor.getSelection().selectDown(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"golinedown\",\n        description: \"Go line down\",\n        bindKey: bindKey(\"Down\", \"Down|Ctrl-N\"),\n        exec: function (editor, args) { editor.navigateDown(args.times); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectwordleft\",\n        description: \"Select word left\",\n        bindKey: bindKey(\"Ctrl-Shift-Left\", \"Option-Shift-Left\"),\n        exec: function (editor) { editor.getSelection().selectWordLeft(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotowordleft\",\n        description: \"Go to word left\",\n        bindKey: bindKey(\"Ctrl-Left\", \"Option-Left\"),\n        exec: function (editor) { editor.navigateWordLeft(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selecttolinestart\",\n        description: \"Select to line start\",\n        bindKey: bindKey(\"Alt-Shift-Left\", \"Command-Shift-Left|Ctrl-Shift-A\"),\n        exec: function (editor) { editor.getSelection().selectLineStart(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotolinestart\",\n        description: \"Go to line start\",\n        bindKey: bindKey(\"Alt-Left|Home\", \"Command-Left|Home|Ctrl-A\"),\n        exec: function (editor) { editor.navigateLineStart(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectleft\",\n        description: \"Select left\",\n        bindKey: bindKey(\"Shift-Left\", \"Shift-Left|Ctrl-Shift-B\"),\n        exec: function (editor) { editor.getSelection().selectLeft(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotoleft\",\n        description: \"Go to left\",\n        bindKey: bindKey(\"Left\", \"Left|Ctrl-B\"),\n        exec: function (editor, args) { editor.navigateLeft(args.times); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectwordright\",\n        description: \"Select word right\",\n        bindKey: bindKey(\"Ctrl-Shift-Right\", \"Option-Shift-Right\"),\n        exec: function (editor) { editor.getSelection().selectWordRight(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotowordright\",\n        description: \"Go to word right\",\n        bindKey: bindKey(\"Ctrl-Right\", \"Option-Right\"),\n        exec: function (editor) { editor.navigateWordRight(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selecttolineend\",\n        description: \"Select to line end\",\n        bindKey: bindKey(\"Alt-Shift-Right\", \"Command-Shift-Right|Shift-End|Ctrl-Shift-E\"),\n        exec: function (editor) { editor.getSelection().selectLineEnd(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotolineend\",\n        description: \"Go to line end\",\n        bindKey: bindKey(\"Alt-Right|End\", \"Command-Right|End|Ctrl-E\"),\n        exec: function (editor) { editor.navigateLineEnd(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectright\",\n        description: \"Select right\",\n        bindKey: bindKey(\"Shift-Right\", \"Shift-Right\"),\n        exec: function (editor) { editor.getSelection().selectRight(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotoright\",\n        description: \"Go to right\",\n        bindKey: bindKey(\"Right\", \"Right|Ctrl-F\"),\n        exec: function (editor, args) { editor.navigateRight(args.times); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectpagedown\",\n        description: \"Select page down\",\n        bindKey: \"Shift-PageDown\",\n        exec: function (editor) { editor.selectPageDown(); },\n        readOnly: true\n    }, {\n        name: \"pagedown\",\n        description: \"Page down\",\n        bindKey: bindKey(null, \"Option-PageDown\"),\n        exec: function (editor) { editor.scrollPageDown(); },\n        readOnly: true\n    }, {\n        name: \"gotopagedown\",\n        description: \"Go to page down\",\n        bindKey: bindKey(\"PageDown\", \"PageDown|Ctrl-V\"),\n        exec: function (editor) { editor.gotoPageDown(); },\n        readOnly: true\n    }, {\n        name: \"selectpageup\",\n        description: \"Select page up\",\n        bindKey: \"Shift-PageUp\",\n        exec: function (editor) { editor.selectPageUp(); },\n        readOnly: true\n    }, {\n        name: \"pageup\",\n        description: \"Page up\",\n        bindKey: bindKey(null, \"Option-PageUp\"),\n        exec: function (editor) { editor.scrollPageUp(); },\n        readOnly: true\n    }, {\n        name: \"gotopageup\",\n        description: \"Go to page up\",\n        bindKey: \"PageUp\",\n        exec: function (editor) { editor.gotoPageUp(); },\n        readOnly: true\n    }, {\n        name: \"scrollup\",\n        description: \"Scroll up\",\n        bindKey: bindKey(\"Ctrl-Up\", null),\n        exec: function (e) { e.renderer.scrollBy(0, -2 * e.renderer.layerConfig.lineHeight); },\n        readOnly: true\n    }, {\n        name: \"scrolldown\",\n        description: \"Scroll down\",\n        bindKey: bindKey(\"Ctrl-Down\", null),\n        exec: function (e) { e.renderer.scrollBy(0, 2 * e.renderer.layerConfig.lineHeight); },\n        readOnly: true\n    }, {\n        name: \"selectlinestart\",\n        description: \"Select line start\",\n        bindKey: \"Shift-Home\",\n        exec: function (editor) { editor.getSelection().selectLineStart(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectlineend\",\n        description: \"Select line end\",\n        bindKey: \"Shift-End\",\n        exec: function (editor) { editor.getSelection().selectLineEnd(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"togglerecording\",\n        description: \"Toggle recording\",\n        bindKey: bindKey(\"Ctrl-Alt-E\", \"Command-Option-E\"),\n        exec: function (editor) { editor.commands.toggleRecording(editor); },\n        readOnly: true\n    }, {\n        name: \"replaymacro\",\n        description: \"Replay macro\",\n        bindKey: bindKey(\"Ctrl-Shift-E\", \"Command-Shift-E\"),\n        exec: function (editor) { editor.commands.replay(editor); },\n        readOnly: true\n    }, {\n        name: \"jumptomatching\",\n        description: \"Jump to matching\",\n        bindKey: bindKey(\"Ctrl-\\\\|Ctrl-P\", \"Command-\\\\\"),\n        exec: function (editor) { editor.jumpToMatching(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"animate\",\n        readOnly: true\n    }, {\n        name: \"selecttomatching\",\n        description: \"Select to matching\",\n        bindKey: bindKey(\"Ctrl-Shift-\\\\|Ctrl-Shift-P\", \"Command-Shift-\\\\\"),\n        exec: function (editor) { editor.jumpToMatching(true); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"animate\",\n        readOnly: true\n    }, {\n        name: \"expandToMatching\",\n        description: \"Expand to matching\",\n        bindKey: bindKey(\"Ctrl-Shift-M\", \"Ctrl-Shift-M\"),\n        exec: function (editor) { editor.jumpToMatching(true, true); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"animate\",\n        readOnly: true\n    }, {\n        name: \"passKeysToBrowser\",\n        description: \"Pass keys to browser\",\n        bindKey: bindKey(null, null),\n        exec: function () { },\n        passEvent: true,\n        readOnly: true\n    }, {\n        name: \"copy\",\n        description: \"Copy\",\n        exec: function (editor) {\n        },\n        readOnly: true\n    },\n    {\n        name: \"cut\",\n        description: \"Cut\",\n        exec: function (editor) {\n            var cutLine = editor.$copyWithEmptySelection && editor.selection.isEmpty();\n            var range = cutLine ? editor.selection.getLineRange() : editor.selection.getRange();\n            editor._emit(\"cut\", range);\n            if (!range.isEmpty())\n                editor.session.remove(range);\n            editor.clearSelection();\n        },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEach\"\n    }, {\n        name: \"paste\",\n        description: \"Paste\",\n        exec: function (editor, args) {\n            editor.$handlePaste(args);\n        },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removeline\",\n        description: \"Remove line\",\n        bindKey: bindKey(\"Ctrl-D\", \"Command-D\"),\n        exec: function (editor) { editor.removeLines(); },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEachLine\"\n    }, {\n        name: \"duplicateSelection\",\n        description: \"Duplicate selection\",\n        bindKey: bindKey(\"Ctrl-Shift-D\", \"Command-Shift-D\"),\n        exec: function (editor) { editor.duplicateSelection(); },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEach\"\n    }, {\n        name: \"sortlines\",\n        description: \"Sort lines\",\n        bindKey: bindKey(\"Ctrl-Alt-S\", \"Command-Alt-S\"),\n        exec: function (editor) { editor.sortLines(); },\n        scrollIntoView: \"selection\",\n        multiSelectAction: \"forEachLine\"\n    }, {\n        name: \"togglecomment\",\n        description: \"Toggle comment\",\n        bindKey: bindKey(\"Ctrl-/\", \"Command-/\"),\n        exec: function (editor) { editor.toggleCommentLines(); },\n        multiSelectAction: \"forEachLine\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"toggleBlockComment\",\n        description: \"Toggle block comment\",\n        bindKey: bindKey(\"Ctrl-Shift-/\", \"Command-Shift-/\"),\n        exec: function (editor) { editor.toggleBlockComment(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"modifyNumberUp\",\n        description: \"Modify number up\",\n        bindKey: bindKey(\"Ctrl-Shift-Up\", \"Alt-Shift-Up\"),\n        exec: function (editor) { editor.modifyNumber(1); },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEach\"\n    }, {\n        name: \"modifyNumberDown\",\n        description: \"Modify number down\",\n        bindKey: bindKey(\"Ctrl-Shift-Down\", \"Alt-Shift-Down\"),\n        exec: function (editor) { editor.modifyNumber(-1); },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEach\"\n    }, {\n        name: \"replace\",\n        description: \"Replace\",\n        bindKey: bindKey(\"Ctrl-H\", \"Command-Option-F\"),\n        exec: function (editor) {\n            config.loadModule(\"ace/ext/searchbox\", function (e) { e.Search(editor, true); });\n        }\n    }, {\n        name: \"undo\",\n        description: \"Undo\",\n        bindKey: bindKey(\"Ctrl-Z\", \"Command-Z\"),\n        exec: function (editor) { editor.undo(); }\n    }, {\n        name: \"redo\",\n        description: \"Redo\",\n        bindKey: bindKey(\"Ctrl-Shift-Z|Ctrl-Y\", \"Command-Shift-Z|Command-Y\"),\n        exec: function (editor) { editor.redo(); }\n    }, {\n        name: \"copylinesup\",\n        description: \"Copy lines up\",\n        bindKey: bindKey(\"Alt-Shift-Up\", \"Command-Option-Up\"),\n        exec: function (editor) { editor.copyLinesUp(); },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"movelinesup\",\n        description: \"Move lines up\",\n        bindKey: bindKey(\"Alt-Up\", \"Option-Up\"),\n        exec: function (editor) { editor.moveLinesUp(); },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"copylinesdown\",\n        description: \"Copy lines down\",\n        bindKey: bindKey(\"Alt-Shift-Down\", \"Command-Option-Down\"),\n        exec: function (editor) { editor.copyLinesDown(); },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"movelinesdown\",\n        description: \"Move lines down\",\n        bindKey: bindKey(\"Alt-Down\", \"Option-Down\"),\n        exec: function (editor) { editor.moveLinesDown(); },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"del\",\n        description: \"Delete\",\n        bindKey: bindKey(\"Delete\", \"Delete|Ctrl-D|Shift-Delete\"),\n        exec: function (editor) { editor.remove(\"right\"); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"backspace\",\n        description: \"Backspace\",\n        bindKey: bindKey(\"Shift-Backspace|Backspace\", \"Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H\"),\n        exec: function (editor) { editor.remove(\"left\"); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"cut_or_delete\",\n        description: \"Cut or delete\",\n        bindKey: bindKey(\"Shift-Delete\", null),\n        exec: function (editor) {\n            if (editor.selection.isEmpty()) {\n                editor.remove(\"left\");\n            }\n            else {\n                return false;\n            }\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removetolinestart\",\n        description: \"Remove to line start\",\n        bindKey: bindKey(\"Alt-Backspace\", \"Command-Backspace\"),\n        exec: function (editor) { editor.removeToLineStart(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removetolineend\",\n        description: \"Remove to line end\",\n        bindKey: bindKey(\"Alt-Delete\", \"Ctrl-K|Command-Delete\"),\n        exec: function (editor) { editor.removeToLineEnd(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removetolinestarthard\",\n        description: \"Remove to line start hard\",\n        bindKey: bindKey(\"Ctrl-Shift-Backspace\", null),\n        exec: function (editor) {\n            var range = editor.selection.getRange();\n            range.start.column = 0;\n            editor.session.remove(range);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removetolineendhard\",\n        description: \"Remove to line end hard\",\n        bindKey: bindKey(\"Ctrl-Shift-Delete\", null),\n        exec: function (editor) {\n            var range = editor.selection.getRange();\n            range.end.column = Number.MAX_VALUE;\n            editor.session.remove(range);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removewordleft\",\n        description: \"Remove word left\",\n        bindKey: bindKey(\"Ctrl-Backspace\", \"Alt-Backspace|Ctrl-Alt-Backspace\"),\n        exec: function (editor) { editor.removeWordLeft(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removewordright\",\n        description: \"Remove word right\",\n        bindKey: bindKey(\"Ctrl-Delete\", \"Alt-Delete\"),\n        exec: function (editor) { editor.removeWordRight(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"outdent\",\n        description: \"Outdent\",\n        bindKey: bindKey(\"Shift-Tab\", \"Shift-Tab\"),\n        exec: function (editor) { editor.blockOutdent(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"indent\",\n        description: \"Indent\",\n        bindKey: bindKey(\"Tab\", \"Tab\"),\n        exec: function (editor) { editor.indent(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"blockoutdent\",\n        description: \"Block outdent\",\n        bindKey: bindKey(\"Ctrl-[\", \"Ctrl-[\"),\n        exec: function (editor) { editor.blockOutdent(); },\n        multiSelectAction: \"forEachLine\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"blockindent\",\n        description: \"Block indent\",\n        bindKey: bindKey(\"Ctrl-]\", \"Ctrl-]\"),\n        exec: function (editor) { editor.blockIndent(); },\n        multiSelectAction: \"forEachLine\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"insertstring\",\n        description: \"Insert string\",\n        exec: function (editor, str) { editor.insert(str); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"inserttext\",\n        description: \"Insert text\",\n        exec: function (editor, args) {\n            editor.insert(lang.stringRepeat(args.text || \"\", args.times || 1));\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"splitline\",\n        description: \"Split line\",\n        bindKey: bindKey(null, \"Ctrl-O\"),\n        exec: function (editor) { editor.splitLine(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"transposeletters\",\n        description: \"Transpose letters\",\n        bindKey: bindKey(\"Alt-Shift-X\", \"Ctrl-T\"),\n        exec: function (editor) { editor.transposeLetters(); },\n        multiSelectAction: function (editor) { editor.transposeSelections(1); },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"touppercase\",\n        description: \"To uppercase\",\n        bindKey: bindKey(\"Ctrl-U\", \"Ctrl-U\"),\n        exec: function (editor) { editor.toUpperCase(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"tolowercase\",\n        description: \"To lowercase\",\n        bindKey: bindKey(\"Ctrl-Shift-U\", \"Ctrl-Shift-U\"),\n        exec: function (editor) { editor.toLowerCase(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"autoindent\",\n        description: \"Auto Indent\",\n        bindKey: bindKey(null, null),\n        exec: function (editor) { editor.autoIndent(); },\n        multiSelectAction: \"forEachLine\",\n        scrollIntoView: \"animate\"\n    }, {\n        name: \"expandtoline\",\n        description: \"Expand to line\",\n        bindKey: bindKey(\"Ctrl-Shift-L\", \"Command-Shift-L\"),\n        exec: function (editor) {\n            var range = editor.selection.getRange();\n            range.start.column = range.end.column = 0;\n            range.end.row++;\n            editor.selection.setRange(range, false);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"openlink\",\n        bindKey: bindKey(\"Ctrl+F3\", \"F3\"),\n        exec: function (editor) { editor.openLink(); }\n    }, {\n        name: \"joinlines\",\n        description: \"Join lines\",\n        bindKey: bindKey(null, null),\n        exec: function (editor) {\n            var isBackwards = editor.selection.isBackwards();\n            var selectionStart = isBackwards ? editor.selection.getSelectionLead() : editor.selection.getSelectionAnchor();\n            var selectionEnd = isBackwards ? editor.selection.getSelectionAnchor() : editor.selection.getSelectionLead();\n            var firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length;\n            var selectedText = editor.session.doc.getTextRange(editor.selection.getRange());\n            var selectedCount = selectedText.replace(/\\n\\s*/, \" \").length;\n            var insertLine = editor.session.doc.getLine(selectionStart.row);\n            for (var i = selectionStart.row + 1; i <= selectionEnd.row + 1; i++) {\n                var curLine = lang.stringTrimLeft(lang.stringTrimRight(editor.session.doc.getLine(i)));\n                if (curLine.length !== 0) {\n                    curLine = \" \" + curLine;\n                }\n                insertLine += curLine;\n            }\n            if (selectionEnd.row + 1 < (editor.session.doc.getLength() - 1)) {\n                insertLine += editor.session.doc.getNewLineCharacter();\n            }\n            editor.clearSelection();\n            editor.session.doc.replace(new Range(selectionStart.row, 0, selectionEnd.row + 2, 0), insertLine);\n            if (selectedCount > 0) {\n                editor.selection.moveCursorTo(selectionStart.row, selectionStart.column);\n                editor.selection.selectTo(selectionStart.row, selectionStart.column + selectedCount);\n            }\n            else {\n                firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length > firstLineEndCol ? (firstLineEndCol + 1) : firstLineEndCol;\n                editor.selection.moveCursorTo(selectionStart.row, firstLineEndCol);\n            }\n        },\n        multiSelectAction: \"forEach\",\n        readOnly: true\n    }, {\n        name: \"invertSelection\",\n        description: \"Invert selection\",\n        bindKey: bindKey(null, null),\n        exec: function (editor) {\n            var endRow = editor.session.doc.getLength() - 1;\n            var endCol = editor.session.doc.getLine(endRow).length;\n            var ranges = editor.selection.rangeList.ranges;\n            var newRanges = [];\n            if (ranges.length < 1) {\n                ranges = [editor.selection.getRange()];\n            }\n            for (var i = 0; i < ranges.length; i++) {\n                if (i == (ranges.length - 1)) {\n                    if (!(ranges[i].end.row === endRow && ranges[i].end.column === endCol)) {\n                        newRanges.push(new Range(ranges[i].end.row, ranges[i].end.column, endRow, endCol));\n                    }\n                }\n                if (i === 0) {\n                    if (!(ranges[i].start.row === 0 && ranges[i].start.column === 0)) {\n                        newRanges.push(new Range(0, 0, ranges[i].start.row, ranges[i].start.column));\n                    }\n                }\n                else {\n                    newRanges.push(new Range(ranges[i - 1].end.row, ranges[i - 1].end.column, ranges[i].start.row, ranges[i].start.column));\n                }\n            }\n            editor.exitMultiSelectMode();\n            editor.clearSelection();\n            for (var i = 0; i < newRanges.length; i++) {\n                editor.selection.addRange(newRanges[i], false);\n            }\n        },\n        readOnly: true,\n        scrollIntoView: \"none\"\n    }, {\n        name: \"addLineAfter\",\n        description: \"Add new line after the current line\",\n        exec: function (editor) {\n            editor.selection.clearSelection();\n            editor.navigateLineEnd();\n            editor.insert(\"\\n\");\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"addLineBefore\",\n        description: \"Add new line before the current line\",\n        exec: function (editor) {\n            editor.selection.clearSelection();\n            var cursor = editor.getCursorPosition();\n            editor.selection.moveTo(cursor.row - 1, Number.MAX_VALUE);\n            editor.insert(\"\\n\");\n            if (cursor.row === 0)\n                editor.navigateUp();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"openCommandPallete\",\n        description: \"Open command palette\",\n        bindKey: bindKey(\"F1\", \"F1\"),\n        exec: function (editor) {\n            editor.prompt({ $type: \"commands\" });\n        },\n        readOnly: true\n    }, {\n        name: \"modeSelect\",\n        description: \"Change language mode...\",\n        bindKey: bindKey(null, null),\n        exec: function (editor) {\n            editor.prompt({ $type: \"modes\" });\n        },\n        readOnly: true\n    }];\nfor (var i = 1; i < 9; i++) {\n    exports.commands.push({\n        name: \"foldToLevel\" + i,\n        description: \"Fold To Level \" + i,\n        level: i,\n        exec: function (editor) { editor.session.foldToLevel(this.level); },\n        scrollIntoView: \"center\",\n        readOnly: true\n    });\n}\n\n});\n\nace.define(\"ace/editor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/useragent\",\"ace/keyboard/textinput\",\"ace/mouse/mouse_handler\",\"ace/mouse/fold_handler\",\"ace/keyboard/keybinding\",\"ace/edit_session\",\"ace/search\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/commands/command_manager\",\"ace/commands/default_commands\",\"ace/config\",\"ace/token_iterator\",\"ace/clipboard\"], function(require, exports, module){\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar lang = require(\"./lib/lang\");\nvar useragent = require(\"./lib/useragent\");\nvar TextInput = require(\"./keyboard/textinput\").TextInput;\nvar MouseHandler = require(\"./mouse/mouse_handler\").MouseHandler;\nvar FoldHandler = require(\"./mouse/fold_handler\").FoldHandler;\nvar KeyBinding = require(\"./keyboard/keybinding\").KeyBinding;\nvar EditSession = require(\"./edit_session\").EditSession;\nvar Search = require(\"./search\").Search;\nvar Range = require(\"./range\").Range;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar CommandManager = require(\"./commands/command_manager\").CommandManager;\nvar defaultCommands = require(\"./commands/default_commands\").commands;\nvar config = require(\"./config\");\nvar TokenIterator = require(\"./token_iterator\").TokenIterator;\nvar clipboard = require(\"./clipboard\");\nvar Editor = function (renderer, session, options) {\n    this.$toDestroy = [];\n    var container = renderer.getContainerElement();\n    this.container = container;\n    this.renderer = renderer;\n    this.id = \"editor\" + (++Editor.$uid);\n    this.commands = new CommandManager(useragent.isMac ? \"mac\" : \"win\", defaultCommands);\n    if (typeof document == \"object\") {\n        this.textInput = new TextInput(renderer.getTextAreaContainer(), this);\n        this.renderer.textarea = this.textInput.getElement();\n        this.$mouseHandler = new MouseHandler(this);\n        new FoldHandler(this);\n    }\n    this.keyBinding = new KeyBinding(this);\n    this.$search = new Search().set({\n        wrap: true\n    });\n    this.$historyTracker = this.$historyTracker.bind(this);\n    this.commands.on(\"exec\", this.$historyTracker);\n    this.$initOperationListeners();\n    this._$emitInputEvent = lang.delayedCall(function () {\n        this._signal(\"input\", {});\n        if (this.session && !this.session.destroyed)\n            this.session.bgTokenizer.scheduleStart();\n    }.bind(this));\n    this.on(\"change\", function (_, _self) {\n        _self._$emitInputEvent.schedule(31);\n    });\n    this.setSession(session || options && options.session || new EditSession(\"\"));\n    config.resetOptions(this);\n    if (options)\n        this.setOptions(options);\n    config._signal(\"editor\", this);\n};\nEditor.$uid = 0;\n(function () {\n    oop.implement(this, EventEmitter);\n    this.$initOperationListeners = function () {\n        this.commands.on(\"exec\", this.startOperation.bind(this), true);\n        this.commands.on(\"afterExec\", this.endOperation.bind(this), true);\n        this.$opResetTimer = lang.delayedCall(this.endOperation.bind(this, true));\n        this.on(\"change\", function () {\n            if (!this.curOp) {\n                this.startOperation();\n                this.curOp.selectionBefore = this.$lastSel;\n            }\n            this.curOp.docChanged = true;\n        }.bind(this), true);\n        this.on(\"changeSelection\", function () {\n            if (!this.curOp) {\n                this.startOperation();\n                this.curOp.selectionBefore = this.$lastSel;\n            }\n            this.curOp.selectionChanged = true;\n        }.bind(this), true);\n    };\n    this.curOp = null;\n    this.prevOp = {};\n    this.startOperation = function (commandEvent) {\n        if (this.curOp) {\n            if (!commandEvent || this.curOp.command)\n                return;\n            this.prevOp = this.curOp;\n        }\n        if (!commandEvent) {\n            this.previousCommand = null;\n            commandEvent = {};\n        }\n        this.$opResetTimer.schedule();\n        this.curOp = this.session.curOp = {\n            command: commandEvent.command || {},\n            args: commandEvent.args,\n            scrollTop: this.renderer.scrollTop\n        };\n        this.curOp.selectionBefore = this.selection.toJSON();\n    };\n    this.endOperation = function (e) {\n        if (this.curOp && this.session) {\n            if (e && e.returnValue === false || !this.session)\n                return (this.curOp = null);\n            if (e == true && this.curOp.command && this.curOp.command.name == \"mouse\")\n                return;\n            this._signal(\"beforeEndOperation\");\n            if (!this.curOp)\n                return;\n            var command = this.curOp.command;\n            var scrollIntoView = command && command.scrollIntoView;\n            if (scrollIntoView) {\n                switch (scrollIntoView) {\n                    case \"center-animate\":\n                        scrollIntoView = \"animate\";\n                    case \"center\":\n                        this.renderer.scrollCursorIntoView(null, 0.5);\n                        break;\n                    case \"animate\":\n                    case \"cursor\":\n                        this.renderer.scrollCursorIntoView();\n                        break;\n                    case \"selectionPart\":\n                        var range = this.selection.getRange();\n                        var config = this.renderer.layerConfig;\n                        if (range.start.row >= config.lastRow || range.end.row <= config.firstRow) {\n                            this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead);\n                        }\n                        break;\n                    default:\n                        break;\n                }\n                if (scrollIntoView == \"animate\")\n                    this.renderer.animateScrolling(this.curOp.scrollTop);\n            }\n            var sel = this.selection.toJSON();\n            this.curOp.selectionAfter = sel;\n            this.$lastSel = this.selection.toJSON();\n            this.session.getUndoManager().addSelection(sel);\n            this.prevOp = this.curOp;\n            this.curOp = null;\n        }\n    };\n    this.$mergeableCommands = [\"backspace\", \"del\", \"insertstring\"];\n    this.$historyTracker = function (e) {\n        if (!this.$mergeUndoDeltas)\n            return;\n        var prev = this.prevOp;\n        var mergeableCommands = this.$mergeableCommands;\n        var shouldMerge = prev.command && (e.command.name == prev.command.name);\n        if (e.command.name == \"insertstring\") {\n            var text = e.args;\n            if (this.mergeNextCommand === undefined)\n                this.mergeNextCommand = true;\n            shouldMerge = shouldMerge\n                && this.mergeNextCommand // previous command allows to coalesce with\n                && (!/\\s/.test(text) || /\\s/.test(prev.args)); // previous insertion was of same type\n            this.mergeNextCommand = true;\n        }\n        else {\n            shouldMerge = shouldMerge\n                && mergeableCommands.indexOf(e.command.name) !== -1; // the command is mergeable\n        }\n        if (this.$mergeUndoDeltas != \"always\"\n            && Date.now() - this.sequenceStartTime > 2000) {\n            shouldMerge = false; // the sequence is too long\n        }\n        if (shouldMerge)\n            this.session.mergeUndoDeltas = true;\n        else if (mergeableCommands.indexOf(e.command.name) !== -1)\n            this.sequenceStartTime = Date.now();\n    };\n    this.setKeyboardHandler = function (keyboardHandler, cb) {\n        if (keyboardHandler && typeof keyboardHandler === \"string\" && keyboardHandler != \"ace\") {\n            this.$keybindingId = keyboardHandler;\n            var _self = this;\n            config.loadModule([\"keybinding\", keyboardHandler], function (module) {\n                if (_self.$keybindingId == keyboardHandler)\n                    _self.keyBinding.setKeyboardHandler(module && module.handler);\n                cb && cb();\n            });\n        }\n        else {\n            this.$keybindingId = null;\n            this.keyBinding.setKeyboardHandler(keyboardHandler);\n            cb && cb();\n        }\n    };\n    this.getKeyboardHandler = function () {\n        return this.keyBinding.getKeyboardHandler();\n    };\n    this.setSession = function (session) {\n        if (this.session == session)\n            return;\n        if (this.curOp)\n            this.endOperation();\n        this.curOp = {};\n        var oldSession = this.session;\n        if (oldSession) {\n            this.session.off(\"change\", this.$onDocumentChange);\n            this.session.off(\"changeMode\", this.$onChangeMode);\n            this.session.off(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n            this.session.off(\"changeTabSize\", this.$onChangeTabSize);\n            this.session.off(\"changeWrapLimit\", this.$onChangeWrapLimit);\n            this.session.off(\"changeWrapMode\", this.$onChangeWrapMode);\n            this.session.off(\"changeFold\", this.$onChangeFold);\n            this.session.off(\"changeFrontMarker\", this.$onChangeFrontMarker);\n            this.session.off(\"changeBackMarker\", this.$onChangeBackMarker);\n            this.session.off(\"changeBreakpoint\", this.$onChangeBreakpoint);\n            this.session.off(\"changeAnnotation\", this.$onChangeAnnotation);\n            this.session.off(\"changeOverwrite\", this.$onCursorChange);\n            this.session.off(\"changeScrollTop\", this.$onScrollTopChange);\n            this.session.off(\"changeScrollLeft\", this.$onScrollLeftChange);\n            var selection = this.session.getSelection();\n            selection.off(\"changeCursor\", this.$onCursorChange);\n            selection.off(\"changeSelection\", this.$onSelectionChange);\n        }\n        this.session = session;\n        if (session) {\n            this.$onDocumentChange = this.onDocumentChange.bind(this);\n            session.on(\"change\", this.$onDocumentChange);\n            this.renderer.setSession(session);\n            this.$onChangeMode = this.onChangeMode.bind(this);\n            session.on(\"changeMode\", this.$onChangeMode);\n            this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this);\n            session.on(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n            this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer);\n            session.on(\"changeTabSize\", this.$onChangeTabSize);\n            this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this);\n            session.on(\"changeWrapLimit\", this.$onChangeWrapLimit);\n            this.$onChangeWrapMode = this.onChangeWrapMode.bind(this);\n            session.on(\"changeWrapMode\", this.$onChangeWrapMode);\n            this.$onChangeFold = this.onChangeFold.bind(this);\n            session.on(\"changeFold\", this.$onChangeFold);\n            this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this);\n            this.session.on(\"changeFrontMarker\", this.$onChangeFrontMarker);\n            this.$onChangeBackMarker = this.onChangeBackMarker.bind(this);\n            this.session.on(\"changeBackMarker\", this.$onChangeBackMarker);\n            this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this);\n            this.session.on(\"changeBreakpoint\", this.$onChangeBreakpoint);\n            this.$onChangeAnnotation = this.onChangeAnnotation.bind(this);\n            this.session.on(\"changeAnnotation\", this.$onChangeAnnotation);\n            this.$onCursorChange = this.onCursorChange.bind(this);\n            this.session.on(\"changeOverwrite\", this.$onCursorChange);\n            this.$onScrollTopChange = this.onScrollTopChange.bind(this);\n            this.session.on(\"changeScrollTop\", this.$onScrollTopChange);\n            this.$onScrollLeftChange = this.onScrollLeftChange.bind(this);\n            this.session.on(\"changeScrollLeft\", this.$onScrollLeftChange);\n            this.selection = session.getSelection();\n            this.selection.on(\"changeCursor\", this.$onCursorChange);\n            this.$onSelectionChange = this.onSelectionChange.bind(this);\n            this.selection.on(\"changeSelection\", this.$onSelectionChange);\n            this.onChangeMode();\n            this.onCursorChange();\n            this.onScrollTopChange();\n            this.onScrollLeftChange();\n            this.onSelectionChange();\n            this.onChangeFrontMarker();\n            this.onChangeBackMarker();\n            this.onChangeBreakpoint();\n            this.onChangeAnnotation();\n            this.session.getUseWrapMode() && this.renderer.adjustWrapLimit();\n            this.renderer.updateFull();\n        }\n        else {\n            this.selection = null;\n            this.renderer.setSession(session);\n        }\n        this._signal(\"changeSession\", {\n            session: session,\n            oldSession: oldSession\n        });\n        this.curOp = null;\n        oldSession && oldSession._signal(\"changeEditor\", { oldEditor: this });\n        session && session._signal(\"changeEditor\", { editor: this });\n        if (session && !session.destroyed)\n            session.bgTokenizer.scheduleStart();\n    };\n    this.getSession = function () {\n        return this.session;\n    };\n    this.setValue = function (val, cursorPos) {\n        this.session.doc.setValue(val);\n        if (!cursorPos)\n            this.selectAll();\n        else if (cursorPos == 1)\n            this.navigateFileEnd();\n        else if (cursorPos == -1)\n            this.navigateFileStart();\n        return val;\n    };\n    this.getValue = function () {\n        return this.session.getValue();\n    };\n    this.getSelection = function () {\n        return this.selection;\n    };\n    this.resize = function (force) {\n        this.renderer.onResize(force);\n    };\n    this.setTheme = function (theme, cb) {\n        this.renderer.setTheme(theme, cb);\n    };\n    this.getTheme = function () {\n        return this.renderer.getTheme();\n    };\n    this.setStyle = function (style) {\n        this.renderer.setStyle(style);\n    };\n    this.unsetStyle = function (style) {\n        this.renderer.unsetStyle(style);\n    };\n    this.getFontSize = function () {\n        return this.getOption(\"fontSize\") ||\n            dom.computedStyle(this.container).fontSize;\n    };\n    this.setFontSize = function (size) {\n        this.setOption(\"fontSize\", size);\n    };\n    this.$highlightBrackets = function () {\n        if (this.$highlightPending) {\n            return;\n        }\n        var self = this;\n        this.$highlightPending = true;\n        setTimeout(function () {\n            self.$highlightPending = false;\n            var session = self.session;\n            if (!session || session.destroyed)\n                return;\n            if (session.$bracketHighlight) {\n                session.$bracketHighlight.markerIds.forEach(function (id) {\n                    session.removeMarker(id);\n                });\n                session.$bracketHighlight = null;\n            }\n            var pos = self.getCursorPosition();\n            var handler = self.getKeyboardHandler();\n            var isBackwards = handler && handler.$getDirectionForHighlight && handler.$getDirectionForHighlight(self);\n            var ranges = session.getMatchingBracketRanges(pos, isBackwards);\n            if (!ranges) {\n                var iterator = new TokenIterator(session, pos.row, pos.column);\n                var token = iterator.getCurrentToken();\n                if (token && /\\b(?:tag-open|tag-name)/.test(token.type)) {\n                    var tagNamesRanges = session.getMatchingTags(pos);\n                    if (tagNamesRanges)\n                        ranges = [tagNamesRanges.openTagName, tagNamesRanges.closeTagName];\n                }\n            }\n            if (!ranges && session.$mode.getMatching)\n                ranges = session.$mode.getMatching(self.session);\n            if (!ranges) {\n                if (self.getHighlightIndentGuides())\n                    self.renderer.$textLayer.$highlightIndentGuide();\n                return;\n            }\n            var markerType = \"ace_bracket\";\n            if (!Array.isArray(ranges)) {\n                ranges = [ranges];\n            }\n            else if (ranges.length == 1) {\n                markerType = \"ace_error_bracket\";\n            }\n            if (ranges.length == 2) {\n                if (Range.comparePoints(ranges[0].end, ranges[1].start) == 0)\n                    ranges = [Range.fromPoints(ranges[0].start, ranges[1].end)];\n                else if (Range.comparePoints(ranges[0].start, ranges[1].end) == 0)\n                    ranges = [Range.fromPoints(ranges[1].start, ranges[0].end)];\n            }\n            session.$bracketHighlight = {\n                ranges: ranges,\n                markerIds: ranges.map(function (range) {\n                    return session.addMarker(range, markerType, \"text\");\n                })\n            };\n            if (self.getHighlightIndentGuides())\n                self.renderer.$textLayer.$highlightIndentGuide();\n        }, 50);\n    };\n    this.focus = function () {\n        this.textInput.focus();\n    };\n    this.isFocused = function () {\n        return this.textInput.isFocused();\n    };\n    this.blur = function () {\n        this.textInput.blur();\n    };\n    this.onFocus = function (e) {\n        if (this.$isFocused)\n            return;\n        this.$isFocused = true;\n        this.renderer.showCursor();\n        this.renderer.visualizeFocus();\n        this._emit(\"focus\", e);\n    };\n    this.onBlur = function (e) {\n        if (!this.$isFocused)\n            return;\n        this.$isFocused = false;\n        this.renderer.hideCursor();\n        this.renderer.visualizeBlur();\n        this._emit(\"blur\", e);\n    };\n    this.$cursorChange = function () {\n        this.renderer.updateCursor();\n        this.$highlightBrackets();\n        this.$updateHighlightActiveLine();\n    };\n    this.onDocumentChange = function (delta) {\n        var wrap = this.session.$useWrapMode;\n        var lastRow = (delta.start.row == delta.end.row ? delta.end.row : Infinity);\n        this.renderer.updateLines(delta.start.row, lastRow, wrap);\n        this._signal(\"change\", delta);\n        this.$cursorChange();\n    };\n    this.onTokenizerUpdate = function (e) {\n        var rows = e.data;\n        this.renderer.updateLines(rows.first, rows.last);\n    };\n    this.onScrollTopChange = function () {\n        this.renderer.scrollToY(this.session.getScrollTop());\n    };\n    this.onScrollLeftChange = function () {\n        this.renderer.scrollToX(this.session.getScrollLeft());\n    };\n    this.onCursorChange = function () {\n        this.$cursorChange();\n        this._signal(\"changeSelection\");\n    };\n    this.$updateHighlightActiveLine = function () {\n        var session = this.getSession();\n        var highlight;\n        if (this.$highlightActiveLine) {\n            if (this.$selectionStyle != \"line\" || !this.selection.isMultiLine())\n                highlight = this.getCursorPosition();\n            if (this.renderer.theme && this.renderer.theme.$selectionColorConflict && !this.selection.isEmpty())\n                highlight = false;\n            if (this.renderer.$maxLines && this.session.getLength() === 1 && !(this.renderer.$minLines > 1))\n                highlight = false;\n        }\n        if (session.$highlightLineMarker && !highlight) {\n            session.removeMarker(session.$highlightLineMarker.id);\n            session.$highlightLineMarker = null;\n        }\n        else if (!session.$highlightLineMarker && highlight) {\n            var range = new Range(highlight.row, highlight.column, highlight.row, Infinity);\n            range.id = session.addMarker(range, \"ace_active-line\", \"screenLine\");\n            session.$highlightLineMarker = range;\n        }\n        else if (highlight) {\n            session.$highlightLineMarker.start.row = highlight.row;\n            session.$highlightLineMarker.end.row = highlight.row;\n            session.$highlightLineMarker.start.column = highlight.column;\n            session._signal(\"changeBackMarker\");\n        }\n    };\n    this.onSelectionChange = function (e) {\n        var session = this.session;\n        if (session.$selectionMarker) {\n            session.removeMarker(session.$selectionMarker);\n        }\n        session.$selectionMarker = null;\n        if (!this.selection.isEmpty()) {\n            var range = this.selection.getRange();\n            var style = this.getSelectionStyle();\n            session.$selectionMarker = session.addMarker(range, \"ace_selection\", style);\n        }\n        else {\n            this.$updateHighlightActiveLine();\n        }\n        var re = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();\n        this.session.highlight(re);\n        this._signal(\"changeSelection\");\n    };\n    this.$getSelectionHighLightRegexp = function () {\n        var session = this.session;\n        var selection = this.getSelectionRange();\n        if (selection.isEmpty() || selection.isMultiLine())\n            return;\n        var startColumn = selection.start.column;\n        var endColumn = selection.end.column;\n        var line = session.getLine(selection.start.row);\n        var needle = line.substring(startColumn, endColumn);\n        if (needle.length > 5000 || !/[\\w\\d]/.test(needle))\n            return;\n        var re = this.$search.$assembleRegExp({\n            wholeWord: true,\n            caseSensitive: true,\n            needle: needle\n        });\n        var wordWithBoundary = line.substring(startColumn - 1, endColumn + 1);\n        if (!re.test(wordWithBoundary))\n            return;\n        return re;\n    };\n    this.onChangeFrontMarker = function () {\n        this.renderer.updateFrontMarkers();\n    };\n    this.onChangeBackMarker = function () {\n        this.renderer.updateBackMarkers();\n    };\n    this.onChangeBreakpoint = function () {\n        this.renderer.updateBreakpoints();\n    };\n    this.onChangeAnnotation = function () {\n        this.renderer.setAnnotations(this.session.getAnnotations());\n    };\n    this.onChangeMode = function (e) {\n        this.renderer.updateText();\n        this._emit(\"changeMode\", e);\n    };\n    this.onChangeWrapLimit = function () {\n        this.renderer.updateFull();\n    };\n    this.onChangeWrapMode = function () {\n        this.renderer.onResize(true);\n    };\n    this.onChangeFold = function () {\n        this.$updateHighlightActiveLine();\n        this.renderer.updateFull();\n    };\n    this.getSelectedText = function () {\n        return this.session.getTextRange(this.getSelectionRange());\n    };\n    this.getCopyText = function () {\n        var text = this.getSelectedText();\n        var nl = this.session.doc.getNewLineCharacter();\n        var copyLine = false;\n        if (!text && this.$copyWithEmptySelection) {\n            copyLine = true;\n            var ranges = this.selection.getAllRanges();\n            for (var i = 0; i < ranges.length; i++) {\n                var range = ranges[i];\n                if (i && ranges[i - 1].start.row == range.start.row)\n                    continue;\n                text += this.session.getLine(range.start.row) + nl;\n            }\n        }\n        var e = { text: text };\n        this._signal(\"copy\", e);\n        clipboard.lineMode = copyLine ? e.text : false;\n        return e.text;\n    };\n    this.onCopy = function () {\n        this.commands.exec(\"copy\", this);\n    };\n    this.onCut = function () {\n        this.commands.exec(\"cut\", this);\n    };\n    this.onPaste = function (text, event) {\n        var e = { text: text, event: event };\n        this.commands.exec(\"paste\", this, e);\n    };\n    this.$handlePaste = function (e) {\n        if (typeof e == \"string\")\n            e = { text: e };\n        this._signal(\"paste\", e);\n        var text = e.text;\n        var lineMode = text === clipboard.lineMode;\n        var session = this.session;\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode) {\n            if (lineMode)\n                session.insert({ row: this.selection.lead.row, column: 0 }, text);\n            else\n                this.insert(text);\n        }\n        else if (lineMode) {\n            this.selection.rangeList.ranges.forEach(function (range) {\n                session.insert({ row: range.start.row, column: 0 }, text);\n            });\n        }\n        else {\n            var lines = text.split(/\\r\\n|\\r|\\n/);\n            var ranges = this.selection.rangeList.ranges;\n            var isFullLine = lines.length == 2 && (!lines[0] || !lines[1]);\n            if (lines.length != ranges.length || isFullLine)\n                return this.commands.exec(\"insertstring\", this, text);\n            for (var i = ranges.length; i--;) {\n                var range = ranges[i];\n                if (!range.isEmpty())\n                    session.remove(range);\n                session.insert(range.start, lines[i]);\n            }\n        }\n    };\n    this.execCommand = function (command, args) {\n        return this.commands.exec(command, this, args);\n    };\n    this.insert = function (text, pasted) {\n        var session = this.session;\n        var mode = session.getMode();\n        var cursor = this.getCursorPosition();\n        if (this.getBehavioursEnabled() && !pasted) {\n            var transform = mode.transformAction(session.getState(cursor.row), 'insertion', this, session, text);\n            if (transform) {\n                if (text !== transform.text) {\n                    if (!this.inVirtualSelectionMode) {\n                        this.session.mergeUndoDeltas = false;\n                        this.mergeNextCommand = false;\n                    }\n                }\n                text = transform.text;\n            }\n        }\n        if (text == \"\\t\")\n            text = this.session.getTabString();\n        if (!this.selection.isEmpty()) {\n            var range = this.getSelectionRange();\n            cursor = this.session.remove(range);\n            this.clearSelection();\n        }\n        else if (this.session.getOverwrite() && text.indexOf(\"\\n\") == -1) {\n            var range = new Range.fromPoints(cursor, cursor);\n            range.end.column += text.length;\n            this.session.remove(range);\n        }\n        if (text == \"\\n\" || text == \"\\r\\n\") {\n            var line = session.getLine(cursor.row);\n            if (cursor.column > line.search(/\\S|$/)) {\n                var d = line.substr(cursor.column).search(/\\S|$/);\n                session.doc.removeInLine(cursor.row, cursor.column, cursor.column + d);\n            }\n        }\n        this.clearSelection();\n        var start = cursor.column;\n        var lineState = session.getState(cursor.row);\n        var line = session.getLine(cursor.row);\n        var shouldOutdent = mode.checkOutdent(lineState, line, text);\n        session.insert(cursor, text);\n        if (transform && transform.selection) {\n            if (transform.selection.length == 2) { // Transform relative to the current column\n                this.selection.setSelectionRange(new Range(cursor.row, start + transform.selection[0], cursor.row, start + transform.selection[1]));\n            }\n            else { // Transform relative to the current row.\n                this.selection.setSelectionRange(new Range(cursor.row + transform.selection[0], transform.selection[1], cursor.row + transform.selection[2], transform.selection[3]));\n            }\n        }\n        if (this.$enableAutoIndent) {\n            if (session.getDocument().isNewLine(text)) {\n                var lineIndent = mode.getNextLineIndent(lineState, line.slice(0, cursor.column), session.getTabString());\n                session.insert({ row: cursor.row + 1, column: 0 }, lineIndent);\n            }\n            if (shouldOutdent)\n                mode.autoOutdent(lineState, session, cursor.row);\n        }\n    };\n    this.autoIndent = function () {\n        var session = this.session;\n        var mode = session.getMode();\n        var startRow, endRow;\n        if (this.selection.isEmpty()) {\n            startRow = 0;\n            endRow = session.doc.getLength() - 1;\n        }\n        else {\n            var selectedRange = this.getSelectionRange();\n            startRow = selectedRange.start.row;\n            endRow = selectedRange.end.row;\n        }\n        var prevLineState = \"\";\n        var prevLine = \"\";\n        var lineIndent = \"\";\n        var line, currIndent, range;\n        var tab = session.getTabString();\n        for (var row = startRow; row <= endRow; row++) {\n            if (row > 0) {\n                prevLineState = session.getState(row - 1);\n                prevLine = session.getLine(row - 1);\n                lineIndent = mode.getNextLineIndent(prevLineState, prevLine, tab);\n            }\n            line = session.getLine(row);\n            currIndent = mode.$getIndent(line);\n            if (lineIndent !== currIndent) {\n                if (currIndent.length > 0) {\n                    range = new Range(row, 0, row, currIndent.length);\n                    session.remove(range);\n                }\n                if (lineIndent.length > 0) {\n                    session.insert({ row: row, column: 0 }, lineIndent);\n                }\n            }\n            mode.autoOutdent(prevLineState, session, row);\n        }\n    };\n    this.onTextInput = function (text, composition) {\n        if (!composition)\n            return this.keyBinding.onTextInput(text);\n        this.startOperation({ command: { name: \"insertstring\" } });\n        var applyComposition = this.applyComposition.bind(this, text, composition);\n        if (this.selection.rangeCount)\n            this.forEachSelection(applyComposition);\n        else\n            applyComposition();\n        this.endOperation();\n    };\n    this.applyComposition = function (text, composition) {\n        if (composition.extendLeft || composition.extendRight) {\n            var r = this.selection.getRange();\n            r.start.column -= composition.extendLeft;\n            r.end.column += composition.extendRight;\n            if (r.start.column < 0) {\n                r.start.row--;\n                r.start.column += this.session.getLine(r.start.row).length + 1;\n            }\n            this.selection.setRange(r);\n            if (!text && !r.isEmpty())\n                this.remove();\n        }\n        if (text || !this.selection.isEmpty())\n            this.insert(text, true);\n        if (composition.restoreStart || composition.restoreEnd) {\n            var r = this.selection.getRange();\n            r.start.column -= composition.restoreStart;\n            r.end.column -= composition.restoreEnd;\n            this.selection.setRange(r);\n        }\n    };\n    this.onCommandKey = function (e, hashId, keyCode) {\n        return this.keyBinding.onCommandKey(e, hashId, keyCode);\n    };\n    this.setOverwrite = function (overwrite) {\n        this.session.setOverwrite(overwrite);\n    };\n    this.getOverwrite = function () {\n        return this.session.getOverwrite();\n    };\n    this.toggleOverwrite = function () {\n        this.session.toggleOverwrite();\n    };\n    this.setScrollSpeed = function (speed) {\n        this.setOption(\"scrollSpeed\", speed);\n    };\n    this.getScrollSpeed = function () {\n        return this.getOption(\"scrollSpeed\");\n    };\n    this.setDragDelay = function (dragDelay) {\n        this.setOption(\"dragDelay\", dragDelay);\n    };\n    this.getDragDelay = function () {\n        return this.getOption(\"dragDelay\");\n    };\n    this.setSelectionStyle = function (val) {\n        this.setOption(\"selectionStyle\", val);\n    };\n    this.getSelectionStyle = function () {\n        return this.getOption(\"selectionStyle\");\n    };\n    this.setHighlightActiveLine = function (shouldHighlight) {\n        this.setOption(\"highlightActiveLine\", shouldHighlight);\n    };\n    this.getHighlightActiveLine = function () {\n        return this.getOption(\"highlightActiveLine\");\n    };\n    this.setHighlightGutterLine = function (shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n    this.getHighlightGutterLine = function () {\n        return this.getOption(\"highlightGutterLine\");\n    };\n    this.setHighlightSelectedWord = function (shouldHighlight) {\n        this.setOption(\"highlightSelectedWord\", shouldHighlight);\n    };\n    this.getHighlightSelectedWord = function () {\n        return this.$highlightSelectedWord;\n    };\n    this.setAnimatedScroll = function (shouldAnimate) {\n        this.renderer.setAnimatedScroll(shouldAnimate);\n    };\n    this.getAnimatedScroll = function () {\n        return this.renderer.getAnimatedScroll();\n    };\n    this.setShowInvisibles = function (showInvisibles) {\n        this.renderer.setShowInvisibles(showInvisibles);\n    };\n    this.getShowInvisibles = function () {\n        return this.renderer.getShowInvisibles();\n    };\n    this.setDisplayIndentGuides = function (display) {\n        this.renderer.setDisplayIndentGuides(display);\n    };\n    this.getDisplayIndentGuides = function () {\n        return this.renderer.getDisplayIndentGuides();\n    };\n    this.setHighlightIndentGuides = function (highlight) {\n        this.renderer.setHighlightIndentGuides(highlight);\n    };\n    this.getHighlightIndentGuides = function () {\n        return this.renderer.getHighlightIndentGuides();\n    };\n    this.setShowPrintMargin = function (showPrintMargin) {\n        this.renderer.setShowPrintMargin(showPrintMargin);\n    };\n    this.getShowPrintMargin = function () {\n        return this.renderer.getShowPrintMargin();\n    };\n    this.setPrintMarginColumn = function (showPrintMargin) {\n        this.renderer.setPrintMarginColumn(showPrintMargin);\n    };\n    this.getPrintMarginColumn = function () {\n        return this.renderer.getPrintMarginColumn();\n    };\n    this.setReadOnly = function (readOnly) {\n        this.setOption(\"readOnly\", readOnly);\n    };\n    this.getReadOnly = function () {\n        return this.getOption(\"readOnly\");\n    };\n    this.setBehavioursEnabled = function (enabled) {\n        this.setOption(\"behavioursEnabled\", enabled);\n    };\n    this.getBehavioursEnabled = function () {\n        return this.getOption(\"behavioursEnabled\");\n    };\n    this.setWrapBehavioursEnabled = function (enabled) {\n        this.setOption(\"wrapBehavioursEnabled\", enabled);\n    };\n    this.getWrapBehavioursEnabled = function () {\n        return this.getOption(\"wrapBehavioursEnabled\");\n    };\n    this.setShowFoldWidgets = function (show) {\n        this.setOption(\"showFoldWidgets\", show);\n    };\n    this.getShowFoldWidgets = function () {\n        return this.getOption(\"showFoldWidgets\");\n    };\n    this.setFadeFoldWidgets = function (fade) {\n        this.setOption(\"fadeFoldWidgets\", fade);\n    };\n    this.getFadeFoldWidgets = function () {\n        return this.getOption(\"fadeFoldWidgets\");\n    };\n    this.remove = function (dir) {\n        if (this.selection.isEmpty()) {\n            if (dir == \"left\")\n                this.selection.selectLeft();\n            else\n                this.selection.selectRight();\n        }\n        var range = this.getSelectionRange();\n        if (this.getBehavioursEnabled()) {\n            var session = this.session;\n            var state = session.getState(range.start.row);\n            var new_range = session.getMode().transformAction(state, 'deletion', this, session, range);\n            if (range.end.column === 0) {\n                var text = session.getTextRange(range);\n                if (text[text.length - 1] == \"\\n\") {\n                    var line = session.getLine(range.end.row);\n                    if (/^\\s+$/.test(line)) {\n                        range.end.column = line.length;\n                    }\n                }\n            }\n            if (new_range)\n                range = new_range;\n        }\n        this.session.remove(range);\n        this.clearSelection();\n    };\n    this.removeWordRight = function () {\n        if (this.selection.isEmpty())\n            this.selection.selectWordRight();\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeWordLeft = function () {\n        if (this.selection.isEmpty())\n            this.selection.selectWordLeft();\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeToLineStart = function () {\n        if (this.selection.isEmpty())\n            this.selection.selectLineStart();\n        if (this.selection.isEmpty())\n            this.selection.selectLeft();\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeToLineEnd = function () {\n        if (this.selection.isEmpty())\n            this.selection.selectLineEnd();\n        var range = this.getSelectionRange();\n        if (range.start.column == range.end.column && range.start.row == range.end.row) {\n            range.end.column = 0;\n            range.end.row++;\n        }\n        this.session.remove(range);\n        this.clearSelection();\n    };\n    this.splitLine = function () {\n        if (!this.selection.isEmpty()) {\n            this.session.remove(this.getSelectionRange());\n            this.clearSelection();\n        }\n        var cursor = this.getCursorPosition();\n        this.insert(\"\\n\");\n        this.moveCursorToPosition(cursor);\n    };\n    this.transposeLetters = function () {\n        if (!this.selection.isEmpty()) {\n            return;\n        }\n        var cursor = this.getCursorPosition();\n        var column = cursor.column;\n        if (column === 0)\n            return;\n        var line = this.session.getLine(cursor.row);\n        var swap, range;\n        if (column < line.length) {\n            swap = line.charAt(column) + line.charAt(column - 1);\n            range = new Range(cursor.row, column - 1, cursor.row, column + 1);\n        }\n        else {\n            swap = line.charAt(column - 1) + line.charAt(column - 2);\n            range = new Range(cursor.row, column - 2, cursor.row, column);\n        }\n        this.session.replace(range, swap);\n        this.session.selection.moveToPosition(range.end);\n    };\n    this.toLowerCase = function () {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n            this.selection.selectWord();\n        }\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toLowerCase());\n        this.selection.setSelectionRange(originalRange);\n    };\n    this.toUpperCase = function () {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n            this.selection.selectWord();\n        }\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toUpperCase());\n        this.selection.setSelectionRange(originalRange);\n    };\n    this.indent = function () {\n        var session = this.session;\n        var range = this.getSelectionRange();\n        if (range.start.row < range.end.row) {\n            var rows = this.$getSelectedRows();\n            session.indentRows(rows.first, rows.last, \"\\t\");\n            return;\n        }\n        else if (range.start.column < range.end.column) {\n            var text = session.getTextRange(range);\n            if (!/^\\s+$/.test(text)) {\n                var rows = this.$getSelectedRows();\n                session.indentRows(rows.first, rows.last, \"\\t\");\n                return;\n            }\n        }\n        var line = session.getLine(range.start.row);\n        var position = range.start;\n        var size = session.getTabSize();\n        var column = session.documentToScreenColumn(position.row, position.column);\n        if (this.session.getUseSoftTabs()) {\n            var count = (size - column % size);\n            var indentString = lang.stringRepeat(\" \", count);\n        }\n        else {\n            var count = column % size;\n            while (line[range.start.column - 1] == \" \" && count) {\n                range.start.column--;\n                count--;\n            }\n            this.selection.setSelectionRange(range);\n            indentString = \"\\t\";\n        }\n        return this.insert(indentString);\n    };\n    this.blockIndent = function () {\n        var rows = this.$getSelectedRows();\n        this.session.indentRows(rows.first, rows.last, \"\\t\");\n    };\n    this.blockOutdent = function () {\n        var selection = this.session.getSelection();\n        this.session.outdentRows(selection.getRange());\n    };\n    this.sortLines = function () {\n        var rows = this.$getSelectedRows();\n        var session = this.session;\n        var lines = [];\n        for (var i = rows.first; i <= rows.last; i++)\n            lines.push(session.getLine(i));\n        lines.sort(function (a, b) {\n            if (a.toLowerCase() < b.toLowerCase())\n                return -1;\n            if (a.toLowerCase() > b.toLowerCase())\n                return 1;\n            return 0;\n        });\n        var deleteRange = new Range(0, 0, 0, 0);\n        for (var i = rows.first; i <= rows.last; i++) {\n            var line = session.getLine(i);\n            deleteRange.start.row = i;\n            deleteRange.end.row = i;\n            deleteRange.end.column = line.length;\n            session.replace(deleteRange, lines[i - rows.first]);\n        }\n    };\n    this.toggleCommentLines = function () {\n        var state = this.session.getState(this.getCursorPosition().row);\n        var rows = this.$getSelectedRows();\n        this.session.getMode().toggleCommentLines(state, this.session, rows.first, rows.last);\n    };\n    this.toggleBlockComment = function () {\n        var cursor = this.getCursorPosition();\n        var state = this.session.getState(cursor.row);\n        var range = this.getSelectionRange();\n        this.session.getMode().toggleBlockComment(state, this.session, range, cursor);\n    };\n    this.getNumberAt = function (row, column) {\n        var _numberRx = /[\\-]?[0-9]+(?:\\.[0-9]+)?/g;\n        _numberRx.lastIndex = 0;\n        var s = this.session.getLine(row);\n        while (_numberRx.lastIndex < column) {\n            var m = _numberRx.exec(s);\n            if (m.index <= column && m.index + m[0].length >= column) {\n                var number = {\n                    value: m[0],\n                    start: m.index,\n                    end: m.index + m[0].length\n                };\n                return number;\n            }\n        }\n        return null;\n    };\n    this.modifyNumber = function (amount) {\n        var row = this.selection.getCursor().row;\n        var column = this.selection.getCursor().column;\n        var charRange = new Range(row, column - 1, row, column);\n        var c = this.session.getTextRange(charRange);\n        if (!isNaN(parseFloat(c)) && isFinite(c)) {\n            var nr = this.getNumberAt(row, column);\n            if (nr) {\n                var fp = nr.value.indexOf(\".\") >= 0 ? nr.start + nr.value.indexOf(\".\") + 1 : nr.end;\n                var decimals = nr.start + nr.value.length - fp;\n                var t = parseFloat(nr.value);\n                t *= Math.pow(10, decimals);\n                if (fp !== nr.end && column < fp) {\n                    amount *= Math.pow(10, nr.end - column - 1);\n                }\n                else {\n                    amount *= Math.pow(10, nr.end - column);\n                }\n                t += amount;\n                t /= Math.pow(10, decimals);\n                var nnr = t.toFixed(decimals);\n                var replaceRange = new Range(row, nr.start, row, nr.end);\n                this.session.replace(replaceRange, nnr);\n                this.moveCursorTo(row, Math.max(nr.start + 1, column + nnr.length - nr.value.length));\n            }\n        }\n        else {\n            this.toggleWord();\n        }\n    };\n    this.$toggleWordPairs = [\n        [\"first\", \"last\"],\n        [\"true\", \"false\"],\n        [\"yes\", \"no\"],\n        [\"width\", \"height\"],\n        [\"top\", \"bottom\"],\n        [\"right\", \"left\"],\n        [\"on\", \"off\"],\n        [\"x\", \"y\"],\n        [\"get\", \"set\"],\n        [\"max\", \"min\"],\n        [\"horizontal\", \"vertical\"],\n        [\"show\", \"hide\"],\n        [\"add\", \"remove\"],\n        [\"up\", \"down\"],\n        [\"before\", \"after\"],\n        [\"even\", \"odd\"],\n        [\"in\", \"out\"],\n        [\"inside\", \"outside\"],\n        [\"next\", \"previous\"],\n        [\"increase\", \"decrease\"],\n        [\"attach\", \"detach\"],\n        [\"&&\", \"||\"],\n        [\"==\", \"!=\"]\n    ];\n    this.toggleWord = function () {\n        var row = this.selection.getCursor().row;\n        var column = this.selection.getCursor().column;\n        this.selection.selectWord();\n        var currentState = this.getSelectedText();\n        var currWordStart = this.selection.getWordRange().start.column;\n        var wordParts = currentState.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g, '$1 ').split(/\\s/);\n        var delta = column - currWordStart - 1;\n        if (delta < 0)\n            delta = 0;\n        var curLength = 0, itLength = 0;\n        var that = this;\n        if (currentState.match(/[A-Za-z0-9_]+/)) {\n            wordParts.forEach(function (item, i) {\n                itLength = curLength + item.length;\n                if (delta >= curLength && delta <= itLength) {\n                    currentState = item;\n                    that.selection.clearSelection();\n                    that.moveCursorTo(row, curLength + currWordStart);\n                    that.selection.selectTo(row, itLength + currWordStart);\n                }\n                curLength = itLength;\n            });\n        }\n        var wordPairs = this.$toggleWordPairs;\n        var reg;\n        for (var i = 0; i < wordPairs.length; i++) {\n            var item = wordPairs[i];\n            for (var j = 0; j <= 1; j++) {\n                var negate = +!j;\n                var firstCondition = currentState.match(new RegExp('^\\\\s?_?(' + lang.escapeRegExp(item[j]) + ')\\\\s?$', 'i'));\n                if (firstCondition) {\n                    var secondCondition = currentState.match(new RegExp('([_]|^|\\\\s)(' + lang.escapeRegExp(firstCondition[1]) + ')($|\\\\s)', 'g'));\n                    if (secondCondition) {\n                        reg = currentState.replace(new RegExp(lang.escapeRegExp(item[j]), 'i'), function (result) {\n                            var res = item[negate];\n                            if (result.toUpperCase() == result) {\n                                res = res.toUpperCase();\n                            }\n                            else if (result.charAt(0).toUpperCase() == result.charAt(0)) {\n                                res = res.substr(0, 0) + item[negate].charAt(0).toUpperCase() + res.substr(1);\n                            }\n                            return res;\n                        });\n                        this.insert(reg);\n                        reg = \"\";\n                    }\n                }\n            }\n        }\n    };\n    this.findLinkAt = function (row, column) {\n        var e_1, _a;\n        var line = this.session.getLine(row);\n        var wordParts = line.split(/((?:https?|ftp):\\/\\/[\\S]+)/);\n        var columnPosition = column;\n        if (columnPosition < 0)\n            columnPosition = 0;\n        var previousPosition = 0, currentPosition = 0, match;\n        try {\n            for (var wordParts_1 = __values(wordParts), wordParts_1_1 = wordParts_1.next(); !wordParts_1_1.done; wordParts_1_1 = wordParts_1.next()) {\n                var item = wordParts_1_1.value;\n                currentPosition = previousPosition + item.length;\n                if (columnPosition >= previousPosition && columnPosition <= currentPosition) {\n                    if (item.match(/((?:https?|ftp):\\/\\/[\\S]+)/)) {\n                        match = item.replace(/[\\s:.,'\";}\\]]+$/, \"\");\n                        break;\n                    }\n                }\n                previousPosition = currentPosition;\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (wordParts_1_1 && !wordParts_1_1.done && (_a = wordParts_1.return)) _a.call(wordParts_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return match;\n    };\n    this.openLink = function () {\n        var cursor = this.selection.getCursor();\n        var url = this.findLinkAt(cursor.row, cursor.column);\n        if (url)\n            window.open(url, '_blank');\n        return url != null;\n    };\n    this.removeLines = function () {\n        var rows = this.$getSelectedRows();\n        this.session.removeFullLines(rows.first, rows.last);\n        this.clearSelection();\n    };\n    this.duplicateSelection = function () {\n        var sel = this.selection;\n        var doc = this.session;\n        var range = sel.getRange();\n        var reverse = sel.isBackwards();\n        if (range.isEmpty()) {\n            var row = range.start.row;\n            doc.duplicateLines(row, row);\n        }\n        else {\n            var point = reverse ? range.start : range.end;\n            var endPoint = doc.insert(point, doc.getTextRange(range), false);\n            range.start = point;\n            range.end = endPoint;\n            sel.setSelectionRange(range, reverse);\n        }\n    };\n    this.moveLinesDown = function () {\n        this.$moveLines(1, false);\n    };\n    this.moveLinesUp = function () {\n        this.$moveLines(-1, false);\n    };\n    this.moveText = function (range, toPosition, copy) {\n        return this.session.moveText(range, toPosition, copy);\n    };\n    this.copyLinesUp = function () {\n        this.$moveLines(-1, true);\n    };\n    this.copyLinesDown = function () {\n        this.$moveLines(1, true);\n    };\n    this.$moveLines = function (dir, copy) {\n        var rows, moved;\n        var selection = this.selection;\n        if (!selection.inMultiSelectMode || this.inVirtualSelectionMode) {\n            var range = selection.toOrientedRange();\n            rows = this.$getSelectedRows(range);\n            moved = this.session.$moveLines(rows.first, rows.last, copy ? 0 : dir);\n            if (copy && dir == -1)\n                moved = 0;\n            range.moveBy(moved, 0);\n            selection.fromOrientedRange(range);\n        }\n        else {\n            var ranges = selection.rangeList.ranges;\n            selection.rangeList.detach(this.session);\n            this.inVirtualSelectionMode = true;\n            var diff = 0;\n            var totalDiff = 0;\n            var l = ranges.length;\n            for (var i = 0; i < l; i++) {\n                var rangeIndex = i;\n                ranges[i].moveBy(diff, 0);\n                rows = this.$getSelectedRows(ranges[i]);\n                var first = rows.first;\n                var last = rows.last;\n                while (++i < l) {\n                    if (totalDiff)\n                        ranges[i].moveBy(totalDiff, 0);\n                    var subRows = this.$getSelectedRows(ranges[i]);\n                    if (copy && subRows.first != last)\n                        break;\n                    else if (!copy && subRows.first > last + 1)\n                        break;\n                    last = subRows.last;\n                }\n                i--;\n                diff = this.session.$moveLines(first, last, copy ? 0 : dir);\n                if (copy && dir == -1)\n                    rangeIndex = i + 1;\n                while (rangeIndex <= i) {\n                    ranges[rangeIndex].moveBy(diff, 0);\n                    rangeIndex++;\n                }\n                if (!copy)\n                    diff = 0;\n                totalDiff += diff;\n            }\n            selection.fromOrientedRange(selection.ranges[0]);\n            selection.rangeList.attach(this.session);\n            this.inVirtualSelectionMode = false;\n        }\n    };\n    this.$getSelectedRows = function (range) {\n        range = (range || this.getSelectionRange()).collapseRows();\n        return {\n            first: this.session.getRowFoldStart(range.start.row),\n            last: this.session.getRowFoldEnd(range.end.row)\n        };\n    };\n    this.onCompositionStart = function (compositionState) {\n        this.renderer.showComposition(compositionState);\n    };\n    this.onCompositionUpdate = function (text) {\n        this.renderer.setCompositionText(text);\n    };\n    this.onCompositionEnd = function () {\n        this.renderer.hideComposition();\n    };\n    this.getFirstVisibleRow = function () {\n        return this.renderer.getFirstVisibleRow();\n    };\n    this.getLastVisibleRow = function () {\n        return this.renderer.getLastVisibleRow();\n    };\n    this.isRowVisible = function (row) {\n        return (row >= this.getFirstVisibleRow() && row <= this.getLastVisibleRow());\n    };\n    this.isRowFullyVisible = function (row) {\n        return (row >= this.renderer.getFirstFullyVisibleRow() && row <= this.renderer.getLastFullyVisibleRow());\n    };\n    this.$getVisibleRowCount = function () {\n        return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1;\n    };\n    this.$moveByPage = function (dir, select) {\n        var renderer = this.renderer;\n        var config = this.renderer.layerConfig;\n        var rows = dir * Math.floor(config.height / config.lineHeight);\n        if (select === true) {\n            this.selection.$moveSelection(function () {\n                this.moveCursorBy(rows, 0);\n            });\n        }\n        else if (select === false) {\n            this.selection.moveCursorBy(rows, 0);\n            this.selection.clearSelection();\n        }\n        var scrollTop = renderer.scrollTop;\n        renderer.scrollBy(0, rows * config.lineHeight);\n        if (select != null)\n            renderer.scrollCursorIntoView(null, 0.5);\n        renderer.animateScrolling(scrollTop);\n    };\n    this.selectPageDown = function () {\n        this.$moveByPage(1, true);\n    };\n    this.selectPageUp = function () {\n        this.$moveByPage(-1, true);\n    };\n    this.gotoPageDown = function () {\n        this.$moveByPage(1, false);\n    };\n    this.gotoPageUp = function () {\n        this.$moveByPage(-1, false);\n    };\n    this.scrollPageDown = function () {\n        this.$moveByPage(1);\n    };\n    this.scrollPageUp = function () {\n        this.$moveByPage(-1);\n    };\n    this.scrollToRow = function (row) {\n        this.renderer.scrollToRow(row);\n    };\n    this.scrollToLine = function (line, center, animate, callback) {\n        this.renderer.scrollToLine(line, center, animate, callback);\n    };\n    this.centerSelection = function () {\n        var range = this.getSelectionRange();\n        var pos = {\n            row: Math.floor(range.start.row + (range.end.row - range.start.row) / 2),\n            column: Math.floor(range.start.column + (range.end.column - range.start.column) / 2)\n        };\n        this.renderer.alignCursor(pos, 0.5);\n    };\n    this.getCursorPosition = function () {\n        return this.selection.getCursor();\n    };\n    this.getCursorPositionScreen = function () {\n        return this.session.documentToScreenPosition(this.getCursorPosition());\n    };\n    this.getSelectionRange = function () {\n        return this.selection.getRange();\n    };\n    this.selectAll = function () {\n        this.selection.selectAll();\n    };\n    this.clearSelection = function () {\n        this.selection.clearSelection();\n    };\n    this.moveCursorTo = function (row, column) {\n        this.selection.moveCursorTo(row, column);\n    };\n    this.moveCursorToPosition = function (pos) {\n        this.selection.moveCursorToPosition(pos);\n    };\n    this.jumpToMatching = function (select, expand) {\n        var cursor = this.getCursorPosition();\n        var iterator = new TokenIterator(this.session, cursor.row, cursor.column);\n        var prevToken = iterator.getCurrentToken();\n        var tokenCount = 0;\n        if (prevToken && prevToken.type.indexOf('tag-name') !== -1) {\n            prevToken = iterator.stepBackward();\n        }\n        var token = prevToken || iterator.stepForward();\n        if (!token)\n            return;\n        var matchType;\n        var found = false;\n        var depth = {};\n        var i = cursor.column - token.start;\n        var bracketType;\n        var brackets = {\n            \")\": \"(\",\n            \"(\": \"(\",\n            \"]\": \"[\",\n            \"[\": \"[\",\n            \"{\": \"{\",\n            \"}\": \"{\"\n        };\n        do {\n            if (token.value.match(/[{}()\\[\\]]/g)) {\n                for (; i < token.value.length && !found; i++) {\n                    if (!brackets[token.value[i]]) {\n                        continue;\n                    }\n                    bracketType = brackets[token.value[i]] + '.' + token.type.replace(\"rparen\", \"lparen\");\n                    if (isNaN(depth[bracketType])) {\n                        depth[bracketType] = 0;\n                    }\n                    switch (token.value[i]) {\n                        case '(':\n                        case '[':\n                        case '{':\n                            depth[bracketType]++;\n                            break;\n                        case ')':\n                        case ']':\n                        case '}':\n                            depth[bracketType]--;\n                            if (depth[bracketType] === -1) {\n                                matchType = 'bracket';\n                                found = true;\n                            }\n                            break;\n                    }\n                }\n            }\n            else if (token.type.indexOf('tag-name') !== -1) {\n                if (isNaN(depth[token.value])) {\n                    depth[token.value] = 0;\n                }\n                if (prevToken.value === '<' && tokenCount > 1) {\n                    depth[token.value]++;\n                }\n                else if (prevToken.value === '</') {\n                    depth[token.value]--;\n                }\n                if (depth[token.value] === -1) {\n                    matchType = 'tag';\n                    found = true;\n                }\n            }\n            if (!found) {\n                prevToken = token;\n                tokenCount++;\n                token = iterator.stepForward();\n                i = 0;\n            }\n        } while (token && !found);\n        if (!matchType)\n            return;\n        var range, pos;\n        if (matchType === 'bracket') {\n            range = this.session.getBracketRange(cursor);\n            if (!range) {\n                range = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + i - 1, iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + i - 1);\n                pos = range.start;\n                if (expand || pos.row === cursor.row && Math.abs(pos.column - cursor.column)\n                    < 2)\n                    range = this.session.getBracketRange(pos);\n            }\n        }\n        else if (matchType === 'tag') {\n            if (!token || token.type.indexOf('tag-name') === -1)\n                return;\n            range = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() - 2, iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() - 2);\n            if (range.compare(cursor.row, cursor.column) === 0) {\n                var tagsRanges = this.session.getMatchingTags(cursor);\n                if (tagsRanges) {\n                    if (tagsRanges.openTag.contains(cursor.row, cursor.column)) {\n                        range = tagsRanges.closeTag;\n                        pos = range.start;\n                    }\n                    else {\n                        range = tagsRanges.openTag;\n                        if (tagsRanges.closeTag.start.row === cursor.row && tagsRanges.closeTag.start.column\n                            === cursor.column)\n                            pos = range.end;\n                        else\n                            pos = range.start;\n                    }\n                }\n            }\n            pos = pos || range.start;\n        }\n        pos = range && range.cursor || pos;\n        if (pos) {\n            if (select) {\n                if (range && expand) {\n                    this.selection.setRange(range);\n                }\n                else if (range && range.isEqual(this.getSelectionRange())) {\n                    this.clearSelection();\n                }\n                else {\n                    this.selection.selectTo(pos.row, pos.column);\n                }\n            }\n            else {\n                this.selection.moveTo(pos.row, pos.column);\n            }\n        }\n    };\n    this.gotoLine = function (lineNumber, column, animate) {\n        this.selection.clearSelection();\n        this.session.unfold({ row: lineNumber - 1, column: column || 0 });\n        this.exitMultiSelectMode && this.exitMultiSelectMode();\n        this.moveCursorTo(lineNumber - 1, column || 0);\n        if (!this.isRowFullyVisible(lineNumber - 1))\n            this.scrollToLine(lineNumber - 1, true, animate);\n    };\n    this.navigateTo = function (row, column) {\n        this.selection.moveTo(row, column);\n    };\n    this.navigateUp = function (times) {\n        if (this.selection.isMultiLine() && !this.selection.isBackwards()) {\n            var selectionStart = this.selection.anchor.getPosition();\n            return this.moveCursorToPosition(selectionStart);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(-times || -1, 0);\n    };\n    this.navigateDown = function (times) {\n        if (this.selection.isMultiLine() && this.selection.isBackwards()) {\n            var selectionEnd = this.selection.anchor.getPosition();\n            return this.moveCursorToPosition(selectionEnd);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(times || 1, 0);\n    };\n    this.navigateLeft = function (times) {\n        if (!this.selection.isEmpty()) {\n            var selectionStart = this.getSelectionRange().start;\n            this.moveCursorToPosition(selectionStart);\n        }\n        else {\n            times = times || 1;\n            while (times--) {\n                this.selection.moveCursorLeft();\n            }\n        }\n        this.clearSelection();\n    };\n    this.navigateRight = function (times) {\n        if (!this.selection.isEmpty()) {\n            var selectionEnd = this.getSelectionRange().end;\n            this.moveCursorToPosition(selectionEnd);\n        }\n        else {\n            times = times || 1;\n            while (times--) {\n                this.selection.moveCursorRight();\n            }\n        }\n        this.clearSelection();\n    };\n    this.navigateLineStart = function () {\n        this.selection.moveCursorLineStart();\n        this.clearSelection();\n    };\n    this.navigateLineEnd = function () {\n        this.selection.moveCursorLineEnd();\n        this.clearSelection();\n    };\n    this.navigateFileEnd = function () {\n        this.selection.moveCursorFileEnd();\n        this.clearSelection();\n    };\n    this.navigateFileStart = function () {\n        this.selection.moveCursorFileStart();\n        this.clearSelection();\n    };\n    this.navigateWordRight = function () {\n        this.selection.moveCursorWordRight();\n        this.clearSelection();\n    };\n    this.navigateWordLeft = function () {\n        this.selection.moveCursorWordLeft();\n        this.clearSelection();\n    };\n    this.replace = function (replacement, options) {\n        if (options)\n            this.$search.set(options);\n        var range = this.$search.find(this.session);\n        var replaced = 0;\n        if (!range)\n            return replaced;\n        if (this.$tryReplace(range, replacement)) {\n            replaced = 1;\n        }\n        this.selection.setSelectionRange(range);\n        this.renderer.scrollSelectionIntoView(range.start, range.end);\n        return replaced;\n    };\n    this.replaceAll = function (replacement, options) {\n        if (options) {\n            this.$search.set(options);\n        }\n        var ranges = this.$search.findAll(this.session);\n        var replaced = 0;\n        if (!ranges.length)\n            return replaced;\n        var selection = this.getSelectionRange();\n        this.selection.moveTo(0, 0);\n        for (var i = ranges.length - 1; i >= 0; --i) {\n            if (this.$tryReplace(ranges[i], replacement)) {\n                replaced++;\n            }\n        }\n        this.selection.setSelectionRange(selection);\n        return replaced;\n    };\n    this.$tryReplace = function (range, replacement) {\n        var input = this.session.getTextRange(range);\n        replacement = this.$search.replace(input, replacement);\n        if (replacement !== null) {\n            range.end = this.session.replace(range, replacement);\n            return range;\n        }\n        else {\n            return null;\n        }\n    };\n    this.getLastSearchOptions = function () {\n        return this.$search.getOptions();\n    };\n    this.find = function (needle, options, animate) {\n        if (!options)\n            options = {};\n        if (typeof needle == \"string\" || needle instanceof RegExp)\n            options.needle = needle;\n        else if (typeof needle == \"object\")\n            oop.mixin(options, needle);\n        var range = this.selection.getRange();\n        if (options.needle == null) {\n            needle = this.session.getTextRange(range)\n                || this.$search.$options.needle;\n            if (!needle) {\n                range = this.session.getWordRange(range.start.row, range.start.column);\n                needle = this.session.getTextRange(range);\n            }\n            this.$search.set({ needle: needle });\n        }\n        this.$search.set(options);\n        if (!options.start)\n            this.$search.set({ start: range });\n        var newRange = this.$search.find(this.session);\n        if (options.preventScroll)\n            return newRange;\n        if (newRange) {\n            this.revealRange(newRange, animate);\n            return newRange;\n        }\n        if (options.backwards)\n            range.start = range.end;\n        else\n            range.end = range.start;\n        this.selection.setRange(range);\n    };\n    this.findNext = function (options, animate) {\n        this.find({ skipCurrent: true, backwards: false }, options, animate);\n    };\n    this.findPrevious = function (options, animate) {\n        this.find(options, { skipCurrent: true, backwards: true }, animate);\n    };\n    this.revealRange = function (range, animate) {\n        this.session.unfold(range);\n        this.selection.setSelectionRange(range);\n        var scrollTop = this.renderer.scrollTop;\n        this.renderer.scrollSelectionIntoView(range.start, range.end, 0.5);\n        if (animate !== false)\n            this.renderer.animateScrolling(scrollTop);\n    };\n    this.undo = function () {\n        this.session.getUndoManager().undo(this.session);\n        this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n    this.redo = function () {\n        this.session.getUndoManager().redo(this.session);\n        this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n    this.destroy = function () {\n        if (this.$toDestroy) {\n            this.$toDestroy.forEach(function (el) {\n                el.destroy();\n            });\n            this.$toDestroy = null;\n        }\n        if (this.$mouseHandler)\n            this.$mouseHandler.destroy();\n        this.renderer.destroy();\n        this._signal(\"destroy\", this);\n        if (this.session)\n            this.session.destroy();\n        if (this._$emitInputEvent)\n            this._$emitInputEvent.cancel();\n        this.removeAllListeners();\n    };\n    this.setAutoScrollEditorIntoView = function (enable) {\n        if (!enable)\n            return;\n        var rect;\n        var self = this;\n        var shouldScroll = false;\n        if (!this.$scrollAnchor)\n            this.$scrollAnchor = document.createElement(\"div\");\n        var scrollAnchor = this.$scrollAnchor;\n        scrollAnchor.style.cssText = \"position:absolute\";\n        this.container.insertBefore(scrollAnchor, this.container.firstChild);\n        var onChangeSelection = this.on(\"changeSelection\", function () {\n            shouldScroll = true;\n        });\n        var onBeforeRender = this.renderer.on(\"beforeRender\", function () {\n            if (shouldScroll)\n                rect = self.renderer.container.getBoundingClientRect();\n        });\n        var onAfterRender = this.renderer.on(\"afterRender\", function () {\n            if (shouldScroll && rect && (self.isFocused()\n                || self.searchBox && self.searchBox.isFocused())) {\n                var renderer = self.renderer;\n                var pos = renderer.$cursorLayer.$pixelPos;\n                var config = renderer.layerConfig;\n                var top = pos.top - config.offset;\n                if (pos.top >= 0 && top + rect.top < 0) {\n                    shouldScroll = true;\n                }\n                else if (pos.top < config.height &&\n                    pos.top + rect.top + config.lineHeight > window.innerHeight) {\n                    shouldScroll = false;\n                }\n                else {\n                    shouldScroll = null;\n                }\n                if (shouldScroll != null) {\n                    scrollAnchor.style.top = top + \"px\";\n                    scrollAnchor.style.left = pos.left + \"px\";\n                    scrollAnchor.style.height = config.lineHeight + \"px\";\n                    scrollAnchor.scrollIntoView(shouldScroll);\n                }\n                shouldScroll = rect = null;\n            }\n        });\n        this.setAutoScrollEditorIntoView = function (enable) {\n            if (enable)\n                return;\n            delete this.setAutoScrollEditorIntoView;\n            this.off(\"changeSelection\", onChangeSelection);\n            this.renderer.off(\"afterRender\", onAfterRender);\n            this.renderer.off(\"beforeRender\", onBeforeRender);\n        };\n    };\n    this.$resetCursorStyle = function () {\n        var style = this.$cursorStyle || \"ace\";\n        var cursorLayer = this.renderer.$cursorLayer;\n        if (!cursorLayer)\n            return;\n        cursorLayer.setSmoothBlinking(/smooth/.test(style));\n        cursorLayer.isBlinking = !this.$readOnly && style != \"wide\";\n        dom.setCssClass(cursorLayer.element, \"ace_slim-cursors\", /slim/.test(style));\n    };\n    this.prompt = function (message, options, callback) {\n        var editor = this;\n        config.loadModule(\"./ext/prompt\", function (module) {\n            module.prompt(editor, message, options, callback);\n        });\n    };\n}).call(Editor.prototype);\nconfig.defineOptions(Editor.prototype, \"editor\", {\n    selectionStyle: {\n        set: function (style) {\n            this.onSelectionChange();\n            this._signal(\"changeSelectionStyle\", { data: style });\n        },\n        initialValue: \"line\"\n    },\n    highlightActiveLine: {\n        set: function () { this.$updateHighlightActiveLine(); },\n        initialValue: true\n    },\n    highlightSelectedWord: {\n        set: function (shouldHighlight) { this.$onSelectionChange(); },\n        initialValue: true\n    },\n    readOnly: {\n        set: function (readOnly) {\n            this.textInput.setReadOnly(readOnly);\n            this.$resetCursorStyle();\n        },\n        initialValue: false\n    },\n    copyWithEmptySelection: {\n        set: function (value) {\n            this.textInput.setCopyWithEmptySelection(value);\n        },\n        initialValue: false\n    },\n    cursorStyle: {\n        set: function (val) { this.$resetCursorStyle(); },\n        values: [\"ace\", \"slim\", \"smooth\", \"wide\"],\n        initialValue: \"ace\"\n    },\n    mergeUndoDeltas: {\n        values: [false, true, \"always\"],\n        initialValue: true\n    },\n    behavioursEnabled: { initialValue: true },\n    wrapBehavioursEnabled: { initialValue: true },\n    enableAutoIndent: { initialValue: true },\n    autoScrollEditorIntoView: {\n        set: function (val) { this.setAutoScrollEditorIntoView(val); }\n    },\n    keyboardHandler: {\n        set: function (val) { this.setKeyboardHandler(val); },\n        get: function () { return this.$keybindingId; },\n        handlesSet: true\n    },\n    value: {\n        set: function (val) { this.session.setValue(val); },\n        get: function () { return this.getValue(); },\n        handlesSet: true,\n        hidden: true\n    },\n    session: {\n        set: function (val) { this.setSession(val); },\n        get: function () { return this.session; },\n        handlesSet: true,\n        hidden: true\n    },\n    showLineNumbers: {\n        set: function (show) {\n            this.renderer.$gutterLayer.setShowLineNumbers(show);\n            this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER);\n            if (show && this.$relativeLineNumbers)\n                relativeNumberRenderer.attach(this);\n            else\n                relativeNumberRenderer.detach(this);\n        },\n        initialValue: true\n    },\n    relativeLineNumbers: {\n        set: function (value) {\n            if (this.$showLineNumbers && value)\n                relativeNumberRenderer.attach(this);\n            else\n                relativeNumberRenderer.detach(this);\n        }\n    },\n    placeholder: {\n        set: function (message) {\n            if (!this.$updatePlaceholder) {\n                this.$updatePlaceholder = function () {\n                    var value = this.session && (this.renderer.$composition || this.getValue());\n                    if (value && this.renderer.placeholderNode) {\n                        this.renderer.off(\"afterRender\", this.$updatePlaceholder);\n                        dom.removeCssClass(this.container, \"ace_hasPlaceholder\");\n                        this.renderer.placeholderNode.remove();\n                        this.renderer.placeholderNode = null;\n                    }\n                    else if (!value && !this.renderer.placeholderNode) {\n                        this.renderer.on(\"afterRender\", this.$updatePlaceholder);\n                        dom.addCssClass(this.container, \"ace_hasPlaceholder\");\n                        var el = dom.createElement(\"div\");\n                        el.className = \"ace_placeholder\";\n                        el.textContent = this.$placeholder || \"\";\n                        this.renderer.placeholderNode = el;\n                        this.renderer.content.appendChild(this.renderer.placeholderNode);\n                    }\n                    else if (!value && this.renderer.placeholderNode) {\n                        this.renderer.placeholderNode.textContent = this.$placeholder || \"\";\n                    }\n                }.bind(this);\n                this.on(\"input\", this.$updatePlaceholder);\n            }\n            this.$updatePlaceholder();\n        }\n    },\n    customScrollbar: \"renderer\",\n    hScrollBarAlwaysVisible: \"renderer\",\n    vScrollBarAlwaysVisible: \"renderer\",\n    highlightGutterLine: \"renderer\",\n    animatedScroll: \"renderer\",\n    showInvisibles: \"renderer\",\n    showPrintMargin: \"renderer\",\n    printMarginColumn: \"renderer\",\n    printMargin: \"renderer\",\n    fadeFoldWidgets: \"renderer\",\n    showFoldWidgets: \"renderer\",\n    displayIndentGuides: \"renderer\",\n    highlightIndentGuides: \"renderer\",\n    showGutter: \"renderer\",\n    fontSize: \"renderer\",\n    fontFamily: \"renderer\",\n    maxLines: \"renderer\",\n    minLines: \"renderer\",\n    scrollPastEnd: \"renderer\",\n    fixedWidthGutter: \"renderer\",\n    theme: \"renderer\",\n    hasCssTransforms: \"renderer\",\n    maxPixelHeight: \"renderer\",\n    useTextareaForIME: \"renderer\",\n    scrollSpeed: \"$mouseHandler\",\n    dragDelay: \"$mouseHandler\",\n    dragEnabled: \"$mouseHandler\",\n    focusTimeout: \"$mouseHandler\",\n    tooltipFollowsMouse: \"$mouseHandler\",\n    firstLineNumber: \"session\",\n    overwrite: \"session\",\n    newLineMode: \"session\",\n    useWorker: \"session\",\n    useSoftTabs: \"session\",\n    navigateWithinSoftTabs: \"session\",\n    tabSize: \"session\",\n    wrap: \"session\",\n    indentedSoftWrap: \"session\",\n    foldStyle: \"session\",\n    mode: \"session\"\n});\nvar relativeNumberRenderer = {\n    getText: function (session, row) {\n        return (Math.abs(session.selection.lead.row - row) || (row + 1 + (row < 9 ? \"\\xb7\" : \"\"))) + \"\";\n    },\n    getWidth: function (session, lastLineNumber, config) {\n        return Math.max(lastLineNumber.toString().length, (config.lastRow + 1).toString().length, 2) * config.characterWidth;\n    },\n    update: function (e, editor) {\n        editor.renderer.$loop.schedule(editor.renderer.CHANGE_GUTTER);\n    },\n    attach: function (editor) {\n        editor.renderer.$gutterLayer.$renderer = this;\n        editor.on(\"changeSelection\", this.update);\n        this.update(null, editor);\n    },\n    detach: function (editor) {\n        if (editor.renderer.$gutterLayer.$renderer == this)\n            editor.renderer.$gutterLayer.$renderer = null;\n        editor.off(\"changeSelection\", this.update);\n        this.update(null, editor);\n    }\n};\nexports.Editor = Editor;\n\n});\n\nace.define(\"ace/undomanager\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar UndoManager = function () {\n    this.$maxRev = 0;\n    this.$fromUndo = false;\n    this.$undoDepth = Infinity;\n    this.reset();\n};\n(function () {\n    this.addSession = function (session) {\n        this.$session = session;\n    };\n    this.add = function (delta, allowMerge, session) {\n        if (this.$fromUndo)\n            return;\n        if (delta == this.$lastDelta)\n            return;\n        if (!this.$keepRedoStack)\n            this.$redoStack.length = 0;\n        if (allowMerge === false || !this.lastDeltas) {\n            this.lastDeltas = [];\n            var undoStackLength = this.$undoStack.length;\n            if (undoStackLength > this.$undoDepth - 1) {\n                this.$undoStack.splice(0, undoStackLength - this.$undoDepth + 1);\n            }\n            this.$undoStack.push(this.lastDeltas);\n            delta.id = this.$rev = ++this.$maxRev;\n        }\n        if (delta.action == \"remove\" || delta.action == \"insert\")\n            this.$lastDelta = delta;\n        this.lastDeltas.push(delta);\n    };\n    this.addSelection = function (selection, rev) {\n        this.selections.push({\n            value: selection,\n            rev: rev || this.$rev\n        });\n    };\n    this.startNewGroup = function () {\n        this.lastDeltas = null;\n        return this.$rev;\n    };\n    this.markIgnored = function (from, to) {\n        if (to == null)\n            to = this.$rev + 1;\n        var stack = this.$undoStack;\n        for (var i = stack.length; i--;) {\n            var delta = stack[i][0];\n            if (delta.id <= from)\n                break;\n            if (delta.id < to)\n                delta.ignore = true;\n        }\n        this.lastDeltas = null;\n    };\n    this.getSelection = function (rev, after) {\n        var stack = this.selections;\n        for (var i = stack.length; i--;) {\n            var selection = stack[i];\n            if (selection.rev < rev) {\n                if (after)\n                    selection = stack[i + 1];\n                return selection;\n            }\n        }\n    };\n    this.getRevision = function () {\n        return this.$rev;\n    };\n    this.getDeltas = function (from, to) {\n        if (to == null)\n            to = this.$rev + 1;\n        var stack = this.$undoStack;\n        var end = null, start = 0;\n        for (var i = stack.length; i--;) {\n            var delta = stack[i][0];\n            if (delta.id < to && !end)\n                end = i + 1;\n            if (delta.id <= from) {\n                start = i + 1;\n                break;\n            }\n        }\n        return stack.slice(start, end);\n    };\n    this.getChangedRanges = function (from, to) {\n        if (to == null)\n            to = this.$rev + 1;\n    };\n    this.getChangedLines = function (from, to) {\n        if (to == null)\n            to = this.$rev + 1;\n    };\n    this.undo = function (session, dontSelect) {\n        this.lastDeltas = null;\n        var stack = this.$undoStack;\n        if (!rearrangeUndoStack(stack, stack.length))\n            return;\n        if (!session)\n            session = this.$session;\n        if (this.$redoStackBaseRev !== this.$rev && this.$redoStack.length)\n            this.$redoStack = [];\n        this.$fromUndo = true;\n        var deltaSet = stack.pop();\n        var undoSelectionRange = null;\n        if (deltaSet) {\n            undoSelectionRange = session.undoChanges(deltaSet, dontSelect);\n            this.$redoStack.push(deltaSet);\n            this.$syncRev();\n        }\n        this.$fromUndo = false;\n        return undoSelectionRange;\n    };\n    this.redo = function (session, dontSelect) {\n        this.lastDeltas = null;\n        if (!session)\n            session = this.$session;\n        this.$fromUndo = true;\n        if (this.$redoStackBaseRev != this.$rev) {\n            var diff = this.getDeltas(this.$redoStackBaseRev, this.$rev + 1);\n            rebaseRedoStack(this.$redoStack, diff);\n            this.$redoStackBaseRev = this.$rev;\n            this.$redoStack.forEach(function (x) {\n                x[0].id = ++this.$maxRev;\n            }, this);\n        }\n        var deltaSet = this.$redoStack.pop();\n        var redoSelectionRange = null;\n        if (deltaSet) {\n            redoSelectionRange = session.redoChanges(deltaSet, dontSelect);\n            this.$undoStack.push(deltaSet);\n            this.$syncRev();\n        }\n        this.$fromUndo = false;\n        return redoSelectionRange;\n    };\n    this.$syncRev = function () {\n        var stack = this.$undoStack;\n        var nextDelta = stack[stack.length - 1];\n        var id = nextDelta && nextDelta[0].id || 0;\n        this.$redoStackBaseRev = id;\n        this.$rev = id;\n    };\n    this.reset = function () {\n        this.lastDeltas = null;\n        this.$lastDelta = null;\n        this.$undoStack = [];\n        this.$redoStack = [];\n        this.$rev = 0;\n        this.mark = 0;\n        this.$redoStackBaseRev = this.$rev;\n        this.selections = [];\n    };\n    this.canUndo = function () {\n        return this.$undoStack.length > 0;\n    };\n    this.canRedo = function () {\n        return this.$redoStack.length > 0;\n    };\n    this.bookmark = function (rev) {\n        if (rev == undefined)\n            rev = this.$rev;\n        this.mark = rev;\n    };\n    this.isAtBookmark = function () {\n        return this.$rev === this.mark;\n    };\n    this.toJSON = function () {\n    };\n    this.fromJSON = function () {\n    };\n    this.hasUndo = this.canUndo;\n    this.hasRedo = this.canRedo;\n    this.isClean = this.isAtBookmark;\n    this.markClean = this.bookmark;\n    this.$prettyPrint = function (delta) {\n        if (delta)\n            return stringifyDelta(delta);\n        return stringifyDelta(this.$undoStack) + \"\\n---\\n\" + stringifyDelta(this.$redoStack);\n    };\n}).call(UndoManager.prototype);\nfunction rearrangeUndoStack(stack, pos) {\n    for (var i = pos; i--;) {\n        var deltaSet = stack[i];\n        if (deltaSet && !deltaSet[0].ignore) {\n            while (i < pos - 1) {\n                var swapped = swapGroups(stack[i], stack[i + 1]);\n                stack[i] = swapped[0];\n                stack[i + 1] = swapped[1];\n                i++;\n            }\n            return true;\n        }\n    }\n}\nvar Range = require(\"./range\").Range;\nvar cmp = Range.comparePoints;\nvar comparePoints = Range.comparePoints;\nfunction $updateMarkers(delta) {\n    var isInsert = delta.action == \"insert\";\n    var start = delta.start;\n    var end = delta.end;\n    var rowShift = (end.row - start.row) * (isInsert ? 1 : -1);\n    var colShift = (end.column - start.column) * (isInsert ? 1 : -1);\n    if (isInsert)\n        end = start;\n    for (var i in this.marks) {\n        var point = this.marks[i];\n        var cmp = comparePoints(point, start);\n        if (cmp < 0) {\n            continue; // delta starts after the range\n        }\n        if (cmp === 0) {\n            if (isInsert) {\n                if (point.bias == 1) {\n                    cmp = 1;\n                }\n                else {\n                    point.bias == -1;\n                    continue;\n                }\n            }\n        }\n        var cmp2 = isInsert ? cmp : comparePoints(point, end);\n        if (cmp2 > 0) {\n            point.row += rowShift;\n            point.column += point.row == end.row ? colShift : 0;\n            continue;\n        }\n        if (!isInsert && cmp2 <= 0) {\n            point.row = start.row;\n            point.column = start.column;\n            if (cmp2 === 0)\n                point.bias = 1;\n        }\n    }\n}\nfunction clonePos(pos) {\n    return { row: pos.row, column: pos.column };\n}\nfunction cloneDelta(d) {\n    return {\n        start: clonePos(d.start),\n        end: clonePos(d.end),\n        action: d.action,\n        lines: d.lines.slice()\n    };\n}\nfunction stringifyDelta(d) {\n    d = d || this;\n    if (Array.isArray(d)) {\n        return d.map(stringifyDelta).join(\"\\n\");\n    }\n    var type = \"\";\n    if (d.action) {\n        type = d.action == \"insert\" ? \"+\" : \"-\";\n        type += \"[\" + d.lines + \"]\";\n    }\n    else if (d.value) {\n        if (Array.isArray(d.value)) {\n            type = d.value.map(stringifyRange).join(\"\\n\");\n        }\n        else {\n            type = stringifyRange(d.value);\n        }\n    }\n    if (d.start) {\n        type += stringifyRange(d);\n    }\n    if (d.id || d.rev) {\n        type += \"\\t(\" + (d.id || d.rev) + \")\";\n    }\n    return type;\n}\nfunction stringifyRange(r) {\n    return r.start.row + \":\" + r.start.column\n        + \"=>\" + r.end.row + \":\" + r.end.column;\n}\nfunction swap(d1, d2) {\n    var i1 = d1.action == \"insert\";\n    var i2 = d2.action == \"insert\";\n    if (i1 && i2) {\n        if (cmp(d2.start, d1.end) >= 0) {\n            shift(d2, d1, -1);\n        }\n        else if (cmp(d2.start, d1.start) <= 0) {\n            shift(d1, d2, +1);\n        }\n        else {\n            return null;\n        }\n    }\n    else if (i1 && !i2) {\n        if (cmp(d2.start, d1.end) >= 0) {\n            shift(d2, d1, -1);\n        }\n        else if (cmp(d2.end, d1.start) <= 0) {\n            shift(d1, d2, -1);\n        }\n        else {\n            return null;\n        }\n    }\n    else if (!i1 && i2) {\n        if (cmp(d2.start, d1.start) >= 0) {\n            shift(d2, d1, +1);\n        }\n        else if (cmp(d2.start, d1.start) <= 0) {\n            shift(d1, d2, +1);\n        }\n        else {\n            return null;\n        }\n    }\n    else if (!i1 && !i2) {\n        if (cmp(d2.start, d1.start) >= 0) {\n            shift(d2, d1, +1);\n        }\n        else if (cmp(d2.end, d1.start) <= 0) {\n            shift(d1, d2, -1);\n        }\n        else {\n            return null;\n        }\n    }\n    return [d2, d1];\n}\nfunction swapGroups(ds1, ds2) {\n    for (var i = ds1.length; i--;) {\n        for (var j = 0; j < ds2.length; j++) {\n            if (!swap(ds1[i], ds2[j])) {\n                while (i < ds1.length) {\n                    while (j--) {\n                        swap(ds2[j], ds1[i]);\n                    }\n                    j = ds2.length;\n                    i++;\n                }\n                return [ds1, ds2];\n            }\n        }\n    }\n    ds1.selectionBefore = ds2.selectionBefore =\n        ds1.selectionAfter = ds2.selectionAfter = null;\n    return [ds2, ds1];\n}\nfunction xform(d1, c1) {\n    var i1 = d1.action == \"insert\";\n    var i2 = c1.action == \"insert\";\n    if (i1 && i2) {\n        if (cmp(d1.start, c1.start) < 0) {\n            shift(c1, d1, 1);\n        }\n        else {\n            shift(d1, c1, 1);\n        }\n    }\n    else if (i1 && !i2) {\n        if (cmp(d1.start, c1.end) >= 0) {\n            shift(d1, c1, -1);\n        }\n        else if (cmp(d1.start, c1.start) <= 0) {\n            shift(c1, d1, +1);\n        }\n        else {\n            shift(d1, Range.fromPoints(c1.start, d1.start), -1);\n            shift(c1, d1, +1);\n        }\n    }\n    else if (!i1 && i2) {\n        if (cmp(c1.start, d1.end) >= 0) {\n            shift(c1, d1, -1);\n        }\n        else if (cmp(c1.start, d1.start) <= 0) {\n            shift(d1, c1, +1);\n        }\n        else {\n            shift(c1, Range.fromPoints(d1.start, c1.start), -1);\n            shift(d1, c1, +1);\n        }\n    }\n    else if (!i1 && !i2) {\n        if (cmp(c1.start, d1.end) >= 0) {\n            shift(c1, d1, -1);\n        }\n        else if (cmp(c1.end, d1.start) <= 0) {\n            shift(d1, c1, -1);\n        }\n        else {\n            var before, after;\n            if (cmp(d1.start, c1.start) < 0) {\n                before = d1;\n                d1 = splitDelta(d1, c1.start);\n            }\n            if (cmp(d1.end, c1.end) > 0) {\n                after = splitDelta(d1, c1.end);\n            }\n            shiftPos(c1.end, d1.start, d1.end, -1);\n            if (after && !before) {\n                d1.lines = after.lines;\n                d1.start = after.start;\n                d1.end = after.end;\n                after = d1;\n            }\n            return [c1, before, after].filter(Boolean);\n        }\n    }\n    return [c1, d1];\n}\nfunction shift(d1, d2, dir) {\n    shiftPos(d1.start, d2.start, d2.end, dir);\n    shiftPos(d1.end, d2.start, d2.end, dir);\n}\nfunction shiftPos(pos, start, end, dir) {\n    if (pos.row == (dir == 1 ? start : end).row) {\n        pos.column += dir * (end.column - start.column);\n    }\n    pos.row += dir * (end.row - start.row);\n}\nfunction splitDelta(c, pos) {\n    var lines = c.lines;\n    var end = c.end;\n    c.end = clonePos(pos);\n    var rowsBefore = c.end.row - c.start.row;\n    var otherLines = lines.splice(rowsBefore, lines.length);\n    var col = rowsBefore ? pos.column : pos.column - c.start.column;\n    lines.push(otherLines[0].substring(0, col));\n    otherLines[0] = otherLines[0].substr(col);\n    var rest = {\n        start: clonePos(pos),\n        end: end,\n        lines: otherLines,\n        action: c.action\n    };\n    return rest;\n}\nfunction moveDeltasByOne(redoStack, d) {\n    d = cloneDelta(d);\n    for (var j = redoStack.length; j--;) {\n        var deltaSet = redoStack[j];\n        for (var i = 0; i < deltaSet.length; i++) {\n            var x = deltaSet[i];\n            var xformed = xform(x, d);\n            d = xformed[0];\n            if (xformed.length != 2) {\n                if (xformed[2]) {\n                    deltaSet.splice(i + 1, 1, xformed[1], xformed[2]);\n                    i++;\n                }\n                else if (!xformed[1]) {\n                    deltaSet.splice(i, 1);\n                    i--;\n                }\n            }\n        }\n        if (!deltaSet.length) {\n            redoStack.splice(j, 1);\n        }\n    }\n    return redoStack;\n}\nfunction rebaseRedoStack(redoStack, deltaSets) {\n    for (var i = 0; i < deltaSets.length; i++) {\n        var deltas = deltaSets[i];\n        for (var j = 0; j < deltas.length; j++) {\n            moveDeltasByOne(redoStack, deltas[j]);\n        }\n    }\n}\nexports.UndoManager = UndoManager;\n\n});\n\nace.define(\"ace/layer/lines\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar Lines = function (element, canvasHeight) {\n    this.element = element;\n    this.canvasHeight = canvasHeight || 500000;\n    this.element.style.height = (this.canvasHeight * 2) + \"px\";\n    this.cells = [];\n    this.cellCache = [];\n    this.$offsetCoefficient = 0;\n};\n(function () {\n    this.moveContainer = function (config) {\n        dom.translate(this.element, 0, -((config.firstRowScreen * config.lineHeight) % this.canvasHeight) - config.offset * this.$offsetCoefficient);\n    };\n    this.pageChanged = function (oldConfig, newConfig) {\n        return (Math.floor((oldConfig.firstRowScreen * oldConfig.lineHeight) / this.canvasHeight) !==\n            Math.floor((newConfig.firstRowScreen * newConfig.lineHeight) / this.canvasHeight));\n    };\n    this.computeLineTop = function (row, config, session) {\n        var screenTop = config.firstRowScreen * config.lineHeight;\n        var screenPage = Math.floor(screenTop / this.canvasHeight);\n        var lineTop = session.documentToScreenRow(row, 0) * config.lineHeight;\n        return lineTop - (screenPage * this.canvasHeight);\n    };\n    this.computeLineHeight = function (row, config, session) {\n        return config.lineHeight * session.getRowLineCount(row);\n    };\n    this.getLength = function () {\n        return this.cells.length;\n    };\n    this.get = function (index) {\n        return this.cells[index];\n    };\n    this.shift = function () {\n        this.$cacheCell(this.cells.shift());\n    };\n    this.pop = function () {\n        this.$cacheCell(this.cells.pop());\n    };\n    this.push = function (cell) {\n        if (Array.isArray(cell)) {\n            this.cells.push.apply(this.cells, cell);\n            var fragment = dom.createFragment(this.element);\n            for (var i = 0; i < cell.length; i++) {\n                fragment.appendChild(cell[i].element);\n            }\n            this.element.appendChild(fragment);\n        }\n        else {\n            this.cells.push(cell);\n            this.element.appendChild(cell.element);\n        }\n    };\n    this.unshift = function (cell) {\n        if (Array.isArray(cell)) {\n            this.cells.unshift.apply(this.cells, cell);\n            var fragment = dom.createFragment(this.element);\n            for (var i = 0; i < cell.length; i++) {\n                fragment.appendChild(cell[i].element);\n            }\n            if (this.element.firstChild)\n                this.element.insertBefore(fragment, this.element.firstChild);\n            else\n                this.element.appendChild(fragment);\n        }\n        else {\n            this.cells.unshift(cell);\n            this.element.insertAdjacentElement(\"afterbegin\", cell.element);\n        }\n    };\n    this.last = function () {\n        if (this.cells.length)\n            return this.cells[this.cells.length - 1];\n        else\n            return null;\n    };\n    this.$cacheCell = function (cell) {\n        if (!cell)\n            return;\n        cell.element.remove();\n        this.cellCache.push(cell);\n    };\n    this.createCell = function (row, config, session, initElement) {\n        var cell = this.cellCache.pop();\n        if (!cell) {\n            var element = dom.createElement(\"div\");\n            if (initElement)\n                initElement(element);\n            this.element.appendChild(element);\n            cell = {\n                element: element,\n                text: \"\",\n                row: row\n            };\n        }\n        cell.row = row;\n        return cell;\n    };\n}).call(Lines.prototype);\nexports.Lines = Lines;\n\n});\n\nace.define(\"ace/layer/gutter\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/layer/lines\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar lang = require(\"../lib/lang\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar Lines = require(\"./lines\").Lines;\nvar Gutter = function (parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_gutter-layer\";\n    parentEl.appendChild(this.element);\n    this.setShowFoldWidgets(this.$showFoldWidgets);\n    this.gutterWidth = 0;\n    this.$annotations = [];\n    this.$updateAnnotations = this.$updateAnnotations.bind(this);\n    this.$lines = new Lines(this.element);\n    this.$lines.$offsetCoefficient = 1;\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.setSession = function (session) {\n        if (this.session)\n            this.session.off(\"change\", this.$updateAnnotations);\n        this.session = session;\n        if (session)\n            session.on(\"change\", this.$updateAnnotations);\n    };\n    this.addGutterDecoration = function (row, className) {\n        if (window.console)\n            console.warn && console.warn(\"deprecated use session.addGutterDecoration\");\n        this.session.addGutterDecoration(row, className);\n    };\n    this.removeGutterDecoration = function (row, className) {\n        if (window.console)\n            console.warn && console.warn(\"deprecated use session.removeGutterDecoration\");\n        this.session.removeGutterDecoration(row, className);\n    };\n    this.setAnnotations = function (annotations) {\n        this.$annotations = [];\n        for (var i = 0; i < annotations.length; i++) {\n            var annotation = annotations[i];\n            var row = annotation.row;\n            var rowInfo = this.$annotations[row];\n            if (!rowInfo)\n                rowInfo = this.$annotations[row] = { text: [] };\n            var annoText = annotation.text;\n            annoText = annoText ? lang.escapeHTML(annoText) : annotation.html || \"\";\n            if (rowInfo.text.indexOf(annoText) === -1)\n                rowInfo.text.push(annoText);\n            var type = annotation.type;\n            var className = annotation.className;\n            if (className)\n                rowInfo.className = className;\n            else if (type == \"error\")\n                rowInfo.className = \" ace_error\";\n            else if (type == \"warning\" && rowInfo.className != \" ace_error\")\n                rowInfo.className = \" ace_warning\";\n            else if (type == \"info\" && (!rowInfo.className))\n                rowInfo.className = \" ace_info\";\n        }\n    };\n    this.$updateAnnotations = function (delta) {\n        if (!this.$annotations.length)\n            return;\n        var firstRow = delta.start.row;\n        var len = delta.end.row - firstRow;\n        if (len === 0) {\n        }\n        else if (delta.action == 'remove') {\n            this.$annotations.splice(firstRow, len + 1, null);\n        }\n        else {\n            var args = new Array(len + 1);\n            args.unshift(firstRow, 1);\n            this.$annotations.splice.apply(this.$annotations, args);\n        }\n    };\n    this.update = function (config) {\n        this.config = config;\n        var session = this.session;\n        var firstRow = config.firstRow;\n        var lastRow = Math.min(config.lastRow + config.gutterOffset, // needed to compensate for hor scollbar\n        session.getLength() - 1);\n        this.oldLastRow = lastRow;\n        this.config = config;\n        this.$lines.moveContainer(config);\n        this.$updateCursorRow();\n        var fold = session.getNextFoldLine(firstRow);\n        var foldStart = fold ? fold.start.row : Infinity;\n        var cell = null;\n        var index = -1;\n        var row = firstRow;\n        while (true) {\n            if (row > foldStart) {\n                row = fold.end.row + 1;\n                fold = session.getNextFoldLine(row, fold);\n                foldStart = fold ? fold.start.row : Infinity;\n            }\n            if (row > lastRow) {\n                while (this.$lines.getLength() > index + 1)\n                    this.$lines.pop();\n                break;\n            }\n            cell = this.$lines.get(++index);\n            if (cell) {\n                cell.row = row;\n            }\n            else {\n                cell = this.$lines.createCell(row, config, this.session, onCreateCell);\n                this.$lines.push(cell);\n            }\n            this.$renderCell(cell, config, fold, row);\n            row++;\n        }\n        this._signal(\"afterRender\");\n        this.$updateGutterWidth(config);\n    };\n    this.$updateGutterWidth = function (config) {\n        var session = this.session;\n        var gutterRenderer = session.gutterRenderer || this.$renderer;\n        var firstLineNumber = session.$firstLineNumber;\n        var lastLineText = this.$lines.last() ? this.$lines.last().text : \"\";\n        if (this.$fixedWidth || session.$useWrapMode)\n            lastLineText = session.getLength() + firstLineNumber - 1;\n        var gutterWidth = gutterRenderer\n            ? gutterRenderer.getWidth(session, lastLineText, config)\n            : lastLineText.toString().length * config.characterWidth;\n        var padding = this.$padding || this.$computePadding();\n        gutterWidth += padding.left + padding.right;\n        if (gutterWidth !== this.gutterWidth && !isNaN(gutterWidth)) {\n            this.gutterWidth = gutterWidth;\n            this.element.parentNode.style.width =\n                this.element.style.width = Math.ceil(this.gutterWidth) + \"px\";\n            this._signal(\"changeGutterWidth\", gutterWidth);\n        }\n    };\n    this.$updateCursorRow = function () {\n        if (!this.$highlightGutterLine)\n            return;\n        var position = this.session.selection.getCursor();\n        if (this.$cursorRow === position.row)\n            return;\n        this.$cursorRow = position.row;\n    };\n    this.updateLineHighlight = function () {\n        if (!this.$highlightGutterLine)\n            return;\n        var row = this.session.selection.cursor.row;\n        this.$cursorRow = row;\n        if (this.$cursorCell && this.$cursorCell.row == row)\n            return;\n        if (this.$cursorCell)\n            this.$cursorCell.element.className = this.$cursorCell.element.className.replace(\"ace_gutter-active-line \", \"\");\n        var cells = this.$lines.cells;\n        this.$cursorCell = null;\n        for (var i = 0; i < cells.length; i++) {\n            var cell = cells[i];\n            if (cell.row >= this.$cursorRow) {\n                if (cell.row > this.$cursorRow) {\n                    var fold = this.session.getFoldLine(this.$cursorRow);\n                    if (i > 0 && fold && fold.start.row == cells[i - 1].row)\n                        cell = cells[i - 1];\n                    else\n                        break;\n                }\n                cell.element.className = \"ace_gutter-active-line \" + cell.element.className;\n                this.$cursorCell = cell;\n                break;\n            }\n        }\n    };\n    this.scrollLines = function (config) {\n        var oldConfig = this.config;\n        this.config = config;\n        this.$updateCursorRow();\n        if (this.$lines.pageChanged(oldConfig, config))\n            return this.update(config);\n        this.$lines.moveContainer(config);\n        var lastRow = Math.min(config.lastRow + config.gutterOffset, // needed to compensate for hor scollbar\n        this.session.getLength() - 1);\n        var oldLastRow = this.oldLastRow;\n        this.oldLastRow = lastRow;\n        if (!oldConfig || oldLastRow < config.firstRow)\n            return this.update(config);\n        if (lastRow < oldConfig.firstRow)\n            return this.update(config);\n        if (oldConfig.firstRow < config.firstRow)\n            for (var row = this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row > 0; row--)\n                this.$lines.shift();\n        if (oldLastRow > lastRow)\n            for (var row = this.session.getFoldedRowCount(lastRow + 1, oldLastRow); row > 0; row--)\n                this.$lines.pop();\n        if (config.firstRow < oldConfig.firstRow) {\n            this.$lines.unshift(this.$renderLines(config, config.firstRow, oldConfig.firstRow - 1));\n        }\n        if (lastRow > oldLastRow) {\n            this.$lines.push(this.$renderLines(config, oldLastRow + 1, lastRow));\n        }\n        this.updateLineHighlight();\n        this._signal(\"afterRender\");\n        this.$updateGutterWidth(config);\n    };\n    this.$renderLines = function (config, firstRow, lastRow) {\n        var fragment = [];\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row + 1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            if (row > lastRow)\n                break;\n            var cell = this.$lines.createCell(row, config, this.session, onCreateCell);\n            this.$renderCell(cell, config, foldLine, row);\n            fragment.push(cell);\n            row++;\n        }\n        return fragment;\n    };\n    this.$renderCell = function (cell, config, fold, row) {\n        var element = cell.element;\n        var session = this.session;\n        var textNode = element.childNodes[0];\n        var foldWidget = element.childNodes[1];\n        var firstLineNumber = session.$firstLineNumber;\n        var breakpoints = session.$breakpoints;\n        var decorations = session.$decorations;\n        var gutterRenderer = session.gutterRenderer || this.$renderer;\n        var foldWidgets = this.$showFoldWidgets && session.foldWidgets;\n        var foldStart = fold ? fold.start.row : Number.MAX_VALUE;\n        var className = \"ace_gutter-cell \";\n        if (this.$highlightGutterLine) {\n            if (row == this.$cursorRow || (fold && row < this.$cursorRow && row >= foldStart && this.$cursorRow <= fold.end.row)) {\n                className += \"ace_gutter-active-line \";\n                if (this.$cursorCell != cell) {\n                    if (this.$cursorCell)\n                        this.$cursorCell.element.className = this.$cursorCell.element.className.replace(\"ace_gutter-active-line \", \"\");\n                    this.$cursorCell = cell;\n                }\n            }\n        }\n        if (breakpoints[row])\n            className += breakpoints[row];\n        if (decorations[row])\n            className += decorations[row];\n        if (this.$annotations[row])\n            className += this.$annotations[row].className;\n        if (element.className != className)\n            element.className = className;\n        if (foldWidgets) {\n            var c = foldWidgets[row];\n            if (c == null)\n                c = foldWidgets[row] = session.getFoldWidget(row);\n        }\n        if (c) {\n            var className = \"ace_fold-widget ace_\" + c;\n            if (c == \"start\" && row == foldStart && row < fold.end.row)\n                className += \" ace_closed\";\n            else\n                className += \" ace_open\";\n            if (foldWidget.className != className)\n                foldWidget.className = className;\n            var foldHeight = config.lineHeight + \"px\";\n            dom.setStyle(foldWidget.style, \"height\", foldHeight);\n            dom.setStyle(foldWidget.style, \"display\", \"inline-block\");\n        }\n        else {\n            if (foldWidget) {\n                dom.setStyle(foldWidget.style, \"display\", \"none\");\n            }\n        }\n        var text = (gutterRenderer\n            ? gutterRenderer.getText(session, row)\n            : row + firstLineNumber).toString();\n        if (text !== textNode.data) {\n            textNode.data = text;\n        }\n        dom.setStyle(cell.element.style, \"height\", this.$lines.computeLineHeight(row, config, session) + \"px\");\n        dom.setStyle(cell.element.style, \"top\", this.$lines.computeLineTop(row, config, session) + \"px\");\n        cell.text = text;\n        return cell;\n    };\n    this.$fixedWidth = false;\n    this.$highlightGutterLine = true;\n    this.$renderer = \"\";\n    this.setHighlightGutterLine = function (highlightGutterLine) {\n        this.$highlightGutterLine = highlightGutterLine;\n    };\n    this.$showLineNumbers = true;\n    this.$renderer = \"\";\n    this.setShowLineNumbers = function (show) {\n        this.$renderer = !show && {\n            getWidth: function () { return 0; },\n            getText: function () { return \"\"; }\n        };\n    };\n    this.getShowLineNumbers = function () {\n        return this.$showLineNumbers;\n    };\n    this.$showFoldWidgets = true;\n    this.setShowFoldWidgets = function (show) {\n        if (show)\n            dom.addCssClass(this.element, \"ace_folding-enabled\");\n        else\n            dom.removeCssClass(this.element, \"ace_folding-enabled\");\n        this.$showFoldWidgets = show;\n        this.$padding = null;\n    };\n    this.getShowFoldWidgets = function () {\n        return this.$showFoldWidgets;\n    };\n    this.$computePadding = function () {\n        if (!this.element.firstChild)\n            return { left: 0, right: 0 };\n        var style = dom.computedStyle(this.element.firstChild);\n        this.$padding = {};\n        this.$padding.left = (parseInt(style.borderLeftWidth) || 0)\n            + (parseInt(style.paddingLeft) || 0) + 1;\n        this.$padding.right = (parseInt(style.borderRightWidth) || 0)\n            + (parseInt(style.paddingRight) || 0);\n        return this.$padding;\n    };\n    this.getRegion = function (point) {\n        var padding = this.$padding || this.$computePadding();\n        var rect = this.element.getBoundingClientRect();\n        if (point.x < padding.left + rect.left)\n            return \"markers\";\n        if (this.$showFoldWidgets && point.x > rect.right - padding.right)\n            return \"foldWidgets\";\n    };\n}).call(Gutter.prototype);\nfunction onCreateCell(element) {\n    var textNode = document.createTextNode('');\n    element.appendChild(textNode);\n    var foldWidget = dom.createElement(\"span\");\n    element.appendChild(foldWidget);\n    return element;\n}\nexports.Gutter = Gutter;\n\n});\n\nace.define(\"ace/layer/marker\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"../range\").Range;\nvar dom = require(\"../lib/dom\");\nvar Marker = function (parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_marker-layer\";\n    parentEl.appendChild(this.element);\n};\n(function () {\n    this.$padding = 0;\n    this.setPadding = function (padding) {\n        this.$padding = padding;\n    };\n    this.setSession = function (session) {\n        this.session = session;\n    };\n    this.setMarkers = function (markers) {\n        this.markers = markers;\n    };\n    this.elt = function (className, css) {\n        var x = this.i != -1 && this.element.childNodes[this.i];\n        if (!x) {\n            x = document.createElement(\"div\");\n            this.element.appendChild(x);\n            this.i = -1;\n        }\n        else {\n            this.i++;\n        }\n        x.style.cssText = css;\n        x.className = className;\n    };\n    this.update = function (config) {\n        if (!config)\n            return;\n        this.config = config;\n        this.i = 0;\n        var html;\n        for (var key in this.markers) {\n            var marker = this.markers[key];\n            if (!marker.range) {\n                marker.update(html, this, this.session, config);\n                continue;\n            }\n            var range = marker.range.clipRows(config.firstRow, config.lastRow);\n            if (range.isEmpty())\n                continue;\n            range = range.toScreenRange(this.session);\n            if (marker.renderer) {\n                var top = this.$getTop(range.start.row, config);\n                var left = this.$padding + range.start.column * config.characterWidth;\n                marker.renderer(html, range, left, top, config);\n            }\n            else if (marker.type == \"fullLine\") {\n                this.drawFullLineMarker(html, range, marker.clazz, config);\n            }\n            else if (marker.type == \"screenLine\") {\n                this.drawScreenLineMarker(html, range, marker.clazz, config);\n            }\n            else if (range.isMultiLine()) {\n                if (marker.type == \"text\")\n                    this.drawTextMarker(html, range, marker.clazz, config);\n                else\n                    this.drawMultiLineMarker(html, range, marker.clazz, config);\n            }\n            else {\n                this.drawSingleLineMarker(html, range, marker.clazz + \" ace_start\" + \" ace_br15\", config);\n            }\n        }\n        if (this.i != -1) {\n            while (this.i < this.element.childElementCount)\n                this.element.removeChild(this.element.lastChild);\n        }\n    };\n    this.$getTop = function (row, layerConfig) {\n        return (row - layerConfig.firstRowScreen) * layerConfig.lineHeight;\n    };\n    function getBorderClass(tl, tr, br, bl) {\n        return (tl ? 1 : 0) | (tr ? 2 : 0) | (br ? 4 : 0) | (bl ? 8 : 0);\n    }\n    this.drawTextMarker = function (stringBuilder, range, clazz, layerConfig, extraStyle) {\n        var session = this.session;\n        var start = range.start.row;\n        var end = range.end.row;\n        var row = start;\n        var prev = 0;\n        var curr = 0;\n        var next = session.getScreenLastRowColumn(row);\n        var lineRange = new Range(row, range.start.column, row, curr);\n        for (; row <= end; row++) {\n            lineRange.start.row = lineRange.end.row = row;\n            lineRange.start.column = row == start ? range.start.column : session.getRowWrapIndent(row);\n            lineRange.end.column = next;\n            prev = curr;\n            curr = next;\n            next = row + 1 < end ? session.getScreenLastRowColumn(row + 1) : row == end ? 0 : range.end.column;\n            this.drawSingleLineMarker(stringBuilder, lineRange, clazz + (row == start ? \" ace_start\" : \"\") + \" ace_br\"\n                + getBorderClass(row == start || row == start + 1 && range.start.column, prev < curr, curr > next, row == end), layerConfig, row == end ? 0 : 1, extraStyle);\n        }\n    };\n    this.drawMultiLineMarker = function (stringBuilder, range, clazz, config, extraStyle) {\n        var padding = this.$padding;\n        var height = config.lineHeight;\n        var top = this.$getTop(range.start.row, config);\n        var left = padding + range.start.column * config.characterWidth;\n        extraStyle = extraStyle || \"\";\n        if (this.session.$bidiHandler.isBidiRow(range.start.row)) {\n            var range1 = range.clone();\n            range1.end.row = range1.start.row;\n            range1.end.column = this.session.getLine(range1.start.row).length;\n            this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br1 ace_start\", config, null, extraStyle);\n        }\n        else {\n            this.elt(clazz + \" ace_br1 ace_start\", \"height:\" + height + \"px;\" + \"right:0;\" + \"top:\" + top + \"px;left:\" + left + \"px;\" + (extraStyle || \"\"));\n        }\n        if (this.session.$bidiHandler.isBidiRow(range.end.row)) {\n            var range1 = range.clone();\n            range1.start.row = range1.end.row;\n            range1.start.column = 0;\n            this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br12\", config, null, extraStyle);\n        }\n        else {\n            top = this.$getTop(range.end.row, config);\n            var width = range.end.column * config.characterWidth;\n            this.elt(clazz + \" ace_br12\", \"height:\" + height + \"px;\" +\n                \"width:\" + width + \"px;\" +\n                \"top:\" + top + \"px;\" +\n                \"left:\" + padding + \"px;\" + (extraStyle || \"\"));\n        }\n        height = (range.end.row - range.start.row - 1) * config.lineHeight;\n        if (height <= 0)\n            return;\n        top = this.$getTop(range.start.row + 1, config);\n        var radiusClass = (range.start.column ? 1 : 0) | (range.end.column ? 0 : 8);\n        this.elt(clazz + (radiusClass ? \" ace_br\" + radiusClass : \"\"), \"height:\" + height + \"px;\" +\n            \"right:0;\" +\n            \"top:\" + top + \"px;\" +\n            \"left:\" + padding + \"px;\" + (extraStyle || \"\"));\n    };\n    this.drawSingleLineMarker = function (stringBuilder, range, clazz, config, extraLength, extraStyle) {\n        if (this.session.$bidiHandler.isBidiRow(range.start.row))\n            return this.drawBidiSingleLineMarker(stringBuilder, range, clazz, config, extraLength, extraStyle);\n        var height = config.lineHeight;\n        var width = (range.end.column + (extraLength || 0) - range.start.column) * config.characterWidth;\n        var top = this.$getTop(range.start.row, config);\n        var left = this.$padding + range.start.column * config.characterWidth;\n        this.elt(clazz, \"height:\" + height + \"px;\" +\n            \"width:\" + width + \"px;\" +\n            \"top:\" + top + \"px;\" +\n            \"left:\" + left + \"px;\" + (extraStyle || \"\"));\n    };\n    this.drawBidiSingleLineMarker = function (stringBuilder, range, clazz, config, extraLength, extraStyle) {\n        var height = config.lineHeight, top = this.$getTop(range.start.row, config), padding = this.$padding;\n        var selections = this.session.$bidiHandler.getSelections(range.start.column, range.end.column);\n        selections.forEach(function (selection) {\n            this.elt(clazz, \"height:\" + height + \"px;\" +\n                \"width:\" + (selection.width + (extraLength || 0)) + \"px;\" +\n                \"top:\" + top + \"px;\" +\n                \"left:\" + (padding + selection.left) + \"px;\" + (extraStyle || \"\"));\n        }, this);\n    };\n    this.drawFullLineMarker = function (stringBuilder, range, clazz, config, extraStyle) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n        if (range.start.row != range.end.row)\n            height += this.$getTop(range.end.row, config) - top;\n        this.elt(clazz, \"height:\" + height + \"px;\" +\n            \"top:\" + top + \"px;\" +\n            \"left:0;right:0;\" + (extraStyle || \"\"));\n    };\n    this.drawScreenLineMarker = function (stringBuilder, range, clazz, config, extraStyle) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n        this.elt(clazz, \"height:\" + height + \"px;\" +\n            \"top:\" + top + \"px;\" +\n            \"left:0;right:0;\" + (extraStyle || \"\"));\n    };\n}).call(Marker.prototype);\nexports.Marker = Marker;\n\n});\n\nace.define(\"ace/layer/text\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/layer/lines\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"../lib/oop\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar Lines = require(\"./lines\").Lines;\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar Text = function (parentEl) {\n    this.dom = dom;\n    this.element = this.dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_text-layer\";\n    parentEl.appendChild(this.element);\n    this.$updateEolChar = this.$updateEolChar.bind(this);\n    this.$lines = new Lines(this.element);\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.EOF_CHAR = \"\\xB6\";\n    this.EOL_CHAR_LF = \"\\xAC\";\n    this.EOL_CHAR_CRLF = \"\\xa4\";\n    this.EOL_CHAR = this.EOL_CHAR_LF;\n    this.TAB_CHAR = \"\\u2014\"; //\"\\u21E5\";\n    this.SPACE_CHAR = \"\\xB7\";\n    this.$padding = 0;\n    this.MAX_LINE_LENGTH = 10000;\n    this.MAX_CHUNK_LENGTH = 250;\n    this.$updateEolChar = function () {\n        var doc = this.session.doc;\n        var unixMode = doc.getNewLineCharacter() == \"\\n\" && doc.getNewLineMode() != \"windows\";\n        var EOL_CHAR = unixMode ? this.EOL_CHAR_LF : this.EOL_CHAR_CRLF;\n        if (this.EOL_CHAR != EOL_CHAR) {\n            this.EOL_CHAR = EOL_CHAR;\n            return true;\n        }\n    };\n    this.setPadding = function (padding) {\n        this.$padding = padding;\n        this.element.style.margin = \"0 \" + padding + \"px\";\n    };\n    this.getLineHeight = function () {\n        return this.$fontMetrics.$characterSize.height || 0;\n    };\n    this.getCharacterWidth = function () {\n        return this.$fontMetrics.$characterSize.width || 0;\n    };\n    this.$setFontMetrics = function (measure) {\n        this.$fontMetrics = measure;\n        this.$fontMetrics.on(\"changeCharacterSize\", function (e) {\n            this._signal(\"changeCharacterSize\", e);\n        }.bind(this));\n        this.$pollSizeChanges();\n    };\n    this.checkForSizeChanges = function () {\n        this.$fontMetrics.checkForSizeChanges();\n    };\n    this.$pollSizeChanges = function () {\n        return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges();\n    };\n    this.setSession = function (session) {\n        this.session = session;\n        if (session)\n            this.$computeTabString();\n    };\n    this.showInvisibles = false;\n    this.showSpaces = false;\n    this.showTabs = false;\n    this.showEOL = false;\n    this.setShowInvisibles = function (showInvisibles) {\n        if (this.showInvisibles == showInvisibles)\n            return false;\n        this.showInvisibles = showInvisibles;\n        if (typeof showInvisibles == \"string\") {\n            this.showSpaces = /tab/i.test(showInvisibles);\n            this.showTabs = /space/i.test(showInvisibles);\n            this.showEOL = /eol/i.test(showInvisibles);\n        }\n        else {\n            this.showSpaces = this.showTabs = this.showEOL = showInvisibles;\n        }\n        this.$computeTabString();\n        return true;\n    };\n    this.displayIndentGuides = true;\n    this.setDisplayIndentGuides = function (display) {\n        if (this.displayIndentGuides == display)\n            return false;\n        this.displayIndentGuides = display;\n        this.$computeTabString();\n        return true;\n    };\n    this.$highlightIndentGuides = true;\n    this.setHighlightIndentGuides = function (highlight) {\n        if (this.$highlightIndentGuides === highlight)\n            return false;\n        this.$highlightIndentGuides = highlight;\n        return highlight;\n    };\n    this.$tabStrings = [];\n    this.onChangeTabSize =\n        this.$computeTabString = function () {\n            var tabSize = this.session.getTabSize();\n            this.tabSize = tabSize;\n            var tabStr = this.$tabStrings = [0];\n            for (var i = 1; i < tabSize + 1; i++) {\n                if (this.showTabs) {\n                    var span = this.dom.createElement(\"span\");\n                    span.className = \"ace_invisible ace_invisible_tab\";\n                    span.textContent = lang.stringRepeat(this.TAB_CHAR, i);\n                    tabStr.push(span);\n                }\n                else {\n                    tabStr.push(this.dom.createTextNode(lang.stringRepeat(\" \", i), this.element));\n                }\n            }\n            if (this.displayIndentGuides) {\n                this.$indentGuideRe = /\\s\\S| \\t|\\t |\\s$/;\n                var className = \"ace_indent-guide\";\n                var spaceClass = this.showSpaces ? \" ace_invisible ace_invisible_space\" : \"\";\n                var spaceContent = this.showSpaces\n                    ? lang.stringRepeat(this.SPACE_CHAR, this.tabSize)\n                    : lang.stringRepeat(\" \", this.tabSize);\n                var tabClass = this.showTabs ? \" ace_invisible ace_invisible_tab\" : \"\";\n                var tabContent = this.showTabs\n                    ? lang.stringRepeat(this.TAB_CHAR, this.tabSize)\n                    : spaceContent;\n                var span = this.dom.createElement(\"span\");\n                span.className = className + spaceClass;\n                span.textContent = spaceContent;\n                this.$tabStrings[\" \"] = span;\n                var span = this.dom.createElement(\"span\");\n                span.className = className + tabClass;\n                span.textContent = tabContent;\n                this.$tabStrings[\"\\t\"] = span;\n            }\n        };\n    this.updateLines = function (config, firstRow, lastRow) {\n        if (this.config.lastRow != config.lastRow ||\n            this.config.firstRow != config.firstRow) {\n            return this.update(config);\n        }\n        this.config = config;\n        var first = Math.max(firstRow, config.firstRow);\n        var last = Math.min(lastRow, config.lastRow);\n        var lineElements = this.element.childNodes;\n        var lineElementsIdx = 0;\n        for (var row = config.firstRow; row < first; row++) {\n            var foldLine = this.session.getFoldLine(row);\n            if (foldLine) {\n                if (foldLine.containsRow(first)) {\n                    first = foldLine.start.row;\n                    break;\n                }\n                else {\n                    row = foldLine.end.row;\n                }\n            }\n            lineElementsIdx++;\n        }\n        var heightChanged = false;\n        var row = first;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row + 1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            if (row > last)\n                break;\n            var lineElement = lineElements[lineElementsIdx++];\n            if (lineElement) {\n                this.dom.removeChildren(lineElement);\n                this.$renderLine(lineElement, row, row == foldStart ? foldLine : false);\n                if (heightChanged)\n                    lineElement.style.top = this.$lines.computeLineTop(row, config, this.session) + \"px\";\n                var height = (config.lineHeight * this.session.getRowLength(row)) + \"px\";\n                if (lineElement.style.height != height) {\n                    heightChanged = true;\n                    lineElement.style.height = height;\n                }\n            }\n            row++;\n        }\n        if (heightChanged) {\n            while (lineElementsIdx < this.$lines.cells.length) {\n                var cell = this.$lines.cells[lineElementsIdx++];\n                cell.element.style.top = this.$lines.computeLineTop(cell.row, config, this.session) + \"px\";\n            }\n        }\n    };\n    this.scrollLines = function (config) {\n        var oldConfig = this.config;\n        this.config = config;\n        if (this.$lines.pageChanged(oldConfig, config))\n            return this.update(config);\n        this.$lines.moveContainer(config);\n        var lastRow = config.lastRow;\n        var oldLastRow = oldConfig ? oldConfig.lastRow : -1;\n        if (!oldConfig || oldLastRow < config.firstRow)\n            return this.update(config);\n        if (lastRow < oldConfig.firstRow)\n            return this.update(config);\n        if (!oldConfig || oldConfig.lastRow < config.firstRow)\n            return this.update(config);\n        if (config.lastRow < oldConfig.firstRow)\n            return this.update(config);\n        if (oldConfig.firstRow < config.firstRow)\n            for (var row = this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row > 0; row--)\n                this.$lines.shift();\n        if (oldConfig.lastRow > config.lastRow)\n            for (var row = this.session.getFoldedRowCount(config.lastRow + 1, oldConfig.lastRow); row > 0; row--)\n                this.$lines.pop();\n        if (config.firstRow < oldConfig.firstRow) {\n            this.$lines.unshift(this.$renderLinesFragment(config, config.firstRow, oldConfig.firstRow - 1));\n        }\n        if (config.lastRow > oldConfig.lastRow) {\n            this.$lines.push(this.$renderLinesFragment(config, oldConfig.lastRow + 1, config.lastRow));\n        }\n        this.$highlightIndentGuide();\n    };\n    this.$renderLinesFragment = function (config, firstRow, lastRow) {\n        var fragment = [];\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row + 1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            if (row > lastRow)\n                break;\n            var line = this.$lines.createCell(row, config, this.session);\n            var lineEl = line.element;\n            this.dom.removeChildren(lineEl);\n            dom.setStyle(lineEl.style, \"height\", this.$lines.computeLineHeight(row, config, this.session) + \"px\");\n            dom.setStyle(lineEl.style, \"top\", this.$lines.computeLineTop(row, config, this.session) + \"px\");\n            this.$renderLine(lineEl, row, row == foldStart ? foldLine : false);\n            if (this.$useLineGroups()) {\n                lineEl.className = \"ace_line_group\";\n            }\n            else {\n                lineEl.className = \"ace_line\";\n                lineEl.setAttribute(\"role\", \"option\");\n            }\n            fragment.push(line);\n            row++;\n        }\n        return fragment;\n    };\n    this.update = function (config) {\n        this.$lines.moveContainer(config);\n        this.config = config;\n        var firstRow = config.firstRow;\n        var lastRow = config.lastRow;\n        var lines = this.$lines;\n        while (lines.getLength())\n            lines.pop();\n        lines.push(this.$renderLinesFragment(config, firstRow, lastRow));\n    };\n    this.$textToken = {\n        \"text\": true,\n        \"rparen\": true,\n        \"lparen\": true\n    };\n    this.$renderTokenInChunks = function (parent, screenColumn, token, value) {\n        var newScreenColumn;\n        for (var i = 0; i < value.length; i += this.MAX_CHUNK_LENGTH) {\n            var valueChunk = value.substring(i, i + this.MAX_CHUNK_LENGTH);\n            var tokenChunk = {\n                type: token.type,\n                value: valueChunk\n            };\n            newScreenColumn = this.$renderToken(parent, screenColumn + i, tokenChunk, valueChunk);\n        }\n        return newScreenColumn;\n    };\n    this.$renderToken = function (parent, screenColumn, token, value) {\n        var self = this;\n        var re = /(\\t)|( +)|([\\x00-\\x1f\\x80-\\xa0\\xad\\u1680\\u180E\\u2000-\\u200f\\u2028\\u2029\\u202F\\u205F\\uFEFF\\uFFF9-\\uFFFC\\u2066\\u2067\\u2068\\u202A\\u202B\\u202D\\u202E\\u202C\\u2069]+)|(\\u3000)|([\\u1100-\\u115F\\u11A3-\\u11A7\\u11FA-\\u11FF\\u2329-\\u232A\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3001-\\u303E\\u3041-\\u3096\\u3099-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u3190-\\u31BA\\u31C0-\\u31E3\\u31F0-\\u321E\\u3220-\\u3247\\u3250-\\u32FE\\u3300-\\u4DBF\\u4E00-\\uA48C\\uA490-\\uA4C6\\uA960-\\uA97C\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFAFF\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE66\\uFE68-\\uFE6B\\uFF01-\\uFF60\\uFFE0-\\uFFE6]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF])/g;\n        var valueFragment = this.dom.createFragment(this.element);\n        var m;\n        var i = 0;\n        while (m = re.exec(value)) {\n            var tab = m[1];\n            var simpleSpace = m[2];\n            var controlCharacter = m[3];\n            var cjkSpace = m[4];\n            var cjk = m[5];\n            if (!self.showSpaces && simpleSpace)\n                continue;\n            var before = i != m.index ? value.slice(i, m.index) : \"\";\n            i = m.index + m[0].length;\n            if (before) {\n                valueFragment.appendChild(this.dom.createTextNode(before, this.element));\n            }\n            if (tab) {\n                var tabSize = self.session.getScreenTabSize(screenColumn + m.index);\n                valueFragment.appendChild(self.$tabStrings[tabSize].cloneNode(true));\n                screenColumn += tabSize - 1;\n            }\n            else if (simpleSpace) {\n                if (self.showSpaces) {\n                    var span = this.dom.createElement(\"span\");\n                    span.className = \"ace_invisible ace_invisible_space\";\n                    span.textContent = lang.stringRepeat(self.SPACE_CHAR, simpleSpace.length);\n                    valueFragment.appendChild(span);\n                }\n                else {\n                    valueFragment.appendChild(this.com.createTextNode(simpleSpace, this.element));\n                }\n            }\n            else if (controlCharacter) {\n                var span = this.dom.createElement(\"span\");\n                span.className = \"ace_invisible ace_invisible_space ace_invalid\";\n                span.textContent = lang.stringRepeat(self.SPACE_CHAR, controlCharacter.length);\n                valueFragment.appendChild(span);\n            }\n            else if (cjkSpace) {\n                screenColumn += 1;\n                var span = this.dom.createElement(\"span\");\n                span.style.width = (self.config.characterWidth * 2) + \"px\";\n                span.className = self.showSpaces ? \"ace_cjk ace_invisible ace_invisible_space\" : \"ace_cjk\";\n                span.textContent = self.showSpaces ? self.SPACE_CHAR : cjkSpace;\n                valueFragment.appendChild(span);\n            }\n            else if (cjk) {\n                screenColumn += 1;\n                var span = this.dom.createElement(\"span\");\n                span.style.width = (self.config.characterWidth * 2) + \"px\";\n                span.className = \"ace_cjk\";\n                span.textContent = cjk;\n                valueFragment.appendChild(span);\n            }\n        }\n        valueFragment.appendChild(this.dom.createTextNode(i ? value.slice(i) : value, this.element));\n        var span = this.dom.createElement(\"span\");\n        if (!this.$textToken[token.type]) {\n            var classes = \"ace_\" + token.type.replace(/\\./g, \" ace_\");\n            if (token.type == \"fold\")\n                span.style.width = (token.value.length * this.config.characterWidth) + \"px\";\n            span.className = classes;\n        }\n        span.appendChild(valueFragment);\n        parent.appendChild(span);\n        return screenColumn + value.length;\n    };\n    this.renderIndentGuide = function (parent, value, max) {\n        var cols = value.search(this.$indentGuideRe);\n        if (cols <= 0 || cols >= max)\n            return value;\n        if (value[0] == \" \") {\n            cols -= cols % this.tabSize;\n            var count = cols / this.tabSize;\n            for (var i = 0; i < count; i++) {\n                parent.appendChild(this.$tabStrings[\" \"].cloneNode(true));\n            }\n            this.$highlightIndentGuide();\n            return value.substr(cols);\n        }\n        else if (value[0] == \"\\t\") {\n            for (var i = 0; i < cols; i++) {\n                parent.appendChild(this.$tabStrings[\"\\t\"].cloneNode(true));\n            }\n            this.$highlightIndentGuide();\n            return value.substr(cols);\n        }\n        this.$highlightIndentGuide();\n        return value;\n    };\n    this.$highlightIndentGuide = function () {\n        if (!this.$highlightIndentGuides || !this.displayIndentGuides)\n            return;\n        this.$highlightIndentGuideMarker = {\n            indentLevel: undefined,\n            start: undefined,\n            end: undefined,\n            dir: undefined\n        };\n        var lines = this.session.doc.$lines;\n        if (!lines)\n            return;\n        var cursor = this.session.selection.getCursor();\n        var initialIndent = /^\\s*/.exec(this.session.doc.getLine(cursor.row))[0].length;\n        var elementIndentLevel = Math.floor(initialIndent / this.tabSize);\n        this.$highlightIndentGuideMarker = {\n            indentLevel: elementIndentLevel,\n            start: cursor.row\n        };\n        var bracketHighlight = this.session.$bracketHighlight;\n        if (bracketHighlight) {\n            var ranges = this.session.$bracketHighlight.ranges;\n            for (var i = 0; i < ranges.length; i++) {\n                if (cursor.row !== ranges[i].start.row) {\n                    this.$highlightIndentGuideMarker.end = ranges[i].start.row;\n                    if (cursor.row > ranges[i].start.row) {\n                        this.$highlightIndentGuideMarker.dir = -1;\n                    }\n                    else {\n                        this.$highlightIndentGuideMarker.dir = 1;\n                    }\n                    break;\n                }\n            }\n        }\n        if (!this.$highlightIndentGuideMarker.end) {\n            if (lines[cursor.row] !== '' && cursor.column === lines[cursor.row].length) {\n                this.$highlightIndentGuideMarker.dir = 1;\n                for (var i = cursor.row + 1; i < lines.length; i++) {\n                    var line = lines[i];\n                    var currentIndent = /^\\s*/.exec(line)[0].length;\n                    if (line !== '') {\n                        this.$highlightIndentGuideMarker.end = i;\n                        if (currentIndent <= initialIndent)\n                            break;\n                    }\n                }\n            }\n        }\n        this.$renderHighlightIndentGuide();\n    };\n    this.$clearActiveIndentGuide = function () {\n        var cells = this.$lines.cells;\n        for (var i = 0; i < cells.length; i++) {\n            var cell = cells[i];\n            var childNodes = cell.element.childNodes;\n            if (childNodes.length > 0) {\n                for (var j = 0; j < childNodes.length; j++) {\n                    if (childNodes[j].classList && childNodes[j].classList.contains(\"ace_indent-guide-active\")) {\n                        childNodes[j].classList.remove(\"ace_indent-guide-active\");\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    this.$setIndentGuideActive = function (cell, indentLevel) {\n        var line = this.session.doc.getLine(cell.row);\n        if (line !== \"\") {\n            var childNodes = cell.element.childNodes;\n            if (childNodes) {\n                var node = childNodes[indentLevel - 1];\n                if (node && node.classList && node.classList.contains(\"ace_indent-guide\"))\n                    node.classList.add(\"ace_indent-guide-active\");\n            }\n        }\n    };\n    this.$renderHighlightIndentGuide = function () {\n        if (!this.$lines)\n            return;\n        var cells = this.$lines.cells;\n        this.$clearActiveIndentGuide();\n        var indentLevel = this.$highlightIndentGuideMarker.indentLevel;\n        if (indentLevel !== 0) {\n            if (this.$highlightIndentGuideMarker.dir === 1) {\n                for (var i = 0; i < cells.length; i++) {\n                    var cell = cells[i];\n                    if (this.$highlightIndentGuideMarker.end && cell.row >= this.$highlightIndentGuideMarker.start\n                        + 1) {\n                        if (cell.row >= this.$highlightIndentGuideMarker.end)\n                            break;\n                        this.$setIndentGuideActive(cell, indentLevel);\n                    }\n                }\n            }\n            else {\n                for (var i = cells.length - 1; i >= 0; i--) {\n                    var cell = cells[i];\n                    if (this.$highlightIndentGuideMarker.end && cell.row < this.$highlightIndentGuideMarker.start) {\n                        if (cell.row <= this.$highlightIndentGuideMarker.end)\n                            break;\n                        this.$setIndentGuideActive(cell, indentLevel);\n                    }\n                }\n            }\n        }\n    };\n    this.$createLineElement = function (parent) {\n        var lineEl = this.dom.createElement(\"div\");\n        lineEl.className = \"ace_line\";\n        lineEl.style.height = this.config.lineHeight + \"px\";\n        return lineEl;\n    };\n    this.$renderWrappedLine = function (parent, tokens, splits) {\n        var chars = 0;\n        var split = 0;\n        var splitChars = splits[0];\n        var screenColumn = 0;\n        var lineEl = this.$createLineElement();\n        parent.appendChild(lineEl);\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            var value = token.value;\n            if (i == 0 && this.displayIndentGuides) {\n                chars = value.length;\n                value = this.renderIndentGuide(lineEl, value, splitChars);\n                if (!value)\n                    continue;\n                chars -= value.length;\n            }\n            if (chars + value.length < splitChars) {\n                screenColumn = this.$renderTokenInChunks(lineEl, screenColumn, token, value);\n                chars += value.length;\n            }\n            else {\n                while (chars + value.length >= splitChars) {\n                    screenColumn = this.$renderTokenInChunks(lineEl, screenColumn, token, value.substring(0, splitChars - chars));\n                    value = value.substring(splitChars - chars);\n                    chars = splitChars;\n                    lineEl = this.$createLineElement();\n                    parent.appendChild(lineEl);\n                    lineEl.appendChild(this.dom.createTextNode(lang.stringRepeat(\"\\xa0\", splits.indent), this.element));\n                    split++;\n                    screenColumn = 0;\n                    splitChars = splits[split] || Number.MAX_VALUE;\n                }\n                if (value.length != 0) {\n                    chars += value.length;\n                    screenColumn = this.$renderTokenInChunks(lineEl, screenColumn, token, value);\n                }\n            }\n        }\n        if (splits[splits.length - 1] > this.MAX_LINE_LENGTH)\n            this.$renderOverflowMessage(lineEl, screenColumn, null, \"\", true);\n    };\n    this.$renderSimpleLine = function (parent, tokens) {\n        var screenColumn = 0;\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            var value = token.value;\n            if (i == 0 && this.displayIndentGuides) {\n                value = this.renderIndentGuide(parent, value);\n                if (!value)\n                    continue;\n            }\n            if (screenColumn + value.length > this.MAX_LINE_LENGTH) {\n                this.$renderOverflowMessage(parent, screenColumn, token, value);\n                return;\n            }\n            screenColumn = this.$renderTokenInChunks(parent, screenColumn, token, value);\n        }\n    };\n    this.$renderOverflowMessage = function (parent, screenColumn, token, value, hide) {\n        if (token) {\n            this.$renderTokenInChunks(parent, screenColumn, token, value.slice(0, this.MAX_LINE_LENGTH - screenColumn));\n        }\n        var overflowEl = this.dom.createElement(\"span\");\n        overflowEl.className = \"ace_inline_button ace_keyword ace_toggle_wrap\";\n        overflowEl.textContent = hide ? \"<hide>\" : \"<click to see more...>\";\n        parent.appendChild(overflowEl);\n    };\n    this.$renderLine = function (parent, row, foldLine) {\n        if (!foldLine && foldLine != false)\n            foldLine = this.session.getFoldLine(row);\n        if (foldLine)\n            var tokens = this.$getFoldLineTokens(row, foldLine);\n        else\n            var tokens = this.session.getTokens(row);\n        var lastLineEl = parent;\n        if (tokens.length) {\n            var splits = this.session.getRowSplitData(row);\n            if (splits && splits.length) {\n                this.$renderWrappedLine(parent, tokens, splits);\n                var lastLineEl = parent.lastChild;\n            }\n            else {\n                var lastLineEl = parent;\n                if (this.$useLineGroups()) {\n                    lastLineEl = this.$createLineElement();\n                    parent.appendChild(lastLineEl);\n                }\n                this.$renderSimpleLine(lastLineEl, tokens);\n            }\n        }\n        else if (this.$useLineGroups()) {\n            lastLineEl = this.$createLineElement();\n            parent.appendChild(lastLineEl);\n        }\n        if (this.showEOL && lastLineEl) {\n            if (foldLine)\n                row = foldLine.end.row;\n            var invisibleEl = this.dom.createElement(\"span\");\n            invisibleEl.className = \"ace_invisible ace_invisible_eol\";\n            invisibleEl.textContent = row == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR;\n            lastLineEl.appendChild(invisibleEl);\n        }\n    };\n    this.$getFoldLineTokens = function (row, foldLine) {\n        var session = this.session;\n        var renderTokens = [];\n        function addTokens(tokens, from, to) {\n            var idx = 0, col = 0;\n            while ((col + tokens[idx].value.length) < from) {\n                col += tokens[idx].value.length;\n                idx++;\n                if (idx == tokens.length)\n                    return;\n            }\n            if (col != from) {\n                var value = tokens[idx].value.substring(from - col);\n                if (value.length > (to - from))\n                    value = value.substring(0, to - from);\n                renderTokens.push({\n                    type: tokens[idx].type,\n                    value: value\n                });\n                col = from + value.length;\n                idx += 1;\n            }\n            while (col < to && idx < tokens.length) {\n                var value = tokens[idx].value;\n                if (value.length + col > to) {\n                    renderTokens.push({\n                        type: tokens[idx].type,\n                        value: value.substring(0, to - col)\n                    });\n                }\n                else\n                    renderTokens.push(tokens[idx]);\n                col += value.length;\n                idx += 1;\n            }\n        }\n        var tokens = session.getTokens(row);\n        foldLine.walk(function (placeholder, row, column, lastColumn, isNewRow) {\n            if (placeholder != null) {\n                renderTokens.push({\n                    type: \"fold\",\n                    value: placeholder\n                });\n            }\n            else {\n                if (isNewRow)\n                    tokens = session.getTokens(row);\n                if (tokens.length)\n                    addTokens(tokens, lastColumn, column);\n            }\n        }, foldLine.end.row, this.session.getLine(foldLine.end.row).length);\n        return renderTokens;\n    };\n    this.$useLineGroups = function () {\n        return this.session.getUseWrapMode();\n    };\n    this.destroy = function () { };\n}).call(Text.prototype);\nexports.Text = Text;\n\n});\n\nace.define(\"ace/layer/cursor\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar Cursor = function (parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_cursor-layer\";\n    parentEl.appendChild(this.element);\n    this.isVisible = false;\n    this.isBlinking = true;\n    this.blinkInterval = 1000;\n    this.smoothBlinking = false;\n    this.cursors = [];\n    this.cursor = this.addCursor();\n    dom.addCssClass(this.element, \"ace_hidden-cursors\");\n    this.$updateCursors = this.$updateOpacity.bind(this);\n};\n(function () {\n    this.$updateOpacity = function (val) {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--;)\n            dom.setStyle(cursors[i].style, \"opacity\", val ? \"\" : \"0\");\n    };\n    this.$startCssAnimation = function () {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--;)\n            cursors[i].style.animationDuration = this.blinkInterval + \"ms\";\n        this.$isAnimating = true;\n        setTimeout(function () {\n            if (this.$isAnimating) {\n                dom.addCssClass(this.element, \"ace_animate-blinking\");\n            }\n        }.bind(this));\n    };\n    this.$stopCssAnimation = function () {\n        this.$isAnimating = false;\n        dom.removeCssClass(this.element, \"ace_animate-blinking\");\n    };\n    this.$padding = 0;\n    this.setPadding = function (padding) {\n        this.$padding = padding;\n    };\n    this.setSession = function (session) {\n        this.session = session;\n    };\n    this.setBlinking = function (blinking) {\n        if (blinking != this.isBlinking) {\n            this.isBlinking = blinking;\n            this.restartTimer();\n        }\n    };\n    this.setBlinkInterval = function (blinkInterval) {\n        if (blinkInterval != this.blinkInterval) {\n            this.blinkInterval = blinkInterval;\n            this.restartTimer();\n        }\n    };\n    this.setSmoothBlinking = function (smoothBlinking) {\n        if (smoothBlinking != this.smoothBlinking) {\n            this.smoothBlinking = smoothBlinking;\n            dom.setCssClass(this.element, \"ace_smooth-blinking\", smoothBlinking);\n            this.$updateCursors(true);\n            this.restartTimer();\n        }\n    };\n    this.addCursor = function () {\n        var el = dom.createElement(\"div\");\n        el.className = \"ace_cursor\";\n        this.element.appendChild(el);\n        this.cursors.push(el);\n        return el;\n    };\n    this.removeCursor = function () {\n        if (this.cursors.length > 1) {\n            var el = this.cursors.pop();\n            el.parentNode.removeChild(el);\n            return el;\n        }\n    };\n    this.hideCursor = function () {\n        this.isVisible = false;\n        dom.addCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n    };\n    this.showCursor = function () {\n        this.isVisible = true;\n        dom.removeCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n    };\n    this.restartTimer = function () {\n        var update = this.$updateCursors;\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n        this.$stopCssAnimation();\n        if (this.smoothBlinking) {\n            this.$isSmoothBlinking = false;\n            dom.removeCssClass(this.element, \"ace_smooth-blinking\");\n        }\n        update(true);\n        if (!this.isBlinking || !this.blinkInterval || !this.isVisible) {\n            this.$stopCssAnimation();\n            return;\n        }\n        if (this.smoothBlinking) {\n            this.$isSmoothBlinking = true;\n            setTimeout(function () {\n                if (this.$isSmoothBlinking) {\n                    dom.addCssClass(this.element, \"ace_smooth-blinking\");\n                }\n            }.bind(this));\n        }\n        if (dom.HAS_CSS_ANIMATION) {\n            this.$startCssAnimation();\n        }\n        else {\n            var blink = function () {\n                this.timeoutId = setTimeout(function () {\n                    update(false);\n                }, 0.6 * this.blinkInterval);\n            }.bind(this);\n            this.intervalId = setInterval(function () {\n                update(true);\n                blink();\n            }, this.blinkInterval);\n            blink();\n        }\n    };\n    this.getPixelPosition = function (position, onScreen) {\n        if (!this.config || !this.session)\n            return { left: 0, top: 0 };\n        if (!position)\n            position = this.session.selection.getCursor();\n        var pos = this.session.documentToScreenPosition(position);\n        var cursorLeft = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, position.row)\n            ? this.session.$bidiHandler.getPosLeft(pos.column)\n            : pos.column * this.config.characterWidth);\n        var cursorTop = (pos.row - (onScreen ? this.config.firstRowScreen : 0)) *\n            this.config.lineHeight;\n        return { left: cursorLeft, top: cursorTop };\n    };\n    this.isCursorInView = function (pixelPos, config) {\n        return pixelPos.top >= 0 && pixelPos.top < config.maxHeight;\n    };\n    this.update = function (config) {\n        this.config = config;\n        var selections = this.session.$selectionMarkers;\n        var i = 0, cursorIndex = 0;\n        if (selections === undefined || selections.length === 0) {\n            selections = [{ cursor: null }];\n        }\n        for (var i = 0, n = selections.length; i < n; i++) {\n            var pixelPos = this.getPixelPosition(selections[i].cursor, true);\n            if ((pixelPos.top > config.height + config.offset ||\n                pixelPos.top < 0) && i > 1) {\n                continue;\n            }\n            var element = this.cursors[cursorIndex++] || this.addCursor();\n            var style = element.style;\n            if (!this.drawCursor) {\n                if (!this.isCursorInView(pixelPos, config)) {\n                    dom.setStyle(style, \"display\", \"none\");\n                }\n                else {\n                    dom.setStyle(style, \"display\", \"block\");\n                    dom.translate(element, pixelPos.left, pixelPos.top);\n                    dom.setStyle(style, \"width\", Math.round(config.characterWidth) + \"px\");\n                    dom.setStyle(style, \"height\", config.lineHeight + \"px\");\n                }\n            }\n            else {\n                this.drawCursor(element, pixelPos, config, selections[i], this.session);\n            }\n        }\n        while (this.cursors.length > cursorIndex)\n            this.removeCursor();\n        var overwrite = this.session.getOverwrite();\n        this.$setOverwrite(overwrite);\n        this.$pixelPos = pixelPos;\n        this.restartTimer();\n    };\n    this.drawCursor = null;\n    this.$setOverwrite = function (overwrite) {\n        if (overwrite != this.overwrite) {\n            this.overwrite = overwrite;\n            if (overwrite)\n                dom.addCssClass(this.element, \"ace_overwrite-cursors\");\n            else\n                dom.removeCssClass(this.element, \"ace_overwrite-cursors\");\n        }\n    };\n    this.destroy = function () {\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n    };\n}).call(Cursor.prototype);\nexports.Cursor = Cursor;\n\n});\n\nace.define(\"ace/scrollbar\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar MAX_SCROLL_H = 0x8000;\nvar ScrollBar = function (parent) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_scrollbar ace_scrollbar\" + this.classSuffix;\n    this.inner = dom.createElement(\"div\");\n    this.inner.className = \"ace_scrollbar-inner\";\n    this.inner.textContent = \"\\xa0\";\n    this.element.appendChild(this.inner);\n    parent.appendChild(this.element);\n    this.setVisible(false);\n    this.skipEvent = false;\n    event.addListener(this.element, \"scroll\", this.onScroll.bind(this));\n    event.addListener(this.element, \"mousedown\", event.preventDefault);\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.setVisible = function (isVisible) {\n        this.element.style.display = isVisible ? \"\" : \"none\";\n        this.isVisible = isVisible;\n        this.coeff = 1;\n    };\n}).call(ScrollBar.prototype);\nvar VScrollBar = function (parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollTop = 0;\n    this.scrollHeight = 0;\n    renderer.$scrollbarWidth =\n        this.width = dom.scrollbarWidth(parent.ownerDocument);\n    this.inner.style.width =\n        this.element.style.width = (this.width || 15) + 5 + \"px\";\n    this.$minWidth = 0;\n};\noop.inherits(VScrollBar, ScrollBar);\n(function () {\n    this.classSuffix = '-v';\n    this.onScroll = function () {\n        if (!this.skipEvent) {\n            this.scrollTop = this.element.scrollTop;\n            if (this.coeff != 1) {\n                var h = this.element.clientHeight / this.scrollHeight;\n                this.scrollTop = this.scrollTop * (1 - h) / (this.coeff - h);\n            }\n            this._emit(\"scroll\", { data: this.scrollTop });\n        }\n        this.skipEvent = false;\n    };\n    this.getWidth = function () {\n        return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0);\n    };\n    this.setHeight = function (height) {\n        this.element.style.height = height + \"px\";\n    };\n    this.setInnerHeight =\n        this.setScrollHeight = function (height) {\n            this.scrollHeight = height;\n            if (height > MAX_SCROLL_H) {\n                this.coeff = MAX_SCROLL_H / height;\n                height = MAX_SCROLL_H;\n            }\n            else if (this.coeff != 1) {\n                this.coeff = 1;\n            }\n            this.inner.style.height = height + \"px\";\n        };\n    this.setScrollTop = function (scrollTop) {\n        if (this.scrollTop != scrollTop) {\n            this.skipEvent = true;\n            this.scrollTop = scrollTop;\n            this.element.scrollTop = scrollTop * this.coeff;\n        }\n    };\n}).call(VScrollBar.prototype);\nvar HScrollBar = function (parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollLeft = 0;\n    this.height = renderer.$scrollbarWidth;\n    this.inner.style.height =\n        this.element.style.height = (this.height || 15) + 5 + \"px\";\n};\noop.inherits(HScrollBar, ScrollBar);\n(function () {\n    this.classSuffix = '-h';\n    this.onScroll = function () {\n        if (!this.skipEvent) {\n            this.scrollLeft = this.element.scrollLeft;\n            this._emit(\"scroll\", { data: this.scrollLeft });\n        }\n        this.skipEvent = false;\n    };\n    this.getHeight = function () {\n        return this.isVisible ? this.height : 0;\n    };\n    this.setWidth = function (width) {\n        this.element.style.width = width + \"px\";\n    };\n    this.setInnerWidth = function (width) {\n        this.inner.style.width = width + \"px\";\n    };\n    this.setScrollWidth = function (width) {\n        this.inner.style.width = width + \"px\";\n    };\n    this.setScrollLeft = function (scrollLeft) {\n        if (this.scrollLeft != scrollLeft) {\n            this.skipEvent = true;\n            this.scrollLeft = this.element.scrollLeft = scrollLeft;\n        }\n    };\n}).call(HScrollBar.prototype);\nexports.ScrollBar = VScrollBar; // backward compatibility\nexports.ScrollBarV = VScrollBar; // backward compatibility\nexports.ScrollBarH = HScrollBar; // backward compatibility\nexports.VScrollBar = VScrollBar;\nexports.HScrollBar = HScrollBar;\n\n});\n\nace.define(\"ace/scrollbar_custom\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\ndom.importCssString(\".ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{\\n  position: absolute;\\n  background: rgba(128, 128, 128, 0.6);\\n  -moz-box-sizing: border-box;\\n  box-sizing: border-box;\\n  border: 1px solid #bbb;\\n  border-radius: 2px;\\n  z-index: 8;\\n}\\n.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {\\n  position: absolute;\\n  z-index: 6;\\n  background: none;\\n  overflow: hidden!important;\\n}\\n.ace_editor>.ace_sb-v {\\n  z-index: 6;\\n  right: 0;\\n  top: 0;\\n  width: 12px;\\n}\\n.ace_editor>.ace_sb-v div {\\n  z-index: 8;\\n  right: 0;\\n  width: 100%;\\n}\\n.ace_editor>.ace_sb-h {\\n  bottom: 0;\\n  left: 0;\\n  height: 12px;\\n}\\n.ace_editor>.ace_sb-h div {\\n  bottom: 0;\\n  height: 100%;\\n}\\n.ace_editor>.ace_sb_grabbed {\\n  z-index: 8;\\n  background: #000;\\n}\", \"ace_scrollbar.css\", false);\nvar ScrollBar = function (parent) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_sb\" + this.classSuffix;\n    this.inner = dom.createElement(\"div\");\n    this.inner.className = \"\";\n    this.element.appendChild(this.inner);\n    this.VScrollWidth = 12;\n    this.HScrollHeight = 12;\n    parent.appendChild(this.element);\n    this.setVisible(false);\n    this.skipEvent = false;\n    event.addMultiMouseDownListener(this.element, [500, 300, 300], this, \"onMouseDown\");\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.setVisible = function (isVisible) {\n        this.element.style.display = isVisible ? \"\" : \"none\";\n        this.isVisible = isVisible;\n        this.coeff = 1;\n    };\n}).call(ScrollBar.prototype);\nvar VScrollBar = function (parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollTop = 0;\n    this.scrollHeight = 0;\n    this.parent = parent;\n    this.width = this.VScrollWidth;\n    this.renderer = renderer;\n    this.inner.style.width = this.element.style.width = (this.width || 15) + \"px\";\n    this.$minWidth = 0;\n};\noop.inherits(VScrollBar, ScrollBar);\n(function () {\n    this.classSuffix = '-v';\n    oop.implement(this, EventEmitter);\n    this.onMouseDown = function (eType, e) {\n        if (eType !== \"mousedown\")\n            return;\n        if (event.getButton(e) !== 0 || e.detail === 2) {\n            return;\n        }\n        if (e.target === this.inner) {\n            var self = this;\n            var mousePageY = e.clientY;\n            var onMouseMove = function (e) {\n                mousePageY = e.clientY;\n            };\n            var onMouseUp = function () {\n                clearInterval(timerId);\n            };\n            var startY = e.clientY;\n            var startTop = this.thumbTop;\n            var onScrollInterval = function () {\n                if (mousePageY === undefined)\n                    return;\n                var scrollTop = self.scrollTopFromThumbTop(startTop + mousePageY - startY);\n                if (scrollTop === self.scrollTop)\n                    return;\n                self._emit(\"scroll\", { data: scrollTop });\n            };\n            event.capture(this.inner, onMouseMove, onMouseUp);\n            var timerId = setInterval(onScrollInterval, 20);\n            return event.preventDefault(e);\n        }\n        var top = e.clientY - this.element.getBoundingClientRect().top - this.thumbHeight / 2;\n        this._emit(\"scroll\", { data: this.scrollTopFromThumbTop(top) });\n        return event.preventDefault(e);\n    };\n    this.getHeight = function () {\n        return this.height;\n    };\n    this.scrollTopFromThumbTop = function (thumbTop) {\n        var scrollTop = thumbTop * (this.pageHeight - this.viewHeight) / (this.slideHeight - this.thumbHeight);\n        scrollTop = scrollTop >> 0;\n        if (scrollTop < 0) {\n            scrollTop = 0;\n        }\n        else if (scrollTop > this.pageHeight - this.viewHeight) {\n            scrollTop = this.pageHeight - this.viewHeight;\n        }\n        return scrollTop;\n    };\n    this.getWidth = function () {\n        return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0);\n    };\n    this.setHeight = function (height) {\n        this.height = Math.max(0, height);\n        this.slideHeight = this.height;\n        this.viewHeight = this.height;\n        this.setScrollHeight(this.pageHeight, true);\n    };\n    this.setInnerHeight = this.setScrollHeight = function (height, force) {\n        if (this.pageHeight === height && !force)\n            return;\n        this.pageHeight = height;\n        this.thumbHeight = this.slideHeight * this.viewHeight / this.pageHeight;\n        if (this.thumbHeight > this.slideHeight)\n            this.thumbHeight = this.slideHeight;\n        if (this.thumbHeight < 15)\n            this.thumbHeight = 15;\n        this.inner.style.height = this.thumbHeight + \"px\";\n        if (this.scrollTop > (this.pageHeight - this.viewHeight)) {\n            this.scrollTop = (this.pageHeight - this.viewHeight);\n            if (this.scrollTop < 0)\n                this.scrollTop = 0;\n            this._emit(\"scroll\", { data: this.scrollTop });\n        }\n    };\n    this.setScrollTop = function (scrollTop) {\n        this.scrollTop = scrollTop;\n        if (scrollTop < 0)\n            scrollTop = 0;\n        this.thumbTop = scrollTop * (this.slideHeight - this.thumbHeight) / (this.pageHeight - this.viewHeight);\n        this.inner.style.top = this.thumbTop + \"px\";\n    };\n}).call(VScrollBar.prototype);\nvar HScrollBar = function (parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollLeft = 0;\n    this.scrollWidth = 0;\n    this.height = this.HScrollHeight;\n    this.inner.style.height = this.element.style.height = (this.height || 12) + \"px\";\n    this.renderer = renderer;\n};\noop.inherits(HScrollBar, ScrollBar);\n(function () {\n    this.classSuffix = '-h';\n    oop.implement(this, EventEmitter);\n    this.onMouseDown = function (eType, e) {\n        if (eType !== \"mousedown\")\n            return;\n        if (event.getButton(e) !== 0 || e.detail === 2) {\n            return;\n        }\n        if (e.target === this.inner) {\n            var self = this;\n            var mousePageX = e.clientX;\n            var onMouseMove = function (e) {\n                mousePageX = e.clientX;\n            };\n            var onMouseUp = function () {\n                clearInterval(timerId);\n            };\n            var startX = e.clientX;\n            var startLeft = this.thumbLeft;\n            var onScrollInterval = function () {\n                if (mousePageX === undefined)\n                    return;\n                var scrollLeft = self.scrollLeftFromThumbLeft(startLeft + mousePageX - startX);\n                if (scrollLeft === self.scrollLeft)\n                    return;\n                self._emit(\"scroll\", { data: scrollLeft });\n            };\n            event.capture(this.inner, onMouseMove, onMouseUp);\n            var timerId = setInterval(onScrollInterval, 20);\n            return event.preventDefault(e);\n        }\n        var left = e.clientX - this.element.getBoundingClientRect().left - this.thumbWidth / 2;\n        this._emit(\"scroll\", { data: this.scrollLeftFromThumbLeft(left) });\n        return event.preventDefault(e);\n    };\n    this.getHeight = function () {\n        return this.isVisible ? this.height : 0;\n    };\n    this.scrollLeftFromThumbLeft = function (thumbLeft) {\n        var scrollLeft = thumbLeft * (this.pageWidth - this.viewWidth) / (this.slideWidth - this.thumbWidth);\n        scrollLeft = scrollLeft >> 0;\n        if (scrollLeft < 0) {\n            scrollLeft = 0;\n        }\n        else if (scrollLeft > this.pageWidth - this.viewWidth) {\n            scrollLeft = this.pageWidth - this.viewWidth;\n        }\n        return scrollLeft;\n    };\n    this.setWidth = function (width) {\n        this.width = Math.max(0, width);\n        this.element.style.width = this.width + \"px\";\n        this.slideWidth = this.width;\n        this.viewWidth = this.width;\n        this.setScrollWidth(this.pageWidth, true);\n    };\n    this.setInnerWidth = this.setScrollWidth = function (width, force) {\n        if (this.pageWidth === width && !force)\n            return;\n        this.pageWidth = width;\n        this.thumbWidth = this.slideWidth * this.viewWidth / this.pageWidth;\n        if (this.thumbWidth > this.slideWidth)\n            this.thumbWidth = this.slideWidth;\n        if (this.thumbWidth < 15)\n            this.thumbWidth = 15;\n        this.inner.style.width = this.thumbWidth + \"px\";\n        if (this.scrollLeft > (this.pageWidth - this.viewWidth)) {\n            this.scrollLeft = (this.pageWidth - this.viewWidth);\n            if (this.scrollLeft < 0)\n                this.scrollLeft = 0;\n            this._emit(\"scroll\", { data: this.scrollLeft });\n        }\n    };\n    this.setScrollLeft = function (scrollLeft) {\n        this.scrollLeft = scrollLeft;\n        if (scrollLeft < 0)\n            scrollLeft = 0;\n        this.thumbLeft = scrollLeft * (this.slideWidth - this.thumbWidth) / (this.pageWidth - this.viewWidth);\n        this.inner.style.left = (this.thumbLeft) + \"px\";\n    };\n}).call(HScrollBar.prototype);\nexports.ScrollBar = VScrollBar; // backward compatibility\nexports.ScrollBarV = VScrollBar; // backward compatibility\nexports.ScrollBarH = HScrollBar; // backward compatibility\nexports.VScrollBar = VScrollBar;\nexports.HScrollBar = HScrollBar;\n\n});\n\nace.define(\"ace/renderloop\",[\"require\",\"exports\",\"module\",\"ace/lib/event\"], function(require, exports, module){\"use strict\";\nvar event = require(\"./lib/event\");\nvar RenderLoop = function (onRender, win) {\n    this.onRender = onRender;\n    this.pending = false;\n    this.changes = 0;\n    this.$recursionLimit = 2;\n    this.window = win || window;\n    var _self = this;\n    this._flush = function (ts) {\n        _self.pending = false;\n        var changes = _self.changes;\n        if (changes) {\n            event.blockIdle(100);\n            _self.changes = 0;\n            _self.onRender(changes);\n        }\n        if (_self.changes) {\n            if (_self.$recursionLimit-- < 0)\n                return;\n            _self.schedule();\n        }\n        else {\n            _self.$recursionLimit = 2;\n        }\n    };\n};\n(function () {\n    this.schedule = function (change) {\n        this.changes = this.changes | change;\n        if (this.changes && !this.pending) {\n            event.nextFrame(this._flush);\n            this.pending = true;\n        }\n    };\n    this.clear = function (change) {\n        var changes = this.changes;\n        this.changes = 0;\n        return changes;\n    };\n}).call(RenderLoop.prototype);\nexports.RenderLoop = RenderLoop;\n\n});\n\nace.define(\"ace/layer/font_metrics\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/lib/event_emitter\"], function(require, exports, module){var oop = require(\"../lib/oop\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar DEFAULT_CHAR_COUNT = 250;\nvar USE_OBSERVER = typeof ResizeObserver == \"function\";\nvar L = 200;\nvar FontMetrics = exports.FontMetrics = function (parentEl, charCount) {\n    this.charCount = charCount || DEFAULT_CHAR_COUNT;\n    this.el = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.el.style, true);\n    this.$main = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$main.style);\n    this.$measureNode = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$measureNode.style);\n    this.el.appendChild(this.$main);\n    this.el.appendChild(this.$measureNode);\n    parentEl.appendChild(this.el);\n    this.$measureNode.textContent = lang.stringRepeat(\"X\", this.charCount);\n    this.$characterSize = { width: 0, height: 0 };\n    if (USE_OBSERVER)\n        this.$addObserver();\n    else\n        this.checkForSizeChanges();\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.$characterSize = { width: 0, height: 0 };\n    this.$setMeasureNodeStyles = function (style, isRoot) {\n        style.width = style.height = \"auto\";\n        style.left = style.top = \"0px\";\n        style.visibility = \"hidden\";\n        style.position = \"absolute\";\n        style.whiteSpace = \"pre\";\n        if (useragent.isIE < 8) {\n            style[\"font-family\"] = \"inherit\";\n        }\n        else {\n            style.font = \"inherit\";\n        }\n        style.overflow = isRoot ? \"hidden\" : \"visible\";\n    };\n    this.checkForSizeChanges = function (size) {\n        if (size === undefined)\n            size = this.$measureSizes();\n        if (size && (this.$characterSize.width !== size.width || this.$characterSize.height !== size.height)) {\n            this.$measureNode.style.fontWeight = \"bold\";\n            var boldSize = this.$measureSizes();\n            this.$measureNode.style.fontWeight = \"\";\n            this.$characterSize = size;\n            this.charSizes = Object.create(null);\n            this.allowBoldFonts = boldSize && boldSize.width === size.width && boldSize.height === size.height;\n            this._emit(\"changeCharacterSize\", { data: size });\n        }\n    };\n    this.$addObserver = function () {\n        var self = this;\n        this.$observer = new window.ResizeObserver(function (e) {\n            self.checkForSizeChanges();\n        });\n        this.$observer.observe(this.$measureNode);\n    };\n    this.$pollSizeChanges = function () {\n        if (this.$pollSizeChangesTimer || this.$observer)\n            return this.$pollSizeChangesTimer;\n        var self = this;\n        return this.$pollSizeChangesTimer = event.onIdle(function cb() {\n            self.checkForSizeChanges();\n            event.onIdle(cb, 500);\n        }, 500);\n    };\n    this.setPolling = function (val) {\n        if (val) {\n            this.$pollSizeChanges();\n        }\n        else if (this.$pollSizeChangesTimer) {\n            clearInterval(this.$pollSizeChangesTimer);\n            this.$pollSizeChangesTimer = 0;\n        }\n    };\n    this.$measureSizes = function (node) {\n        node = node || this.$measureNode;\n        var rect = node.getBoundingClientRect();\n        var charSize = {\n            height: rect.height,\n            width: rect.width / this.charCount\n        };\n        if (charSize.width === 0 || charSize.height === 0)\n            return null;\n        return charSize;\n    };\n    this.$measureCharWidth = function (ch) {\n        this.$main.textContent = lang.stringRepeat(ch, this.charCount);\n        var rect = this.$main.getBoundingClientRect();\n        return rect.width / this.charCount;\n    };\n    this.getCharacterWidth = function (ch) {\n        var w = this.charSizes[ch];\n        if (w === undefined) {\n            w = this.charSizes[ch] = this.$measureCharWidth(ch) / this.$characterSize.width;\n        }\n        return w;\n    };\n    this.destroy = function () {\n        clearInterval(this.$pollSizeChangesTimer);\n        if (this.$observer)\n            this.$observer.disconnect();\n        if (this.el && this.el.parentNode)\n            this.el.parentNode.removeChild(this.el);\n    };\n    this.$getZoom = function getZoom(element) {\n        if (!element || !element.parentElement)\n            return 1;\n        return (window.getComputedStyle(element).zoom || 1) * getZoom(element.parentElement);\n    };\n    this.$initTransformMeasureNodes = function () {\n        var t = function (t, l) {\n            return [\"div\", {\n                    style: \"position: absolute;top:\" + t + \"px;left:\" + l + \"px;\"\n                }];\n        };\n        this.els = dom.buildDom([t(0, 0), t(L, 0), t(0, L), t(L, L)], this.el);\n    };\n    this.transformCoordinates = function (clientPos, elPos) {\n        if (clientPos) {\n            var zoom = this.$getZoom(this.el);\n            clientPos = mul(1 / zoom, clientPos);\n        }\n        function solve(l1, l2, r) {\n            var det = l1[1] * l2[0] - l1[0] * l2[1];\n            return [\n                (-l2[1] * r[0] + l2[0] * r[1]) / det,\n                (+l1[1] * r[0] - l1[0] * r[1]) / det\n            ];\n        }\n        function sub(a, b) { return [a[0] - b[0], a[1] - b[1]]; }\n        function add(a, b) { return [a[0] + b[0], a[1] + b[1]]; }\n        function mul(a, b) { return [a * b[0], a * b[1]]; }\n        if (!this.els)\n            this.$initTransformMeasureNodes();\n        function p(el) {\n            var r = el.getBoundingClientRect();\n            return [r.left, r.top];\n        }\n        var a = p(this.els[0]);\n        var b = p(this.els[1]);\n        var c = p(this.els[2]);\n        var d = p(this.els[3]);\n        var h = solve(sub(d, b), sub(d, c), sub(add(b, c), add(d, a)));\n        var m1 = mul(1 + h[0], sub(b, a));\n        var m2 = mul(1 + h[1], sub(c, a));\n        if (elPos) {\n            var x = elPos;\n            var k = h[0] * x[0] / L + h[1] * x[1] / L + 1;\n            var ut = add(mul(x[0], m1), mul(x[1], m2));\n            return add(mul(1 / k / L, ut), a);\n        }\n        var u = sub(clientPos, a);\n        var f = solve(sub(m1, mul(h[0], u)), sub(m2, mul(h[1], u)), u);\n        return mul(L, f);\n    };\n}).call(FontMetrics.prototype);\n\n});\n\nace.define(\"ace/css/editor.css\",[\"require\",\"exports\",\"module\"], function(require, exports, module){module.exports = \"/*\\nstyles = []\\nfor (var i = 1; i < 16; i++) {\\n    styles.push(\\\".ace_br\\\" + i + \\\"{\\\" + (\\n        [\\\"top-left\\\", \\\"top-right\\\", \\\"bottom-right\\\", \\\"bottom-left\\\"]\\n    ).map(function(x, j) {\\n        return i & (1<<j) ? \\\"border-\\\" + x + \\\"-radius: 3px;\\\" : \\\"\\\" \\n    }).filter(Boolean).join(\\\" \\\") + \\\"}\\\")\\n}\\nstyles.join(\\\"\\\\n\\\")\\n*/\\n.ace_br1 {border-top-left-radius    : 3px;}\\n.ace_br2 {border-top-right-radius   : 3px;}\\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\\n.ace_br4 {border-bottom-right-radius: 3px;}\\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\\n.ace_br8 {border-bottom-left-radius : 3px;}\\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\\n\\n\\n.ace_editor {\\n    position: relative;\\n    overflow: hidden;\\n    padding: 0;\\n    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;\\n    direction: ltr;\\n    text-align: left;\\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n}\\n\\n.ace_scroller {\\n    position: absolute;\\n    overflow: hidden;\\n    top: 0;\\n    bottom: 0;\\n    background-color: inherit;\\n    -ms-user-select: none;\\n    -moz-user-select: none;\\n    -webkit-user-select: none;\\n    user-select: none;\\n    cursor: text;\\n}\\n\\n.ace_content {\\n    position: absolute;\\n    box-sizing: border-box;\\n    min-width: 100%;\\n    contain: style size layout;\\n    font-variant-ligatures: no-common-ligatures;\\n}\\n\\n.ace_dragging .ace_scroller:before{\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n    content: '';\\n    background: rgba(250, 250, 250, 0.01);\\n    z-index: 1000;\\n}\\n.ace_dragging.ace_dark .ace_scroller:before{\\n    background: rgba(0, 0, 0, 0.01);\\n}\\n\\n.ace_gutter {\\n    position: absolute;\\n    overflow : hidden;\\n    width: auto;\\n    top: 0;\\n    bottom: 0;\\n    left: 0;\\n    cursor: default;\\n    z-index: 4;\\n    -ms-user-select: none;\\n    -moz-user-select: none;\\n    -webkit-user-select: none;\\n    user-select: none;\\n    contain: style size layout;\\n}\\n\\n.ace_gutter-active-line {\\n    position: absolute;\\n    left: 0;\\n    right: 0;\\n}\\n\\n.ace_scroller.ace_scroll-left {\\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\\n}\\n\\n.ace_gutter-cell {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    padding-left: 19px;\\n    padding-right: 6px;\\n    background-repeat: no-repeat;\\n}\\n\\n.ace_gutter-cell.ace_error {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==\\\");\\n    background-repeat: no-repeat;\\n    background-position: 2px center;\\n}\\n\\n.ace_gutter-cell.ace_warning {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==\\\");\\n    background-position: 2px center;\\n}\\n\\n.ace_gutter-cell.ace_info {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=\\\");\\n    background-position: 2px center;\\n}\\n.ace_dark .ace_gutter-cell.ace_info {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC\\\");\\n}\\n\\n.ace_scrollbar {\\n    contain: strict;\\n    position: absolute;\\n    right: 0;\\n    bottom: 0;\\n    z-index: 6;\\n}\\n\\n.ace_scrollbar-inner {\\n    position: absolute;\\n    cursor: text;\\n    left: 0;\\n    top: 0;\\n}\\n\\n.ace_scrollbar-v{\\n    overflow-x: hidden;\\n    overflow-y: scroll;\\n    top: 0;\\n}\\n\\n.ace_scrollbar-h {\\n    overflow-x: scroll;\\n    overflow-y: hidden;\\n    left: 0;\\n}\\n\\n.ace_print-margin {\\n    position: absolute;\\n    height: 100%;\\n}\\n\\n.ace_text-input {\\n    position: absolute;\\n    z-index: 0;\\n    width: 0.5em;\\n    height: 1em;\\n    opacity: 0;\\n    background: transparent;\\n    -moz-appearance: none;\\n    appearance: none;\\n    border: none;\\n    resize: none;\\n    outline: none;\\n    overflow: hidden;\\n    font: inherit;\\n    padding: 0 1px;\\n    margin: 0 -1px;\\n    contain: strict;\\n    -ms-user-select: text;\\n    -moz-user-select: text;\\n    -webkit-user-select: text;\\n    user-select: text;\\n    /*with `pre-line` chrome inserts &nbsp; instead of space*/\\n    white-space: pre!important;\\n}\\n.ace_text-input.ace_composition {\\n    background: transparent;\\n    color: inherit;\\n    z-index: 1000;\\n    opacity: 1;\\n}\\n.ace_composition_placeholder { color: transparent }\\n.ace_composition_marker { \\n    border-bottom: 1px solid;\\n    position: absolute;\\n    border-radius: 0;\\n    margin-top: 1px;\\n}\\n\\n[ace_nocontext=true] {\\n    transform: none!important;\\n    filter: none!important;\\n    clip-path: none!important;\\n    mask : none!important;\\n    contain: none!important;\\n    perspective: none!important;\\n    mix-blend-mode: initial!important;\\n    z-index: auto;\\n}\\n\\n.ace_layer {\\n    z-index: 1;\\n    position: absolute;\\n    overflow: hidden;\\n    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/\\n    word-wrap: normal;\\n    white-space: pre;\\n    height: 100%;\\n    width: 100%;\\n    box-sizing: border-box;\\n    /* setting pointer-events: auto; on node under the mouse, which changes\\n        during scroll, will break mouse wheel scrolling in Safari */\\n    pointer-events: none;\\n}\\n\\n.ace_gutter-layer {\\n    position: relative;\\n    width: auto;\\n    text-align: right;\\n    pointer-events: auto;\\n    height: 1000000px;\\n    contain: style size layout;\\n}\\n\\n.ace_text-layer {\\n    font: inherit !important;\\n    position: absolute;\\n    height: 1000000px;\\n    width: 1000000px;\\n    contain: style size layout;\\n}\\n\\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\\n    contain: style size layout;\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n}\\n\\n.ace_hidpi .ace_text-layer,\\n.ace_hidpi .ace_gutter-layer,\\n.ace_hidpi .ace_content,\\n.ace_hidpi .ace_gutter {\\n    contain: strict;\\n    will-change: transform;\\n}\\n.ace_hidpi .ace_text-layer > .ace_line, \\n.ace_hidpi .ace_text-layer > .ace_line_group {\\n    contain: strict;\\n}\\n\\n.ace_cjk {\\n    display: inline-block;\\n    text-align: center;\\n}\\n\\n.ace_cursor-layer {\\n    z-index: 4;\\n}\\n\\n.ace_cursor {\\n    z-index: 4;\\n    position: absolute;\\n    box-sizing: border-box;\\n    border-left: 2px solid;\\n    /* workaround for smooth cursor repaintng whole screen in chrome */\\n    transform: translatez(0);\\n}\\n\\n.ace_multiselect .ace_cursor {\\n    border-left-width: 1px;\\n}\\n\\n.ace_slim-cursors .ace_cursor {\\n    border-left-width: 1px;\\n}\\n\\n.ace_overwrite-cursors .ace_cursor {\\n    border-left-width: 0;\\n    border-bottom: 1px solid;\\n}\\n\\n.ace_hidden-cursors .ace_cursor {\\n    opacity: 0.2;\\n}\\n\\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\\n    opacity: 0;\\n}\\n\\n.ace_smooth-blinking .ace_cursor {\\n    transition: opacity 0.18s;\\n}\\n\\n.ace_animate-blinking .ace_cursor {\\n    animation-duration: 1000ms;\\n    animation-timing-function: step-end;\\n    animation-name: blink-ace-animate;\\n    animation-iteration-count: infinite;\\n}\\n\\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\\n    animation-duration: 1000ms;\\n    animation-timing-function: ease-in-out;\\n    animation-name: blink-ace-animate-smooth;\\n}\\n    \\n@keyframes blink-ace-animate {\\n    from, to { opacity: 1; }\\n    60% { opacity: 0; }\\n}\\n\\n@keyframes blink-ace-animate-smooth {\\n    from, to { opacity: 1; }\\n    45% { opacity: 1; }\\n    60% { opacity: 0; }\\n    85% { opacity: 0; }\\n}\\n\\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\\n    position: absolute;\\n    z-index: 3;\\n}\\n\\n.ace_marker-layer .ace_selection {\\n    position: absolute;\\n    z-index: 5;\\n}\\n\\n.ace_marker-layer .ace_bracket {\\n    position: absolute;\\n    z-index: 6;\\n}\\n\\n.ace_marker-layer .ace_error_bracket {\\n    position: absolute;\\n    border-bottom: 1px solid #DE5555;\\n    border-radius: 0;\\n}\\n\\n.ace_marker-layer .ace_active-line {\\n    position: absolute;\\n    z-index: 2;\\n}\\n\\n.ace_marker-layer .ace_selected-word {\\n    position: absolute;\\n    z-index: 4;\\n    box-sizing: border-box;\\n}\\n\\n.ace_line .ace_fold {\\n    box-sizing: border-box;\\n\\n    display: inline-block;\\n    height: 11px;\\n    margin-top: -2px;\\n    vertical-align: middle;\\n\\n    background-image:\\n        url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\n        url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=\\\");\\n    background-repeat: no-repeat, repeat-x;\\n    background-position: center center, top left;\\n    color: transparent;\\n\\n    border: 1px solid black;\\n    border-radius: 2px;\\n\\n    cursor: pointer;\\n    pointer-events: auto;\\n}\\n\\n.ace_dark .ace_fold {\\n}\\n\\n.ace_fold:hover{\\n    background-image:\\n        url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\n        url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC\\\");\\n}\\n\\n.ace_tooltip {\\n    background-color: #FFF;\\n    background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\\n    border: 1px solid gray;\\n    border-radius: 1px;\\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\\n    color: black;\\n    max-width: 100%;\\n    padding: 3px 4px;\\n    position: fixed;\\n    z-index: 999999;\\n    box-sizing: border-box;\\n    cursor: default;\\n    white-space: pre;\\n    word-wrap: break-word;\\n    line-height: normal;\\n    font-style: normal;\\n    font-weight: normal;\\n    letter-spacing: normal;\\n    pointer-events: none;\\n}\\n\\n.ace_folding-enabled > .ace_gutter-cell {\\n    padding-right: 13px;\\n}\\n\\n.ace_fold-widget {\\n    box-sizing: border-box;\\n\\n    margin: 0 -12px 0 1px;\\n    display: none;\\n    width: 11px;\\n    vertical-align: top;\\n\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==\\\");\\n    background-repeat: no-repeat;\\n    background-position: center;\\n\\n    border-radius: 3px;\\n    \\n    border: 1px solid transparent;\\n    cursor: pointer;\\n}\\n\\n.ace_folding-enabled .ace_fold-widget {\\n    display: inline-block;   \\n}\\n\\n.ace_fold-widget.ace_end {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==\\\");\\n}\\n\\n.ace_fold-widget.ace_closed {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==\\\");\\n}\\n\\n.ace_fold-widget:hover {\\n    border: 1px solid rgba(0, 0, 0, 0.3);\\n    background-color: rgba(255, 255, 255, 0.2);\\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\\n}\\n\\n.ace_fold-widget:active {\\n    border: 1px solid rgba(0, 0, 0, 0.4);\\n    background-color: rgba(0, 0, 0, 0.05);\\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\\n}\\n/**\\n * Dark version for fold widgets\\n */\\n.ace_dark .ace_fold-widget {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\\\");\\n}\\n.ace_dark .ace_fold-widget.ace_end {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\\\");\\n}\\n.ace_dark .ace_fold-widget.ace_closed {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\\\");\\n}\\n.ace_dark .ace_fold-widget:hover {\\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\n    background-color: rgba(255, 255, 255, 0.1);\\n}\\n.ace_dark .ace_fold-widget:active {\\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\n}\\n\\n.ace_inline_button {\\n    border: 1px solid lightgray;\\n    display: inline-block;\\n    margin: -1px 8px;\\n    padding: 0 5px;\\n    pointer-events: auto;\\n    cursor: pointer;\\n}\\n.ace_inline_button:hover {\\n    border-color: gray;\\n    background: rgba(200,200,200,0.2);\\n    display: inline-block;\\n    pointer-events: auto;\\n}\\n\\n.ace_fold-widget.ace_invalid {\\n    background-color: #FFB4B4;\\n    border-color: #DE5555;\\n}\\n\\n.ace_fade-fold-widgets .ace_fold-widget {\\n    transition: opacity 0.4s ease 0.05s;\\n    opacity: 0;\\n}\\n\\n.ace_fade-fold-widgets:hover .ace_fold-widget {\\n    transition: opacity 0.05s ease 0.05s;\\n    opacity:1;\\n}\\n\\n.ace_underline {\\n    text-decoration: underline;\\n}\\n\\n.ace_bold {\\n    font-weight: bold;\\n}\\n\\n.ace_nobold .ace_bold {\\n    font-weight: normal;\\n}\\n\\n.ace_italic {\\n    font-style: italic;\\n}\\n\\n\\n.ace_error-marker {\\n    background-color: rgba(255, 0, 0,0.2);\\n    position: absolute;\\n    z-index: 9;\\n}\\n\\n.ace_highlight-marker {\\n    background-color: rgba(255, 255, 0,0.2);\\n    position: absolute;\\n    z-index: 8;\\n}\\n\\n.ace_mobile-menu {\\n    position: absolute;\\n    line-height: 1.5;\\n    border-radius: 4px;\\n    -ms-user-select: none;\\n    -moz-user-select: none;\\n    -webkit-user-select: none;\\n    user-select: none;\\n    background: white;\\n    box-shadow: 1px 3px 2px grey;\\n    border: 1px solid #dcdcdc;\\n    color: black;\\n}\\n.ace_dark > .ace_mobile-menu {\\n    background: #333;\\n    color: #ccc;\\n    box-shadow: 1px 3px 2px grey;\\n    border: 1px solid #444;\\n\\n}\\n.ace_mobile-button {\\n    padding: 2px;\\n    cursor: pointer;\\n    overflow: hidden;\\n}\\n.ace_mobile-button:hover {\\n    background-color: #eee;\\n    opacity:1;\\n}\\n.ace_mobile-button:active {\\n    background-color: #ddd;\\n}\\n\\n.ace_placeholder {\\n    font-family: arial;\\n    transform: scale(0.9);\\n    transform-origin: left;\\n    white-space: pre;\\n    opacity: 0.7;\\n    margin: 0 10px;\\n}\";\n\n});\n\nace.define(\"ace/layer/decorators\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar Decorator = function (parent, renderer) {\n    this.canvas = dom.createElement(\"canvas\");\n    this.renderer = renderer;\n    this.pixelRatio = 1;\n    this.maxHeight = renderer.layerConfig.maxHeight;\n    this.lineHeight = renderer.layerConfig.lineHeight;\n    this.canvasHeight = parent.parent.scrollHeight;\n    this.heightRatio = this.canvasHeight / this.maxHeight;\n    this.canvasWidth = parent.width;\n    this.minDecorationHeight = (2 * this.pixelRatio) | 0;\n    this.halfMinDecorationHeight = (this.minDecorationHeight / 2) | 0;\n    this.canvas.width = this.canvasWidth;\n    this.canvas.height = this.canvasHeight;\n    this.canvas.style.top = 0 + \"px\";\n    this.canvas.style.right = 0 + \"px\";\n    this.canvas.style.zIndex = 7 + \"px\";\n    this.canvas.style.position = \"absolute\";\n    this.colors = {};\n    this.colors.dark = {\n        \"error\": \"rgba(255, 18, 18, 1)\",\n        \"warning\": \"rgba(18, 136, 18, 1)\",\n        \"info\": \"rgba(18, 18, 136, 1)\"\n    };\n    this.colors.light = {\n        \"error\": \"rgb(255,51,51)\",\n        \"warning\": \"rgb(32,133,72)\",\n        \"info\": \"rgb(35,68,138)\"\n    };\n    parent.element.appendChild(this.canvas);\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.$updateDecorators = function (config) {\n        var colors = (this.renderer.theme.isDark === true) ? this.colors.dark : this.colors.light;\n        if (config) {\n            this.maxHeight = config.maxHeight;\n            this.lineHeight = config.lineHeight;\n            this.canvasHeight = config.height;\n            var allLineHeight = (config.lastRow + 1) * this.lineHeight;\n            if (allLineHeight < this.canvasHeight) {\n                this.heightRatio = 1;\n            }\n            else {\n                this.heightRatio = this.canvasHeight / this.maxHeight;\n            }\n        }\n        var ctx = this.canvas.getContext(\"2d\");\n        function compare(a, b) {\n            if (a.priority < b.priority)\n                return -1;\n            if (a.priority > b.priority)\n                return 1;\n            return 0;\n        }\n        var annotations = this.renderer.session.$annotations;\n        ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n        if (annotations) {\n            var priorities = {\n                \"info\": 1,\n                \"warning\": 2,\n                \"error\": 3\n            };\n            annotations.forEach(function (item) {\n                item.priority = priorities[item.type] || null;\n            });\n            annotations = annotations.sort(compare);\n            var foldData = this.renderer.session.$foldData;\n            for (var i = 0; i < annotations.length; i++) {\n                var row = annotations[i].row;\n                var compensateFold = this.compensateFoldRows(row, foldData);\n                var currentY = Math.round((row - compensateFold) * this.lineHeight * this.heightRatio);\n                var y1 = Math.round(((row - compensateFold) * this.lineHeight * this.heightRatio));\n                var y2 = Math.round((((row - compensateFold) * this.lineHeight + this.lineHeight) * this.heightRatio));\n                var height = y2 - y1;\n                if (height < this.minDecorationHeight) {\n                    var yCenter = ((y1 + y2) / 2) | 0;\n                    if (yCenter < this.halfMinDecorationHeight) {\n                        yCenter = this.halfMinDecorationHeight;\n                    }\n                    else if (yCenter + this.halfMinDecorationHeight > this.canvasHeight) {\n                        yCenter = this.canvasHeight - this.halfMinDecorationHeight;\n                    }\n                    y1 = Math.round(yCenter - this.halfMinDecorationHeight);\n                    y2 = Math.round(yCenter + this.halfMinDecorationHeight);\n                }\n                ctx.fillStyle = colors[annotations[i].type] || null;\n                ctx.fillRect(0, currentY, this.canvasWidth, y2 - y1);\n            }\n        }\n        var cursor = this.renderer.session.selection.getCursor();\n        if (cursor) {\n            var compensateFold = this.compensateFoldRows(cursor.row, foldData);\n            var currentY = Math.round((cursor.row - compensateFold) * this.lineHeight * this.heightRatio);\n            ctx.fillStyle = \"rgba(0, 0, 0, 0.5)\";\n            ctx.fillRect(0, currentY, this.canvasWidth, 2);\n        }\n    };\n    this.compensateFoldRows = function (row, foldData) {\n        var compensateFold = 0;\n        if (foldData && foldData.length > 0) {\n            for (var j = 0; j < foldData.length; j++) {\n                if (row > foldData[j].start.row && row < foldData[j].end.row) {\n                    compensateFold += row - foldData[j].start.row;\n                }\n                else if (row >= foldData[j].end.row) {\n                    compensateFold += foldData[j].end.row - foldData[j].start.row;\n                }\n            }\n        }\n        return compensateFold;\n    };\n}.call(Decorator.prototype));\nexports.Decorator = Decorator;\n\n});\n\nace.define(\"ace/virtual_renderer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/config\",\"ace/layer/gutter\",\"ace/layer/marker\",\"ace/layer/text\",\"ace/layer/cursor\",\"ace/scrollbar\",\"ace/scrollbar\",\"ace/scrollbar_custom\",\"ace/scrollbar_custom\",\"ace/renderloop\",\"ace/layer/font_metrics\",\"ace/lib/event_emitter\",\"ace/css/editor.css\",\"ace/layer/decorators\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar config = require(\"./config\");\nvar GutterLayer = require(\"./layer/gutter\").Gutter;\nvar MarkerLayer = require(\"./layer/marker\").Marker;\nvar TextLayer = require(\"./layer/text\").Text;\nvar CursorLayer = require(\"./layer/cursor\").Cursor;\nvar HScrollBar = require(\"./scrollbar\").HScrollBar;\nvar VScrollBar = require(\"./scrollbar\").VScrollBar;\nvar HScrollBarCustom = require(\"./scrollbar_custom\").HScrollBar;\nvar VScrollBarCustom = require(\"./scrollbar_custom\").VScrollBar;\nvar RenderLoop = require(\"./renderloop\").RenderLoop;\nvar FontMetrics = require(\"./layer/font_metrics\").FontMetrics;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar editorCss = require(\"./css/editor.css\");\nvar Decorator = require(\"./layer/decorators\").Decorator;\nvar useragent = require(\"./lib/useragent\");\nvar HIDE_TEXTAREA = useragent.isIE;\ndom.importCssString(editorCss, \"ace_editor.css\", false);\nvar VirtualRenderer = function (container, theme) {\n    var _self = this;\n    this.container = container || dom.createElement(\"div\");\n    dom.addCssClass(this.container, \"ace_editor\");\n    if (dom.HI_DPI)\n        dom.addCssClass(this.container, \"ace_hidpi\");\n    this.setTheme(theme);\n    if (config.get(\"useStrictCSP\") == null)\n        config.set(\"useStrictCSP\", false);\n    this.$gutter = dom.createElement(\"div\");\n    this.$gutter.className = \"ace_gutter\";\n    this.container.appendChild(this.$gutter);\n    this.$gutter.setAttribute(\"aria-hidden\", true);\n    this.scroller = dom.createElement(\"div\");\n    this.scroller.className = \"ace_scroller\";\n    this.container.appendChild(this.scroller);\n    this.content = dom.createElement(\"div\");\n    this.content.className = \"ace_content\";\n    this.scroller.appendChild(this.content);\n    this.$gutterLayer = new GutterLayer(this.$gutter);\n    this.$gutterLayer.on(\"changeGutterWidth\", this.onGutterResize.bind(this));\n    this.$markerBack = new MarkerLayer(this.content);\n    var textLayer = this.$textLayer = new TextLayer(this.content);\n    this.canvas = textLayer.element;\n    this.$markerFront = new MarkerLayer(this.content);\n    this.$cursorLayer = new CursorLayer(this.content);\n    this.$horizScroll = false;\n    this.$vScroll = false;\n    this.scrollBar =\n        this.scrollBarV = new VScrollBar(this.container, this);\n    this.scrollBarH = new HScrollBar(this.container, this);\n    this.scrollBarV.on(\"scroll\", function (e) {\n        if (!_self.$scrollAnimation)\n            _self.session.setScrollTop(e.data - _self.scrollMargin.top);\n    });\n    this.scrollBarH.on(\"scroll\", function (e) {\n        if (!_self.$scrollAnimation)\n            _self.session.setScrollLeft(e.data - _self.scrollMargin.left);\n    });\n    this.scrollTop = 0;\n    this.scrollLeft = 0;\n    this.cursorPos = {\n        row: 0,\n        column: 0\n    };\n    this.$fontMetrics = new FontMetrics(this.container, this.$textLayer.MAX_CHUNK_LENGTH);\n    this.$textLayer.$setFontMetrics(this.$fontMetrics);\n    this.$textLayer.on(\"changeCharacterSize\", function (e) {\n        _self.updateCharacterSize();\n        _self.onResize(true, _self.gutterWidth, _self.$size.width, _self.$size.height);\n        _self._signal(\"changeCharacterSize\", e);\n    });\n    this.$size = {\n        width: 0,\n        height: 0,\n        scrollerHeight: 0,\n        scrollerWidth: 0,\n        $dirty: true\n    };\n    this.layerConfig = {\n        width: 1,\n        padding: 0,\n        firstRow: 0,\n        firstRowScreen: 0,\n        lastRow: 0,\n        lineHeight: 0,\n        characterWidth: 0,\n        minHeight: 1,\n        maxHeight: 1,\n        offset: 0,\n        height: 1,\n        gutterOffset: 1\n    };\n    this.scrollMargin = {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        v: 0,\n        h: 0\n    };\n    this.margin = {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        v: 0,\n        h: 0\n    };\n    this.$keepTextAreaAtCursor = !useragent.isIOS;\n    this.$loop = new RenderLoop(this.$renderChanges.bind(this), this.container.ownerDocument.defaultView);\n    this.$loop.schedule(this.CHANGE_FULL);\n    this.updateCharacterSize();\n    this.setPadding(4);\n    config.resetOptions(this);\n    config._signal(\"renderer\", this);\n};\n(function () {\n    this.CHANGE_CURSOR = 1;\n    this.CHANGE_MARKER = 2;\n    this.CHANGE_GUTTER = 4;\n    this.CHANGE_SCROLL = 8;\n    this.CHANGE_LINES = 16;\n    this.CHANGE_TEXT = 32;\n    this.CHANGE_SIZE = 64;\n    this.CHANGE_MARKER_BACK = 128;\n    this.CHANGE_MARKER_FRONT = 256;\n    this.CHANGE_FULL = 512;\n    this.CHANGE_H_SCROLL = 1024;\n    oop.implement(this, EventEmitter);\n    this.updateCharacterSize = function () {\n        if (this.$textLayer.allowBoldFonts != this.$allowBoldFonts) {\n            this.$allowBoldFonts = this.$textLayer.allowBoldFonts;\n            this.setStyle(\"ace_nobold\", !this.$allowBoldFonts);\n        }\n        this.layerConfig.characterWidth =\n            this.characterWidth = this.$textLayer.getCharacterWidth();\n        this.layerConfig.lineHeight =\n            this.lineHeight = this.$textLayer.getLineHeight();\n        this.$updatePrintMargin();\n        dom.setStyle(this.scroller.style, \"line-height\", this.lineHeight + \"px\");\n    };\n    this.setSession = function (session) {\n        if (this.session)\n            this.session.doc.off(\"changeNewLineMode\", this.onChangeNewLineMode);\n        this.session = session;\n        if (session && this.scrollMargin.top && session.getScrollTop() <= 0)\n            session.setScrollTop(-this.scrollMargin.top);\n        this.$cursorLayer.setSession(session);\n        this.$markerBack.setSession(session);\n        this.$markerFront.setSession(session);\n        this.$gutterLayer.setSession(session);\n        this.$textLayer.setSession(session);\n        if (!session)\n            return;\n        this.$loop.schedule(this.CHANGE_FULL);\n        this.session.$setFontMetrics(this.$fontMetrics);\n        this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null;\n        this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this);\n        this.onChangeNewLineMode();\n        this.session.doc.on(\"changeNewLineMode\", this.onChangeNewLineMode);\n    };\n    this.updateLines = function (firstRow, lastRow, force) {\n        if (lastRow === undefined)\n            lastRow = Infinity;\n        if (!this.$changedLines) {\n            this.$changedLines = {\n                firstRow: firstRow,\n                lastRow: lastRow\n            };\n        }\n        else {\n            if (this.$changedLines.firstRow > firstRow)\n                this.$changedLines.firstRow = firstRow;\n            if (this.$changedLines.lastRow < lastRow)\n                this.$changedLines.lastRow = lastRow;\n        }\n        if (this.$changedLines.lastRow < this.layerConfig.firstRow) {\n            if (force)\n                this.$changedLines.lastRow = this.layerConfig.lastRow;\n            else\n                return;\n        }\n        if (this.$changedLines.firstRow > this.layerConfig.lastRow)\n            return;\n        this.$loop.schedule(this.CHANGE_LINES);\n    };\n    this.onChangeNewLineMode = function () {\n        this.$loop.schedule(this.CHANGE_TEXT);\n        this.$textLayer.$updateEolChar();\n        this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR);\n    };\n    this.onChangeTabSize = function () {\n        this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER);\n        this.$textLayer.onChangeTabSize();\n    };\n    this.updateText = function () {\n        this.$loop.schedule(this.CHANGE_TEXT);\n    };\n    this.updateFull = function (force) {\n        if (force)\n            this.$renderChanges(this.CHANGE_FULL, true);\n        else\n            this.$loop.schedule(this.CHANGE_FULL);\n    };\n    this.updateFontSize = function () {\n        this.$textLayer.checkForSizeChanges();\n    };\n    this.$changes = 0;\n    this.$updateSizeAsync = function () {\n        if (this.$loop.pending)\n            this.$size.$dirty = true;\n        else\n            this.onResize();\n    };\n    this.onResize = function (force, gutterWidth, width, height) {\n        if (this.resizing > 2)\n            return;\n        else if (this.resizing > 0)\n            this.resizing++;\n        else\n            this.resizing = force ? 1 : 0;\n        var el = this.container;\n        if (!height)\n            height = el.clientHeight || el.scrollHeight;\n        if (!width)\n            width = el.clientWidth || el.scrollWidth;\n        var changes = this.$updateCachedSize(force, gutterWidth, width, height);\n        if (!this.$size.scrollerHeight || (!width && !height))\n            return this.resizing = 0;\n        if (force)\n            this.$gutterLayer.$padding = null;\n        if (force)\n            this.$renderChanges(changes | this.$changes, true);\n        else\n            this.$loop.schedule(changes | this.$changes);\n        if (this.resizing)\n            this.resizing = 0;\n        this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null;\n        if (this.$customScrollbar) {\n            this.$updateCustomScrollbar(true);\n        }\n    };\n    this.$updateCachedSize = function (force, gutterWidth, width, height) {\n        height -= (this.$extraHeight || 0);\n        var changes = 0;\n        var size = this.$size;\n        var oldSize = {\n            width: size.width,\n            height: size.height,\n            scrollerHeight: size.scrollerHeight,\n            scrollerWidth: size.scrollerWidth\n        };\n        if (height && (force || size.height != height)) {\n            size.height = height;\n            changes |= this.CHANGE_SIZE;\n            size.scrollerHeight = size.height;\n            if (this.$horizScroll)\n                size.scrollerHeight -= this.scrollBarH.getHeight();\n            this.scrollBarV.setHeight(size.scrollerHeight);\n            this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + \"px\";\n            changes = changes | this.CHANGE_SCROLL;\n        }\n        if (width && (force || size.width != width)) {\n            changes |= this.CHANGE_SIZE;\n            size.width = width;\n            if (gutterWidth == null)\n                gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;\n            this.gutterWidth = gutterWidth;\n            dom.setStyle(this.scrollBarH.element.style, \"left\", gutterWidth + \"px\");\n            dom.setStyle(this.scroller.style, \"left\", gutterWidth + this.margin.left + \"px\");\n            size.scrollerWidth = Math.max(0, width - gutterWidth - this.scrollBarV.getWidth() - this.margin.h);\n            dom.setStyle(this.$gutter.style, \"left\", this.margin.left + \"px\");\n            var right = this.scrollBarV.getWidth() + \"px\";\n            dom.setStyle(this.scrollBarH.element.style, \"right\", right);\n            dom.setStyle(this.scroller.style, \"right\", right);\n            dom.setStyle(this.scroller.style, \"bottom\", this.scrollBarH.getHeight());\n            this.scrollBarH.setWidth(size.scrollerWidth);\n            if (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || force) {\n                changes |= this.CHANGE_FULL;\n            }\n        }\n        size.$dirty = !width || !height;\n        if (changes)\n            this._signal(\"resize\", oldSize);\n        return changes;\n    };\n    this.onGutterResize = function (width) {\n        var gutterWidth = this.$showGutter ? width : 0;\n        if (gutterWidth != this.gutterWidth)\n            this.$changes |= this.$updateCachedSize(true, gutterWidth, this.$size.width, this.$size.height);\n        if (this.session.getUseWrapMode() && this.adjustWrapLimit()) {\n            this.$loop.schedule(this.CHANGE_FULL);\n        }\n        else if (this.$size.$dirty) {\n            this.$loop.schedule(this.CHANGE_FULL);\n        }\n        else {\n            this.$computeLayerConfig();\n        }\n    };\n    this.adjustWrapLimit = function () {\n        var availableWidth = this.$size.scrollerWidth - this.$padding * 2;\n        var limit = Math.floor(availableWidth / this.characterWidth);\n        return this.session.adjustWrapLimit(limit, this.$showPrintMargin && this.$printMarginColumn);\n    };\n    this.setAnimatedScroll = function (shouldAnimate) {\n        this.setOption(\"animatedScroll\", shouldAnimate);\n    };\n    this.getAnimatedScroll = function () {\n        return this.$animatedScroll;\n    };\n    this.setShowInvisibles = function (showInvisibles) {\n        this.setOption(\"showInvisibles\", showInvisibles);\n        this.session.$bidiHandler.setShowInvisibles(showInvisibles);\n    };\n    this.getShowInvisibles = function () {\n        return this.getOption(\"showInvisibles\");\n    };\n    this.getDisplayIndentGuides = function () {\n        return this.getOption(\"displayIndentGuides\");\n    };\n    this.setDisplayIndentGuides = function (display) {\n        this.setOption(\"displayIndentGuides\", display);\n    };\n    this.getHighlightIndentGuides = function () {\n        return this.getOption(\"highlightIndentGuides\");\n    };\n    this.setHighlightIndentGuides = function (highlight) {\n        this.setOption(\"highlightIndentGuides\", highlight);\n    };\n    this.setShowPrintMargin = function (showPrintMargin) {\n        this.setOption(\"showPrintMargin\", showPrintMargin);\n    };\n    this.getShowPrintMargin = function () {\n        return this.getOption(\"showPrintMargin\");\n    };\n    this.setPrintMarginColumn = function (showPrintMargin) {\n        this.setOption(\"printMarginColumn\", showPrintMargin);\n    };\n    this.getPrintMarginColumn = function () {\n        return this.getOption(\"printMarginColumn\");\n    };\n    this.getShowGutter = function () {\n        return this.getOption(\"showGutter\");\n    };\n    this.setShowGutter = function (show) {\n        return this.setOption(\"showGutter\", show);\n    };\n    this.getFadeFoldWidgets = function () {\n        return this.getOption(\"fadeFoldWidgets\");\n    };\n    this.setFadeFoldWidgets = function (show) {\n        this.setOption(\"fadeFoldWidgets\", show);\n    };\n    this.setHighlightGutterLine = function (shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n    this.getHighlightGutterLine = function () {\n        return this.getOption(\"highlightGutterLine\");\n    };\n    this.$updatePrintMargin = function () {\n        if (!this.$showPrintMargin && !this.$printMarginEl)\n            return;\n        if (!this.$printMarginEl) {\n            var containerEl = dom.createElement(\"div\");\n            containerEl.className = \"ace_layer ace_print-margin-layer\";\n            this.$printMarginEl = dom.createElement(\"div\");\n            this.$printMarginEl.className = \"ace_print-margin\";\n            containerEl.appendChild(this.$printMarginEl);\n            this.content.insertBefore(containerEl, this.content.firstChild);\n        }\n        var style = this.$printMarginEl.style;\n        style.left = Math.round(this.characterWidth * this.$printMarginColumn + this.$padding) + \"px\";\n        style.visibility = this.$showPrintMargin ? \"visible\" : \"hidden\";\n        if (this.session && this.session.$wrap == -1)\n            this.adjustWrapLimit();\n    };\n    this.getContainerElement = function () {\n        return this.container;\n    };\n    this.getMouseEventTarget = function () {\n        return this.scroller;\n    };\n    this.getTextAreaContainer = function () {\n        return this.container;\n    };\n    this.$moveTextAreaToCursor = function () {\n        if (this.$isMousePressed)\n            return;\n        var style = this.textarea.style;\n        var composition = this.$composition;\n        if (!this.$keepTextAreaAtCursor && !composition) {\n            dom.translate(this.textarea, -100, 0);\n            return;\n        }\n        var pixelPos = this.$cursorLayer.$pixelPos;\n        if (!pixelPos)\n            return;\n        if (composition && composition.markerRange)\n            pixelPos = this.$cursorLayer.getPixelPosition(composition.markerRange.start, true);\n        var config = this.layerConfig;\n        var posTop = pixelPos.top;\n        var posLeft = pixelPos.left;\n        posTop -= config.offset;\n        var h = composition && composition.useTextareaForIME ? this.lineHeight : HIDE_TEXTAREA ? 0 : 1;\n        if (posTop < 0 || posTop > config.height - h) {\n            dom.translate(this.textarea, 0, 0);\n            return;\n        }\n        var w = 1;\n        var maxTop = this.$size.height - h;\n        if (!composition) {\n            posTop += this.lineHeight;\n        }\n        else {\n            if (composition.useTextareaForIME) {\n                var val = this.textarea.value;\n                w = this.characterWidth * (this.session.$getStringScreenWidth(val)[0]);\n            }\n            else {\n                posTop += this.lineHeight + 2;\n            }\n        }\n        posLeft -= this.scrollLeft;\n        if (posLeft > this.$size.scrollerWidth - w)\n            posLeft = this.$size.scrollerWidth - w;\n        posLeft += this.gutterWidth + this.margin.left;\n        dom.setStyle(style, \"height\", h + \"px\");\n        dom.setStyle(style, \"width\", w + \"px\");\n        dom.translate(this.textarea, Math.min(posLeft, this.$size.scrollerWidth - w), Math.min(posTop, maxTop));\n    };\n    this.getFirstVisibleRow = function () {\n        return this.layerConfig.firstRow;\n    };\n    this.getFirstFullyVisibleRow = function () {\n        return this.layerConfig.firstRow + (this.layerConfig.offset === 0 ? 0 : 1);\n    };\n    this.getLastFullyVisibleRow = function () {\n        var config = this.layerConfig;\n        var lastRow = config.lastRow;\n        var top = this.session.documentToScreenRow(lastRow, 0) * config.lineHeight;\n        if (top - this.session.getScrollTop() > config.height - config.lineHeight)\n            return lastRow - 1;\n        return lastRow;\n    };\n    this.getLastVisibleRow = function () {\n        return this.layerConfig.lastRow;\n    };\n    this.$padding = null;\n    this.setPadding = function (padding) {\n        this.$padding = padding;\n        this.$textLayer.setPadding(padding);\n        this.$cursorLayer.setPadding(padding);\n        this.$markerFront.setPadding(padding);\n        this.$markerBack.setPadding(padding);\n        this.$loop.schedule(this.CHANGE_FULL);\n        this.$updatePrintMargin();\n    };\n    this.setScrollMargin = function (top, bottom, left, right) {\n        var sm = this.scrollMargin;\n        sm.top = top | 0;\n        sm.bottom = bottom | 0;\n        sm.right = right | 0;\n        sm.left = left | 0;\n        sm.v = sm.top + sm.bottom;\n        sm.h = sm.left + sm.right;\n        if (sm.top && this.scrollTop <= 0 && this.session)\n            this.session.setScrollTop(-sm.top);\n        this.updateFull();\n    };\n    this.setMargin = function (top, bottom, left, right) {\n        var sm = this.margin;\n        sm.top = top | 0;\n        sm.bottom = bottom | 0;\n        sm.right = right | 0;\n        sm.left = left | 0;\n        sm.v = sm.top + sm.bottom;\n        sm.h = sm.left + sm.right;\n        this.$updateCachedSize(true, this.gutterWidth, this.$size.width, this.$size.height);\n        this.updateFull();\n    };\n    this.getHScrollBarAlwaysVisible = function () {\n        return this.$hScrollBarAlwaysVisible;\n    };\n    this.setHScrollBarAlwaysVisible = function (alwaysVisible) {\n        this.setOption(\"hScrollBarAlwaysVisible\", alwaysVisible);\n    };\n    this.getVScrollBarAlwaysVisible = function () {\n        return this.$vScrollBarAlwaysVisible;\n    };\n    this.setVScrollBarAlwaysVisible = function (alwaysVisible) {\n        this.setOption(\"vScrollBarAlwaysVisible\", alwaysVisible);\n    };\n    this.$updateScrollBarV = function () {\n        var scrollHeight = this.layerConfig.maxHeight;\n        var scrollerHeight = this.$size.scrollerHeight;\n        if (!this.$maxLines && this.$scrollPastEnd) {\n            scrollHeight -= (scrollerHeight - this.lineHeight) * this.$scrollPastEnd;\n            if (this.scrollTop > scrollHeight - scrollerHeight) {\n                scrollHeight = this.scrollTop + scrollerHeight;\n                this.scrollBarV.scrollTop = null;\n            }\n        }\n        this.scrollBarV.setScrollHeight(scrollHeight + this.scrollMargin.v);\n        this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top);\n    };\n    this.$updateScrollBarH = function () {\n        this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h);\n        this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left);\n    };\n    this.$frozen = false;\n    this.freeze = function () {\n        this.$frozen = true;\n    };\n    this.unfreeze = function () {\n        this.$frozen = false;\n    };\n    this.$renderChanges = function (changes, force) {\n        if (this.$changes) {\n            changes |= this.$changes;\n            this.$changes = 0;\n        }\n        if ((!this.session || !this.container.offsetWidth || this.$frozen) || (!changes && !force)) {\n            this.$changes |= changes;\n            return;\n        }\n        if (this.$size.$dirty) {\n            this.$changes |= changes;\n            return this.onResize(true);\n        }\n        if (!this.lineHeight) {\n            this.$textLayer.checkForSizeChanges();\n        }\n        this._signal(\"beforeRender\", changes);\n        if (this.session && this.session.$bidiHandler)\n            this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);\n        var config = this.layerConfig;\n        if (changes & this.CHANGE_FULL ||\n            changes & this.CHANGE_SIZE ||\n            changes & this.CHANGE_TEXT ||\n            changes & this.CHANGE_LINES ||\n            changes & this.CHANGE_SCROLL ||\n            changes & this.CHANGE_H_SCROLL) {\n            changes |= this.$computeLayerConfig() | this.$loop.clear();\n            if (config.firstRow != this.layerConfig.firstRow && config.firstRowScreen == this.layerConfig.firstRowScreen) {\n                var st = this.scrollTop + (config.firstRow - this.layerConfig.firstRow) * this.lineHeight;\n                if (st > 0) {\n                    this.scrollTop = st;\n                    changes = changes | this.CHANGE_SCROLL;\n                    changes |= this.$computeLayerConfig() | this.$loop.clear();\n                }\n            }\n            config = this.layerConfig;\n            this.$updateScrollBarV();\n            if (changes & this.CHANGE_H_SCROLL)\n                this.$updateScrollBarH();\n            dom.translate(this.content, -this.scrollLeft, -config.offset);\n            var width = config.width + 2 * this.$padding + \"px\";\n            var height = config.minHeight + \"px\";\n            dom.setStyle(this.content.style, \"width\", width);\n            dom.setStyle(this.content.style, \"height\", height);\n        }\n        if (changes & this.CHANGE_H_SCROLL) {\n            dom.translate(this.content, -this.scrollLeft, -config.offset);\n            this.scroller.className = this.scrollLeft <= 0 ? \"ace_scroller\" : \"ace_scroller ace_scroll-left\";\n        }\n        if (changes & this.CHANGE_FULL) {\n            this.$changedLines = null;\n            this.$textLayer.update(config);\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n            if (this.$customScrollbar) {\n                this.$scrollDecorator.$updateDecorators(config);\n            }\n            this.$markerBack.update(config);\n            this.$markerFront.update(config);\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n            this._signal(\"afterRender\", changes);\n            return;\n        }\n        if (changes & this.CHANGE_SCROLL) {\n            this.$changedLines = null;\n            if (changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES)\n                this.$textLayer.update(config);\n            else\n                this.$textLayer.scrollLines(config);\n            if (this.$showGutter) {\n                if (changes & this.CHANGE_GUTTER || changes & this.CHANGE_LINES)\n                    this.$gutterLayer.update(config);\n                else\n                    this.$gutterLayer.scrollLines(config);\n            }\n            if (this.$customScrollbar) {\n                this.$scrollDecorator.$updateDecorators(config);\n            }\n            this.$markerBack.update(config);\n            this.$markerFront.update(config);\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n            this._signal(\"afterRender\", changes);\n            return;\n        }\n        if (changes & this.CHANGE_TEXT) {\n            this.$changedLines = null;\n            this.$textLayer.update(config);\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n            if (this.$customScrollbar) {\n                this.$scrollDecorator.$updateDecorators(config);\n            }\n        }\n        else if (changes & this.CHANGE_LINES) {\n            if (this.$updateLines() || (changes & this.CHANGE_GUTTER) && this.$showGutter)\n                this.$gutterLayer.update(config);\n            if (this.$customScrollbar) {\n                this.$scrollDecorator.$updateDecorators(config);\n            }\n        }\n        else if (changes & this.CHANGE_TEXT || changes & this.CHANGE_GUTTER) {\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n            if (this.$customScrollbar) {\n                this.$scrollDecorator.$updateDecorators(config);\n            }\n        }\n        else if (changes & this.CHANGE_CURSOR) {\n            if (this.$highlightGutterLine)\n                this.$gutterLayer.updateLineHighlight(config);\n            if (this.$customScrollbar) {\n                this.$scrollDecorator.$updateDecorators(config);\n            }\n        }\n        if (changes & this.CHANGE_CURSOR) {\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n        }\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT)) {\n            this.$markerFront.update(config);\n        }\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK)) {\n            this.$markerBack.update(config);\n        }\n        this._signal(\"afterRender\", changes);\n    };\n    this.$autosize = function () {\n        var height = this.session.getScreenLength() * this.lineHeight;\n        var maxHeight = this.$maxLines * this.lineHeight;\n        var desiredHeight = Math.min(maxHeight, Math.max((this.$minLines || 1) * this.lineHeight, height)) + this.scrollMargin.v + (this.$extraHeight || 0);\n        if (this.$horizScroll)\n            desiredHeight += this.scrollBarH.getHeight();\n        if (this.$maxPixelHeight && desiredHeight > this.$maxPixelHeight)\n            desiredHeight = this.$maxPixelHeight;\n        var hideScrollbars = desiredHeight <= 2 * this.lineHeight;\n        var vScroll = !hideScrollbars && height > maxHeight;\n        if (desiredHeight != this.desiredHeight ||\n            this.$size.height != this.desiredHeight || vScroll != this.$vScroll) {\n            if (vScroll != this.$vScroll) {\n                this.$vScroll = vScroll;\n                this.scrollBarV.setVisible(vScroll);\n            }\n            var w = this.container.clientWidth;\n            this.container.style.height = desiredHeight + \"px\";\n            this.$updateCachedSize(true, this.$gutterWidth, w, desiredHeight);\n            this.desiredHeight = desiredHeight;\n            this._signal(\"autosize\");\n        }\n    };\n    this.$computeLayerConfig = function () {\n        var session = this.session;\n        var size = this.$size;\n        var hideScrollbars = size.height <= 2 * this.lineHeight;\n        var screenLines = this.session.getScreenLength();\n        var maxHeight = screenLines * this.lineHeight;\n        var longestLine = this.$getLongestLine();\n        var horizScroll = !hideScrollbars && (this.$hScrollBarAlwaysVisible ||\n            size.scrollerWidth - longestLine - 2 * this.$padding < 0);\n        var hScrollChanged = this.$horizScroll !== horizScroll;\n        if (hScrollChanged) {\n            this.$horizScroll = horizScroll;\n            this.scrollBarH.setVisible(horizScroll);\n        }\n        var vScrollBefore = this.$vScroll; // autosize can change vscroll value in which case we need to update longestLine\n        if (this.$maxLines && this.lineHeight > 1)\n            this.$autosize();\n        var minHeight = size.scrollerHeight + this.lineHeight;\n        var scrollPastEnd = !this.$maxLines && this.$scrollPastEnd\n            ? (size.scrollerHeight - this.lineHeight) * this.$scrollPastEnd\n            : 0;\n        maxHeight += scrollPastEnd;\n        var sm = this.scrollMargin;\n        this.session.setScrollTop(Math.max(-sm.top, Math.min(this.scrollTop, maxHeight - size.scrollerHeight + sm.bottom)));\n        this.session.setScrollLeft(Math.max(-sm.left, Math.min(this.scrollLeft, longestLine + 2 * this.$padding - size.scrollerWidth + sm.right)));\n        var vScroll = !hideScrollbars && (this.$vScrollBarAlwaysVisible ||\n            size.scrollerHeight - maxHeight + scrollPastEnd < 0 || this.scrollTop > sm.top);\n        var vScrollChanged = vScrollBefore !== vScroll;\n        if (vScrollChanged) {\n            this.$vScroll = vScroll;\n            this.scrollBarV.setVisible(vScroll);\n        }\n        var offset = this.scrollTop % this.lineHeight;\n        var lineCount = Math.ceil(minHeight / this.lineHeight) - 1;\n        var firstRow = Math.max(0, Math.round((this.scrollTop - offset) / this.lineHeight));\n        var lastRow = firstRow + lineCount;\n        var firstRowScreen, firstRowHeight;\n        var lineHeight = this.lineHeight;\n        firstRow = session.screenToDocumentRow(firstRow, 0);\n        var foldLine = session.getFoldLine(firstRow);\n        if (foldLine) {\n            firstRow = foldLine.start.row;\n        }\n        firstRowScreen = session.documentToScreenRow(firstRow, 0);\n        firstRowHeight = session.getRowLength(firstRow) * lineHeight;\n        lastRow = Math.min(session.screenToDocumentRow(lastRow, 0), session.getLength() - 1);\n        minHeight = size.scrollerHeight + session.getRowLength(lastRow) * lineHeight +\n            firstRowHeight;\n        offset = this.scrollTop - firstRowScreen * lineHeight;\n        var changes = 0;\n        if (this.layerConfig.width != longestLine || hScrollChanged)\n            changes = this.CHANGE_H_SCROLL;\n        if (hScrollChanged || vScrollChanged) {\n            changes |= this.$updateCachedSize(true, this.gutterWidth, size.width, size.height);\n            this._signal(\"scrollbarVisibilityChanged\");\n            if (vScrollChanged)\n                longestLine = this.$getLongestLine();\n        }\n        this.layerConfig = {\n            width: longestLine,\n            padding: this.$padding,\n            firstRow: firstRow,\n            firstRowScreen: firstRowScreen,\n            lastRow: lastRow,\n            lineHeight: lineHeight,\n            characterWidth: this.characterWidth,\n            minHeight: minHeight,\n            maxHeight: maxHeight,\n            offset: offset,\n            gutterOffset: lineHeight ? Math.max(0, Math.ceil((offset + size.height - size.scrollerHeight) / lineHeight)) : 0,\n            height: this.$size.scrollerHeight\n        };\n        if (this.session.$bidiHandler)\n            this.session.$bidiHandler.setContentWidth(longestLine - this.$padding);\n        return changes;\n    };\n    this.$updateLines = function () {\n        if (!this.$changedLines)\n            return;\n        var firstRow = this.$changedLines.firstRow;\n        var lastRow = this.$changedLines.lastRow;\n        this.$changedLines = null;\n        var layerConfig = this.layerConfig;\n        if (firstRow > layerConfig.lastRow + 1) {\n            return;\n        }\n        if (lastRow < layerConfig.firstRow) {\n            return;\n        }\n        if (lastRow === Infinity) {\n            if (this.$showGutter)\n                this.$gutterLayer.update(layerConfig);\n            this.$textLayer.update(layerConfig);\n            return;\n        }\n        this.$textLayer.updateLines(layerConfig, firstRow, lastRow);\n        return true;\n    };\n    this.$getLongestLine = function () {\n        var charCount = this.session.getScreenWidth();\n        if (this.showInvisibles && !this.session.$useWrapMode)\n            charCount += 1;\n        if (this.$textLayer && charCount > this.$textLayer.MAX_LINE_LENGTH)\n            charCount = this.$textLayer.MAX_LINE_LENGTH + 30;\n        return Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(charCount * this.characterWidth));\n    };\n    this.updateFrontMarkers = function () {\n        this.$markerFront.setMarkers(this.session.getMarkers(true));\n        this.$loop.schedule(this.CHANGE_MARKER_FRONT);\n    };\n    this.updateBackMarkers = function () {\n        this.$markerBack.setMarkers(this.session.getMarkers());\n        this.$loop.schedule(this.CHANGE_MARKER_BACK);\n    };\n    this.addGutterDecoration = function (row, className) {\n        this.$gutterLayer.addGutterDecoration(row, className);\n    };\n    this.removeGutterDecoration = function (row, className) {\n        this.$gutterLayer.removeGutterDecoration(row, className);\n    };\n    this.updateBreakpoints = function (rows) {\n        this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n    this.setAnnotations = function (annotations) {\n        this.$gutterLayer.setAnnotations(annotations);\n        this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n    this.updateCursor = function () {\n        this.$loop.schedule(this.CHANGE_CURSOR);\n    };\n    this.hideCursor = function () {\n        this.$cursorLayer.hideCursor();\n    };\n    this.showCursor = function () {\n        this.$cursorLayer.showCursor();\n    };\n    this.scrollSelectionIntoView = function (anchor, lead, offset) {\n        this.scrollCursorIntoView(anchor, offset);\n        this.scrollCursorIntoView(lead, offset);\n    };\n    this.scrollCursorIntoView = function (cursor, offset, $viewMargin) {\n        if (this.$size.scrollerHeight === 0)\n            return;\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n        var newLeft = pos.left;\n        var newTop = pos.top;\n        var topMargin = $viewMargin && $viewMargin.top || 0;\n        var bottomMargin = $viewMargin && $viewMargin.bottom || 0;\n        if (this.$scrollAnimation) {\n            this.$stopAnimation = true;\n        }\n        var currentTop = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop;\n        if (currentTop + topMargin > newTop) {\n            if (offset && currentTop + topMargin > newTop + this.lineHeight)\n                newTop -= offset * this.$size.scrollerHeight;\n            if (newTop === 0)\n                newTop = -this.scrollMargin.top;\n            this.session.setScrollTop(newTop);\n        }\n        else if (currentTop + this.$size.scrollerHeight - bottomMargin < newTop + this.lineHeight) {\n            if (offset && currentTop + this.$size.scrollerHeight - bottomMargin < newTop - this.lineHeight)\n                newTop += offset * this.$size.scrollerHeight;\n            this.session.setScrollTop(newTop + this.lineHeight + bottomMargin - this.$size.scrollerHeight);\n        }\n        var currentLeft = this.scrollLeft;\n        var twoCharsWidth = 2 * this.layerConfig.characterWidth;\n        if (newLeft - twoCharsWidth < currentLeft) {\n            newLeft -= twoCharsWidth;\n            if (newLeft < this.$padding + twoCharsWidth) {\n                newLeft = -this.scrollMargin.left;\n            }\n            this.session.setScrollLeft(newLeft);\n        }\n        else {\n            newLeft += twoCharsWidth;\n            if (currentLeft + this.$size.scrollerWidth < newLeft + this.characterWidth) {\n                this.session.setScrollLeft(Math.round(newLeft + this.characterWidth - this.$size.scrollerWidth));\n            }\n            else if (currentLeft <= this.$padding && newLeft - currentLeft < this.characterWidth) {\n                this.session.setScrollLeft(0);\n            }\n        }\n    };\n    this.getScrollTop = function () {\n        return this.session.getScrollTop();\n    };\n    this.getScrollLeft = function () {\n        return this.session.getScrollLeft();\n    };\n    this.getScrollTopRow = function () {\n        return this.scrollTop / this.lineHeight;\n    };\n    this.getScrollBottomRow = function () {\n        return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1);\n    };\n    this.scrollToRow = function (row) {\n        this.session.setScrollTop(row * this.lineHeight);\n    };\n    this.alignCursor = function (cursor, alignment) {\n        if (typeof cursor == \"number\")\n            cursor = { row: cursor, column: 0 };\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n        var h = this.$size.scrollerHeight - this.lineHeight;\n        var offset = pos.top - h * (alignment || 0);\n        this.session.setScrollTop(offset);\n        return offset;\n    };\n    this.STEPS = 8;\n    this.$calcSteps = function (fromValue, toValue) {\n        var i = 0;\n        var l = this.STEPS;\n        var steps = [];\n        var func = function (t, x_min, dx) {\n            return dx * (Math.pow(t - 1, 3) + 1) + x_min;\n        };\n        for (i = 0; i < l; ++i)\n            steps.push(func(i / this.STEPS, fromValue, toValue - fromValue));\n        return steps;\n    };\n    this.scrollToLine = function (line, center, animate, callback) {\n        var pos = this.$cursorLayer.getPixelPosition({ row: line, column: 0 });\n        var offset = pos.top;\n        if (center)\n            offset -= this.$size.scrollerHeight / 2;\n        var initialScroll = this.scrollTop;\n        this.session.setScrollTop(offset);\n        if (animate !== false)\n            this.animateScrolling(initialScroll, callback);\n    };\n    this.animateScrolling = function (fromValue, callback) {\n        var toValue = this.scrollTop;\n        if (!this.$animatedScroll)\n            return;\n        var _self = this;\n        if (fromValue == toValue)\n            return;\n        if (this.$scrollAnimation) {\n            var oldSteps = this.$scrollAnimation.steps;\n            if (oldSteps.length) {\n                fromValue = oldSteps[0];\n                if (fromValue == toValue)\n                    return;\n            }\n        }\n        var steps = _self.$calcSteps(fromValue, toValue);\n        this.$scrollAnimation = { from: fromValue, to: toValue, steps: steps };\n        clearInterval(this.$timer);\n        _self.session.setScrollTop(steps.shift());\n        _self.session.$scrollTop = toValue;\n        function endAnimation() {\n            _self.$timer = clearInterval(_self.$timer);\n            _self.$scrollAnimation = null;\n            _self.$stopAnimation = false;\n            callback && callback();\n        }\n        this.$timer = setInterval(function () {\n            if (_self.$stopAnimation) {\n                endAnimation();\n                return;\n            }\n            if (!_self.session)\n                return clearInterval(_self.$timer);\n            if (steps.length) {\n                _self.session.setScrollTop(steps.shift());\n                _self.session.$scrollTop = toValue;\n            }\n            else if (toValue != null) {\n                _self.session.$scrollTop = -1;\n                _self.session.setScrollTop(toValue);\n                toValue = null;\n            }\n            else {\n                endAnimation();\n            }\n        }, 10);\n    };\n    this.scrollToY = function (scrollTop) {\n        if (this.scrollTop !== scrollTop) {\n            this.$loop.schedule(this.CHANGE_SCROLL);\n            this.scrollTop = scrollTop;\n        }\n    };\n    this.scrollToX = function (scrollLeft) {\n        if (this.scrollLeft !== scrollLeft)\n            this.scrollLeft = scrollLeft;\n        this.$loop.schedule(this.CHANGE_H_SCROLL);\n    };\n    this.scrollTo = function (x, y) {\n        this.session.setScrollTop(y);\n        this.session.setScrollLeft(x);\n    };\n    this.scrollBy = function (deltaX, deltaY) {\n        deltaY && this.session.setScrollTop(this.session.getScrollTop() + deltaY);\n        deltaX && this.session.setScrollLeft(this.session.getScrollLeft() + deltaX);\n    };\n    this.isScrollableBy = function (deltaX, deltaY) {\n        if (deltaY < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top)\n            return true;\n        if (deltaY > 0 && this.session.getScrollTop() + this.$size.scrollerHeight\n            - this.layerConfig.maxHeight < -1 + this.scrollMargin.bottom)\n            return true;\n        if (deltaX < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left)\n            return true;\n        if (deltaX > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth\n            - this.layerConfig.width < -1 + this.scrollMargin.right)\n            return true;\n    };\n    this.pixelToScreenCoordinates = function (x, y) {\n        var canvasPos;\n        if (this.$hasCssTransforms) {\n            canvasPos = { top: 0, left: 0 };\n            var p = this.$fontMetrics.transformCoordinates([x, y]);\n            x = p[1] - this.gutterWidth - this.margin.left;\n            y = p[0];\n        }\n        else {\n            canvasPos = this.scroller.getBoundingClientRect();\n        }\n        var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n        var offset = offsetX / this.characterWidth;\n        var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n        var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);\n        return { row: row, column: col, side: offset - col > 0 ? 1 : -1, offsetX: offsetX };\n    };\n    this.screenToTextCoordinates = function (x, y) {\n        var canvasPos;\n        if (this.$hasCssTransforms) {\n            canvasPos = { top: 0, left: 0 };\n            var p = this.$fontMetrics.transformCoordinates([x, y]);\n            x = p[1] - this.gutterWidth - this.margin.left;\n            y = p[0];\n        }\n        else {\n            canvasPos = this.scroller.getBoundingClientRect();\n        }\n        var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n        var offset = offsetX / this.characterWidth;\n        var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);\n        var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n        return this.session.screenToDocumentPosition(row, Math.max(col, 0), offsetX);\n    };\n    this.textToScreenCoordinates = function (row, column) {\n        var canvasPos = this.scroller.getBoundingClientRect();\n        var pos = this.session.documentToScreenPosition(row, column);\n        var x = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, row)\n            ? this.session.$bidiHandler.getPosLeft(pos.column)\n            : Math.round(pos.column * this.characterWidth));\n        var y = pos.row * this.lineHeight;\n        return {\n            pageX: canvasPos.left + x - this.scrollLeft,\n            pageY: canvasPos.top + y - this.scrollTop\n        };\n    };\n    this.visualizeFocus = function () {\n        dom.addCssClass(this.container, \"ace_focus\");\n    };\n    this.visualizeBlur = function () {\n        dom.removeCssClass(this.container, \"ace_focus\");\n    };\n    this.showComposition = function (composition) {\n        this.$composition = composition;\n        if (!composition.cssText) {\n            composition.cssText = this.textarea.style.cssText;\n        }\n        if (composition.useTextareaForIME == undefined)\n            composition.useTextareaForIME = this.$useTextareaForIME;\n        if (this.$useTextareaForIME) {\n            dom.addCssClass(this.textarea, \"ace_composition\");\n            this.textarea.style.cssText = \"\";\n            this.$moveTextAreaToCursor();\n            this.$cursorLayer.element.style.display = \"none\";\n        }\n        else {\n            composition.markerId = this.session.addMarker(composition.markerRange, \"ace_composition_marker\", \"text\");\n        }\n    };\n    this.setCompositionText = function (text) {\n        var cursor = this.session.selection.cursor;\n        this.addToken(text, \"composition_placeholder\", cursor.row, cursor.column);\n        this.$moveTextAreaToCursor();\n    };\n    this.hideComposition = function () {\n        if (!this.$composition)\n            return;\n        if (this.$composition.markerId)\n            this.session.removeMarker(this.$composition.markerId);\n        dom.removeCssClass(this.textarea, \"ace_composition\");\n        this.textarea.style.cssText = this.$composition.cssText;\n        var cursor = this.session.selection.cursor;\n        this.removeExtraToken(cursor.row, cursor.column);\n        this.$composition = null;\n        this.$cursorLayer.element.style.display = \"\";\n    };\n    this.addToken = function (text, type, row, column) {\n        var session = this.session;\n        session.bgTokenizer.lines[row] = null;\n        var newToken = { type: type, value: text };\n        var tokens = session.getTokens(row);\n        if (column == null) {\n            tokens.push(newToken);\n        }\n        else {\n            var l = 0;\n            for (var i = 0; i < tokens.length; i++) {\n                var token = tokens[i];\n                l += token.value.length;\n                if (column <= l) {\n                    var diff = token.value.length - (l - column);\n                    var before = token.value.slice(0, diff);\n                    var after = token.value.slice(diff);\n                    tokens.splice(i, 1, { type: token.type, value: before }, newToken, { type: token.type, value: after });\n                    break;\n                }\n            }\n        }\n        this.updateLines(row, row);\n    };\n    this.removeExtraToken = function (row, column) {\n        this.updateLines(row, row);\n    };\n    this.setTheme = function (theme, cb) {\n        var _self = this;\n        this.$themeId = theme;\n        _self._dispatchEvent('themeChange', { theme: theme });\n        if (!theme || typeof theme == \"string\") {\n            var moduleName = theme || this.$options.theme.initialValue;\n            config.loadModule([\"theme\", moduleName], afterLoad);\n        }\n        else {\n            afterLoad(theme);\n        }\n        function afterLoad(module) {\n            if (_self.$themeId != theme)\n                return cb && cb();\n            if (!module || !module.cssClass)\n                throw new Error(\"couldn't load module \" + theme + \" or it didn't call define\");\n            if (module.$id)\n                _self.$themeId = module.$id;\n            dom.importCssString(module.cssText, module.cssClass, _self.container);\n            if (_self.theme)\n                dom.removeCssClass(_self.container, _self.theme.cssClass);\n            var padding = \"padding\" in module ? module.padding\n                : \"padding\" in (_self.theme || {}) ? 4 : _self.$padding;\n            if (_self.$padding && padding != _self.$padding)\n                _self.setPadding(padding);\n            _self.$theme = module.cssClass;\n            _self.theme = module;\n            dom.addCssClass(_self.container, module.cssClass);\n            dom.setCssClass(_self.container, \"ace_dark\", module.isDark);\n            if (_self.$size) {\n                _self.$size.width = 0;\n                _self.$updateSizeAsync();\n            }\n            _self._dispatchEvent('themeLoaded', { theme: module });\n            cb && cb();\n        }\n    };\n    this.getTheme = function () {\n        return this.$themeId;\n    };\n    this.setStyle = function (style, include) {\n        dom.setCssClass(this.container, style, include !== false);\n    };\n    this.unsetStyle = function (style) {\n        dom.removeCssClass(this.container, style);\n    };\n    this.setCursorStyle = function (style) {\n        dom.setStyle(this.scroller.style, \"cursor\", style);\n    };\n    this.setMouseCursor = function (cursorStyle) {\n        dom.setStyle(this.scroller.style, \"cursor\", cursorStyle);\n    };\n    this.attachToShadowRoot = function () {\n        dom.importCssString(editorCss, \"ace_editor.css\", this.container);\n    };\n    this.destroy = function () {\n        this.freeze();\n        this.$fontMetrics.destroy();\n        this.$cursorLayer.destroy();\n        this.removeAllListeners();\n        this.container.textContent = \"\";\n    };\n    this.$updateCustomScrollbar = function (val) {\n        var _self = this;\n        this.$horizScroll = this.$vScroll = null;\n        this.scrollBarV.element.remove();\n        this.scrollBarH.element.remove();\n        if (this.$scrollDecorator) {\n            delete this.$scrollDecorator;\n        }\n        if (val === true) {\n            this.scrollBarV = new VScrollBarCustom(this.container, this);\n            this.scrollBarH = new HScrollBarCustom(this.container, this);\n            this.scrollBarV.setHeight(this.$size.scrollerHeight);\n            this.scrollBarH.setWidth(this.$size.scrollerWidth);\n            this.scrollBarV.addEventListener(\"scroll\", function (e) {\n                if (!_self.$scrollAnimation)\n                    _self.session.setScrollTop(e.data - _self.scrollMargin.top);\n            });\n            this.scrollBarH.addEventListener(\"scroll\", function (e) {\n                if (!_self.$scrollAnimation)\n                    _self.session.setScrollLeft(e.data - _self.scrollMargin.left);\n            });\n            this.$scrollDecorator = new Decorator(this.scrollBarV, this);\n            this.$scrollDecorator.$updateDecorators();\n        }\n        else {\n            this.scrollBarV = new VScrollBar(this.container, this);\n            this.scrollBarH = new HScrollBar(this.container, this);\n            this.scrollBarV.addEventListener(\"scroll\", function (e) {\n                if (!_self.$scrollAnimation)\n                    _self.session.setScrollTop(e.data - _self.scrollMargin.top);\n            });\n            this.scrollBarH.addEventListener(\"scroll\", function (e) {\n                if (!_self.$scrollAnimation)\n                    _self.session.setScrollLeft(e.data - _self.scrollMargin.left);\n            });\n        }\n    };\n}).call(VirtualRenderer.prototype);\nconfig.defineOptions(VirtualRenderer.prototype, \"renderer\", {\n    animatedScroll: { initialValue: false },\n    showInvisibles: {\n        set: function (value) {\n            if (this.$textLayer.setShowInvisibles(value))\n                this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: false\n    },\n    showPrintMargin: {\n        set: function () { this.$updatePrintMargin(); },\n        initialValue: true\n    },\n    printMarginColumn: {\n        set: function () { this.$updatePrintMargin(); },\n        initialValue: 80\n    },\n    printMargin: {\n        set: function (val) {\n            if (typeof val == \"number\")\n                this.$printMarginColumn = val;\n            this.$showPrintMargin = !!val;\n            this.$updatePrintMargin();\n        },\n        get: function () {\n            return this.$showPrintMargin && this.$printMarginColumn;\n        }\n    },\n    showGutter: {\n        set: function (show) {\n            this.$gutter.style.display = show ? \"block\" : \"none\";\n            this.$loop.schedule(this.CHANGE_FULL);\n            this.onGutterResize();\n        },\n        initialValue: true\n    },\n    fadeFoldWidgets: {\n        set: function (show) {\n            dom.setCssClass(this.$gutter, \"ace_fade-fold-widgets\", show);\n        },\n        initialValue: false\n    },\n    showFoldWidgets: {\n        set: function (show) {\n            this.$gutterLayer.setShowFoldWidgets(show);\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        },\n        initialValue: true\n    },\n    displayIndentGuides: {\n        set: function (show) {\n            if (this.$textLayer.setDisplayIndentGuides(show))\n                this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: true\n    },\n    highlightIndentGuides: {\n        set: function (show) {\n            if (this.$textLayer.setHighlightIndentGuides(show) == true) {\n                this.$textLayer.$highlightIndentGuide();\n            }\n            else {\n                this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells);\n            }\n        },\n        initialValue: true\n    },\n    highlightGutterLine: {\n        set: function (shouldHighlight) {\n            this.$gutterLayer.setHighlightGutterLine(shouldHighlight);\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        },\n        initialValue: true\n    },\n    hScrollBarAlwaysVisible: {\n        set: function (val) {\n            if (!this.$hScrollBarAlwaysVisible || !this.$horizScroll)\n                this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n    },\n    vScrollBarAlwaysVisible: {\n        set: function (val) {\n            if (!this.$vScrollBarAlwaysVisible || !this.$vScroll)\n                this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n    },\n    fontSize: {\n        set: function (size) {\n            if (typeof size == \"number\")\n                size = size + \"px\";\n            this.container.style.fontSize = size;\n            this.updateFontSize();\n        },\n        initialValue: 12\n    },\n    fontFamily: {\n        set: function (name) {\n            this.container.style.fontFamily = name;\n            this.updateFontSize();\n        }\n    },\n    maxLines: {\n        set: function (val) {\n            this.updateFull();\n        }\n    },\n    minLines: {\n        set: function (val) {\n            if (!(this.$minLines < 0x1ffffffffffff))\n                this.$minLines = 0;\n            this.updateFull();\n        }\n    },\n    maxPixelHeight: {\n        set: function (val) {\n            this.updateFull();\n        },\n        initialValue: 0\n    },\n    scrollPastEnd: {\n        set: function (val) {\n            val = +val || 0;\n            if (this.$scrollPastEnd == val)\n                return;\n            this.$scrollPastEnd = val;\n            this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: 0,\n        handlesSet: true\n    },\n    fixedWidthGutter: {\n        set: function (val) {\n            this.$gutterLayer.$fixedWidth = !!val;\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        }\n    },\n    customScrollbar: {\n        set: function (val) {\n            this.$updateCustomScrollbar(val);\n        },\n        initialValue: false\n    },\n    theme: {\n        set: function (val) { this.setTheme(val); },\n        get: function () { return this.$themeId || this.theme; },\n        initialValue: \"./theme/textmate\",\n        handlesSet: true\n    },\n    hasCssTransforms: {},\n    useTextareaForIME: {\n        initialValue: !useragent.isMobile && !useragent.isIE\n    }\n});\nexports.VirtualRenderer = VirtualRenderer;\n\n});\n\nace.define(\"ace/worker/worker_client\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/net\",\"ace/lib/event_emitter\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar net = require(\"../lib/net\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar config = require(\"../config\");\n\nfunction $workerBlob(workerUrl) {\n    var script = \"importScripts('\" + net.qualifyURL(workerUrl) + \"');\";\n    try {\n        return new Blob([script], {\"type\": \"application/javascript\"});\n    } catch (e) { // Backwards-compatibility\n        var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n        var blobBuilder = new BlobBuilder();\n        blobBuilder.append(script);\n        return blobBuilder.getBlob(\"application/javascript\");\n    }\n}\n\nfunction createWorker(workerUrl) {\n    if (typeof Worker == \"undefined\")\n        return { postMessage: function() {}, terminate: function() {} };\n    if (config.get(\"loadWorkerFromBlob\")) {\n        var blob = $workerBlob(workerUrl);\n        var URL = window.URL || window.webkitURL;\n        var blobURL = URL.createObjectURL(blob);\n        return new Worker(blobURL);\n    }\n    return new Worker(workerUrl);\n}\n\nvar WorkerClient = function(worker) {\n    if (!worker.postMessage)\n        worker = this.$createWorkerFromOldConfig.apply(this, arguments);\n\n    this.$worker = worker;\n    this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);\n    this.changeListener = this.changeListener.bind(this);\n    this.onMessage = this.onMessage.bind(this);\n\n    this.callbackId = 1;\n    this.callbacks = {};\n\n    this.$worker.onmessage = this.onMessage;\n};\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n\n    this.$createWorkerFromOldConfig = function(topLevelNamespaces, mod, classname, workerUrl, importScripts) {\n        if (require.nameToUrl && !require.toUrl)\n            require.toUrl = require.nameToUrl;\n\n        if (config.get(\"packaged\") || !require.toUrl) {\n            workerUrl = workerUrl || config.moduleUrl(mod, \"worker\");\n        } else {\n            var normalizePath = this.$normalizePath;\n            workerUrl = workerUrl || normalizePath(require.toUrl(\"ace/worker/worker.js\", null, \"_\"));\n\n            var tlns = {};\n            topLevelNamespaces.forEach(function(ns) {\n                tlns[ns] = normalizePath(require.toUrl(ns, null, \"_\").replace(/(\\.js)?(\\?.*)?$/, \"\"));\n            });\n        }\n\n        this.$worker = createWorker(workerUrl);\n        if (importScripts) {\n            this.send(\"importScripts\", importScripts);\n        }\n        this.$worker.postMessage({\n            init : true,\n            tlns : tlns,\n            module : mod,\n            classname : classname\n        });\n        return this.$worker;\n    };\n\n    this.onMessage = function(e) {\n        var msg = e.data;\n        switch (msg.type) {\n            case \"event\":\n                this._signal(msg.name, {data: msg.data});\n                break;\n            case \"call\":\n                var callback = this.callbacks[msg.id];\n                if (callback) {\n                    callback(msg.data);\n                    delete this.callbacks[msg.id];\n                }\n                break;\n            case \"error\":\n                this.reportError(msg.data);\n                break;\n            case \"log\":\n                window.console && console.log && console.log.apply(console, msg.data);\n                break;\n        }\n    };\n    \n    this.reportError = function(err) {\n        window.console && console.error && console.error(err);\n    };\n\n    this.$normalizePath = function(path) {\n        return net.qualifyURL(path);\n    };\n\n    this.terminate = function() {\n        this._signal(\"terminate\", {});\n        this.deltaQueue = null;\n        this.$worker.terminate();\n        this.$worker = null;\n        if (this.$doc)\n            this.$doc.off(\"change\", this.changeListener);\n        this.$doc = null;\n    };\n\n    this.send = function(cmd, args) {\n        this.$worker.postMessage({command: cmd, args: args});\n    };\n\n    this.call = function(cmd, args, callback) {\n        if (callback) {\n            var id = this.callbackId++;\n            this.callbacks[id] = callback;\n            args.push(id);\n        }\n        this.send(cmd, args);\n    };\n\n    this.emit = function(event, data) {\n        try {\n            if (data.data && data.data.err)\n                data.data.err = {message: data.data.err.message, stack: data.data.err.stack, code: data.data.err.code};\n                this.$worker && this.$worker.postMessage({event: event, data: {data: data.data}});\n        }\n        catch(ex) {\n            console.error(ex.stack);\n        }\n    };\n\n    this.attachToDocument = function(doc) {\n        if (this.$doc)\n            this.terminate();\n\n        this.$doc = doc;\n        this.call(\"setValue\", [doc.getValue()]);\n        doc.on(\"change\", this.changeListener, true);\n    };\n\n    this.changeListener = function(delta) {\n        if (!this.deltaQueue) {\n            this.deltaQueue = [];\n            setTimeout(this.$sendDeltaQueue, 0);\n        }\n        if (delta.action == \"insert\")\n            this.deltaQueue.push(delta.start, delta.lines);\n        else\n            this.deltaQueue.push(delta.start, delta.end);\n    };\n\n    this.$sendDeltaQueue = function() {\n        var q = this.deltaQueue;\n        if (!q) return;\n        this.deltaQueue = null;\n        if (q.length > 50 && q.length > this.$doc.getLength() >> 1) {\n            this.call(\"setValue\", [this.$doc.getValue()]);\n        } else\n            this.emit(\"change\", {data: q});\n    };\n\n}).call(WorkerClient.prototype);\n\n\nvar UIWorkerClient = function(topLevelNamespaces, mod, classname) {\n    var main = null;\n    var emitSync = false;\n    var sender = Object.create(EventEmitter);\n\n    var messageBuffer = [];\n    var workerClient = new WorkerClient({\n        messageBuffer: messageBuffer,\n        terminate: function() {},\n        postMessage: function(e) {\n            messageBuffer.push(e);\n            if (!main) return;\n            if (emitSync)\n                setTimeout(processNext);\n            else\n                processNext();\n        }\n    });\n\n    workerClient.setEmitSync = function(val) { emitSync = val; };\n\n    var processNext = function() {\n        var msg = messageBuffer.shift();\n        if (msg.command)\n            main[msg.command].apply(main, msg.args);\n        else if (msg.event)\n            sender._signal(msg.event, msg.data);\n    };\n\n    sender.postMessage = function(msg) {\n        workerClient.onMessage({data: msg});\n    };\n    sender.callback = function(data, callbackId) {\n        this.postMessage({type: \"call\", id: callbackId, data: data});\n    };\n    sender.emit = function(name, data) {\n        this.postMessage({type: \"event\", name: name, data: data});\n    };\n\n    config.loadModule([\"worker\", mod], function(Main) {\n        main = new Main[classname](sender);\n        while (messageBuffer.length)\n            processNext();\n    });\n\n    return workerClient;\n};\n\nexports.UIWorkerClient = UIWorkerClient;\nexports.WorkerClient = WorkerClient;\nexports.createWorker = createWorker;\n\n\n});\n\nace.define(\"ace/placeholder\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/lib/oop\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"./range\").Range;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar oop = require(\"./lib/oop\");\nvar PlaceHolder = function (session, length, pos, others, mainClass, othersClass) {\n    var _self = this;\n    this.length = length;\n    this.session = session;\n    this.doc = session.getDocument();\n    this.mainClass = mainClass;\n    this.othersClass = othersClass;\n    this.$onUpdate = this.onUpdate.bind(this);\n    this.doc.on(\"change\", this.$onUpdate, true);\n    this.$others = others;\n    this.$onCursorChange = function () {\n        setTimeout(function () {\n            _self.onCursorChange();\n        });\n    };\n    this.$pos = pos;\n    var undoStack = session.getUndoManager().$undoStack || session.getUndoManager().$undostack || { length: -1 };\n    this.$undoStackDepth = undoStack.length;\n    this.setup();\n    session.selection.on(\"changeCursor\", this.$onCursorChange);\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.setup = function () {\n        var _self = this;\n        var doc = this.doc;\n        var session = this.session;\n        this.selectionBefore = session.selection.toJSON();\n        if (session.selection.inMultiSelectMode)\n            session.selection.toSingleRange();\n        this.pos = doc.createAnchor(this.$pos.row, this.$pos.column);\n        var pos = this.pos;\n        pos.$insertRight = true;\n        pos.detach();\n        pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + this.length), this.mainClass, null, false);\n        this.others = [];\n        this.$others.forEach(function (other) {\n            var anchor = doc.createAnchor(other.row, other.column);\n            anchor.$insertRight = true;\n            anchor.detach();\n            _self.others.push(anchor);\n        });\n        session.setUndoSelect(false);\n    };\n    this.showOtherMarkers = function () {\n        if (this.othersActive)\n            return;\n        var session = this.session;\n        var _self = this;\n        this.othersActive = true;\n        this.others.forEach(function (anchor) {\n            anchor.markerId = session.addMarker(new Range(anchor.row, anchor.column, anchor.row, anchor.column + _self.length), _self.othersClass, null, false);\n        });\n    };\n    this.hideOtherMarkers = function () {\n        if (!this.othersActive)\n            return;\n        this.othersActive = false;\n        for (var i = 0; i < this.others.length; i++) {\n            this.session.removeMarker(this.others[i].markerId);\n        }\n    };\n    this.onUpdate = function (delta) {\n        if (this.$updating)\n            return this.updateAnchors(delta);\n        var range = delta;\n        if (range.start.row !== range.end.row)\n            return;\n        if (range.start.row !== this.pos.row)\n            return;\n        this.$updating = true;\n        var lengthDiff = delta.action === \"insert\" ? range.end.column - range.start.column : range.start.column - range.end.column;\n        var inMainRange = range.start.column >= this.pos.column && range.start.column <= this.pos.column + this.length + 1;\n        var distanceFromStart = range.start.column - this.pos.column;\n        this.updateAnchors(delta);\n        if (inMainRange)\n            this.length += lengthDiff;\n        if (inMainRange && !this.session.$fromUndo) {\n            if (delta.action === 'insert') {\n                for (var i = this.others.length - 1; i >= 0; i--) {\n                    var otherPos = this.others[i];\n                    var newPos = { row: otherPos.row, column: otherPos.column + distanceFromStart };\n                    this.doc.insertMergedLines(newPos, delta.lines);\n                }\n            }\n            else if (delta.action === 'remove') {\n                for (var i = this.others.length - 1; i >= 0; i--) {\n                    var otherPos = this.others[i];\n                    var newPos = { row: otherPos.row, column: otherPos.column + distanceFromStart };\n                    this.doc.remove(new Range(newPos.row, newPos.column, newPos.row, newPos.column - lengthDiff));\n                }\n            }\n        }\n        this.$updating = false;\n        this.updateMarkers();\n    };\n    this.updateAnchors = function (delta) {\n        this.pos.onChange(delta);\n        for (var i = this.others.length; i--;)\n            this.others[i].onChange(delta);\n        this.updateMarkers();\n    };\n    this.updateMarkers = function () {\n        if (this.$updating)\n            return;\n        var _self = this;\n        var session = this.session;\n        var updateMarker = function (pos, className) {\n            session.removeMarker(pos.markerId);\n            pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + _self.length), className, null, false);\n        };\n        updateMarker(this.pos, this.mainClass);\n        for (var i = this.others.length; i--;)\n            updateMarker(this.others[i], this.othersClass);\n    };\n    this.onCursorChange = function (event) {\n        if (this.$updating || !this.session)\n            return;\n        var pos = this.session.selection.getCursor();\n        if (pos.row === this.pos.row && pos.column >= this.pos.column && pos.column <= this.pos.column + this.length) {\n            this.showOtherMarkers();\n            this._emit(\"cursorEnter\", event);\n        }\n        else {\n            this.hideOtherMarkers();\n            this._emit(\"cursorLeave\", event);\n        }\n    };\n    this.detach = function () {\n        this.session.removeMarker(this.pos && this.pos.markerId);\n        this.hideOtherMarkers();\n        this.doc.off(\"change\", this.$onUpdate);\n        this.session.selection.off(\"changeCursor\", this.$onCursorChange);\n        this.session.setUndoSelect(true);\n        this.session = null;\n    };\n    this.cancel = function () {\n        if (this.$undoStackDepth === -1)\n            return;\n        var undoManager = this.session.getUndoManager();\n        var undosRequired = (undoManager.$undoStack || undoManager.$undostack).length - this.$undoStackDepth;\n        for (var i = 0; i < undosRequired; i++) {\n            undoManager.undo(this.session, true);\n        }\n        if (this.selectionBefore)\n            this.session.selection.fromJSON(this.selectionBefore);\n    };\n}).call(PlaceHolder.prototype);\nexports.PlaceHolder = PlaceHolder;\n\n});\n\nace.define(\"ace/mouse/multi_select_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module){var event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nfunction isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n}\nfunction onMouseDown(e) {\n    var ev = e.domEvent;\n    var alt = ev.altKey;\n    var shift = ev.shiftKey;\n    var ctrl = ev.ctrlKey;\n    var accel = e.getAccelKey();\n    var button = e.getButton();\n    if (ctrl && useragent.isMac)\n        button = ev.button;\n    if (e.editor.inMultiSelectMode && button == 2) {\n        e.editor.textInput.onContextMenu(e.domEvent);\n        return;\n    }\n    if (!ctrl && !alt && !accel) {\n        if (button === 0 && e.editor.inMultiSelectMode)\n            e.editor.exitMultiSelectMode();\n        return;\n    }\n    if (button !== 0)\n        return;\n    var editor = e.editor;\n    var selection = editor.selection;\n    var isMultiSelect = editor.inMultiSelectMode;\n    var pos = e.getDocumentPosition();\n    var cursor = selection.getCursor();\n    var inSelection = e.inSelection() || (selection.isEmpty() && isSamePoint(pos, cursor));\n    var mouseX = e.x, mouseY = e.y;\n    var onMouseSelection = function (e) {\n        mouseX = e.clientX;\n        mouseY = e.clientY;\n    };\n    var session = editor.session;\n    var screenAnchor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n    var screenCursor = screenAnchor;\n    var selectionMode;\n    if (editor.$mouseHandler.$enableJumpToDef) {\n        if (ctrl && alt || accel && alt)\n            selectionMode = shift ? \"block\" : \"add\";\n        else if (alt && editor.$blockSelectEnabled)\n            selectionMode = \"block\";\n    }\n    else {\n        if (accel && !alt) {\n            selectionMode = \"add\";\n            if (!isMultiSelect && shift)\n                return;\n        }\n        else if (alt && editor.$blockSelectEnabled) {\n            selectionMode = \"block\";\n        }\n    }\n    if (selectionMode && useragent.isMac && ev.ctrlKey) {\n        editor.$mouseHandler.cancelContextMenu();\n    }\n    if (selectionMode == \"add\") {\n        if (!isMultiSelect && inSelection)\n            return; // dragging\n        if (!isMultiSelect) {\n            var range = selection.toOrientedRange();\n            editor.addSelectionMarker(range);\n        }\n        var oldRange = selection.rangeList.rangeAtPoint(pos);\n        editor.inVirtualSelectionMode = true;\n        if (shift) {\n            oldRange = null;\n            range = selection.ranges[0] || range;\n            editor.removeSelectionMarker(range);\n        }\n        editor.once(\"mouseup\", function () {\n            var tmpSel = selection.toOrientedRange();\n            if (oldRange && tmpSel.isEmpty() && isSamePoint(oldRange.cursor, tmpSel.cursor))\n                selection.substractPoint(tmpSel.cursor);\n            else {\n                if (shift) {\n                    selection.substractPoint(range.cursor);\n                }\n                else if (range) {\n                    editor.removeSelectionMarker(range);\n                    selection.addRange(range);\n                }\n                selection.addRange(tmpSel);\n            }\n            editor.inVirtualSelectionMode = false;\n        });\n    }\n    else if (selectionMode == \"block\") {\n        e.stop();\n        editor.inVirtualSelectionMode = true;\n        var initialRange;\n        var rectSel = [];\n        var blockSelect = function () {\n            var newCursor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n            var cursor = session.screenToDocumentPosition(newCursor.row, newCursor.column, newCursor.offsetX);\n            if (isSamePoint(screenCursor, newCursor) && isSamePoint(cursor, selection.lead))\n                return;\n            screenCursor = newCursor;\n            editor.selection.moveToPosition(cursor);\n            editor.renderer.scrollCursorIntoView();\n            editor.removeSelectionMarkers(rectSel);\n            rectSel = selection.rectangularRangeBlock(screenCursor, screenAnchor);\n            if (editor.$mouseHandler.$clickSelection && rectSel.length == 1 && rectSel[0].isEmpty())\n                rectSel[0] = editor.$mouseHandler.$clickSelection.clone();\n            rectSel.forEach(editor.addSelectionMarker, editor);\n            editor.updateSelectionMarkers();\n        };\n        if (isMultiSelect && !accel) {\n            selection.toSingleRange();\n        }\n        else if (!isMultiSelect && accel) {\n            initialRange = selection.toOrientedRange();\n            editor.addSelectionMarker(initialRange);\n        }\n        if (shift)\n            screenAnchor = session.documentToScreenPosition(selection.lead);\n        else\n            selection.moveToPosition(pos);\n        screenCursor = { row: -1, column: -1 };\n        var onMouseSelectionEnd = function (e) {\n            blockSelect();\n            clearInterval(timerId);\n            editor.removeSelectionMarkers(rectSel);\n            if (!rectSel.length)\n                rectSel = [selection.toOrientedRange()];\n            if (initialRange) {\n                editor.removeSelectionMarker(initialRange);\n                selection.toSingleRange(initialRange);\n            }\n            for (var i = 0; i < rectSel.length; i++)\n                selection.addRange(rectSel[i]);\n            editor.inVirtualSelectionMode = false;\n            editor.$mouseHandler.$clickSelection = null;\n        };\n        var onSelectionInterval = blockSelect;\n        event.capture(editor.container, onMouseSelection, onMouseSelectionEnd);\n        var timerId = setInterval(function () { onSelectionInterval(); }, 20);\n        return e.preventDefault();\n    }\n}\nexports.onMouseDown = onMouseDown;\n\n});\n\nace.define(\"ace/commands/multi_select_commands\",[\"require\",\"exports\",\"module\",\"ace/keyboard/hash_handler\"], function(require, exports, module){// commands to enter multiselect mode\nexports.defaultCommands = [{\n        name: \"addCursorAbove\",\n        description: \"Add cursor above\",\n        exec: function (editor) { editor.selectMoreLines(-1); },\n        bindKey: { win: \"Ctrl-Alt-Up\", mac: \"Ctrl-Alt-Up\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"addCursorBelow\",\n        description: \"Add cursor below\",\n        exec: function (editor) { editor.selectMoreLines(1); },\n        bindKey: { win: \"Ctrl-Alt-Down\", mac: \"Ctrl-Alt-Down\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"addCursorAboveSkipCurrent\",\n        description: \"Add cursor above (skip current)\",\n        exec: function (editor) { editor.selectMoreLines(-1, true); },\n        bindKey: { win: \"Ctrl-Alt-Shift-Up\", mac: \"Ctrl-Alt-Shift-Up\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"addCursorBelowSkipCurrent\",\n        description: \"Add cursor below (skip current)\",\n        exec: function (editor) { editor.selectMoreLines(1, true); },\n        bindKey: { win: \"Ctrl-Alt-Shift-Down\", mac: \"Ctrl-Alt-Shift-Down\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectMoreBefore\",\n        description: \"Select more before\",\n        exec: function (editor) { editor.selectMore(-1); },\n        bindKey: { win: \"Ctrl-Alt-Left\", mac: \"Ctrl-Alt-Left\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectMoreAfter\",\n        description: \"Select more after\",\n        exec: function (editor) { editor.selectMore(1); },\n        bindKey: { win: \"Ctrl-Alt-Right\", mac: \"Ctrl-Alt-Right\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectNextBefore\",\n        description: \"Select next before\",\n        exec: function (editor) { editor.selectMore(-1, true); },\n        bindKey: { win: \"Ctrl-Alt-Shift-Left\", mac: \"Ctrl-Alt-Shift-Left\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectNextAfter\",\n        description: \"Select next after\",\n        exec: function (editor) { editor.selectMore(1, true); },\n        bindKey: { win: \"Ctrl-Alt-Shift-Right\", mac: \"Ctrl-Alt-Shift-Right\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"toggleSplitSelectionIntoLines\",\n        description: \"Split into lines\",\n        exec: function (editor) {\n            if (editor.multiSelect.rangeCount > 1)\n                editor.multiSelect.joinSelections();\n            else\n                editor.multiSelect.splitIntoLines();\n        },\n        bindKey: { win: \"Ctrl-Alt-L\", mac: \"Ctrl-Alt-L\" },\n        readOnly: true\n    }, {\n        name: \"splitSelectionIntoLines\",\n        description: \"Split into lines\",\n        exec: function (editor) { editor.multiSelect.splitIntoLines(); },\n        readOnly: true\n    }, {\n        name: \"alignCursors\",\n        description: \"Align cursors\",\n        exec: function (editor) { editor.alignCursors(); },\n        bindKey: { win: \"Ctrl-Alt-A\", mac: \"Ctrl-Alt-A\" },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"findAll\",\n        description: \"Find all\",\n        exec: function (editor) { editor.findAll(); },\n        bindKey: { win: \"Ctrl-Alt-K\", mac: \"Ctrl-Alt-G\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }];\nexports.multiSelectCommands = [{\n        name: \"singleSelection\",\n        description: \"Single selection\",\n        bindKey: \"esc\",\n        exec: function (editor) { editor.exitMultiSelectMode(); },\n        scrollIntoView: \"cursor\",\n        readOnly: true,\n        isAvailable: function (editor) { return editor && editor.inMultiSelectMode; }\n    }];\nvar HashHandler = require(\"../keyboard/hash_handler\").HashHandler;\nexports.keyboardHandler = new HashHandler(exports.multiSelectCommands);\n\n});\n\nace.define(\"ace/multi_select\",[\"require\",\"exports\",\"module\",\"ace/range_list\",\"ace/range\",\"ace/selection\",\"ace/mouse/multi_select_handler\",\"ace/lib/event\",\"ace/lib/lang\",\"ace/commands/multi_select_commands\",\"ace/search\",\"ace/edit_session\",\"ace/editor\",\"ace/config\"], function(require, exports, module){var RangeList = require(\"./range_list\").RangeList;\nvar Range = require(\"./range\").Range;\nvar Selection = require(\"./selection\").Selection;\nvar onMouseDown = require(\"./mouse/multi_select_handler\").onMouseDown;\nvar event = require(\"./lib/event\");\nvar lang = require(\"./lib/lang\");\nvar commands = require(\"./commands/multi_select_commands\");\nexports.commands = commands.defaultCommands.concat(commands.multiSelectCommands);\nvar Search = require(\"./search\").Search;\nvar search = new Search();\nfunction find(session, needle, dir) {\n    search.$options.wrap = true;\n    search.$options.needle = needle;\n    search.$options.backwards = dir == -1;\n    return search.find(session);\n}\nvar EditSession = require(\"./edit_session\").EditSession;\n(function () {\n    this.getSelectionMarkers = function () {\n        return this.$selectionMarkers;\n    };\n}).call(EditSession.prototype);\n(function () {\n    this.ranges = null;\n    this.rangeList = null;\n    this.addRange = function (range, $blockChangeEvents) {\n        if (!range)\n            return;\n        if (!this.inMultiSelectMode && this.rangeCount === 0) {\n            var oldRange = this.toOrientedRange();\n            this.rangeList.add(oldRange);\n            this.rangeList.add(range);\n            if (this.rangeList.ranges.length != 2) {\n                this.rangeList.removeAll();\n                return $blockChangeEvents || this.fromOrientedRange(range);\n            }\n            this.rangeList.removeAll();\n            this.rangeList.add(oldRange);\n            this.$onAddRange(oldRange);\n        }\n        if (!range.cursor)\n            range.cursor = range.end;\n        var removed = this.rangeList.add(range);\n        this.$onAddRange(range);\n        if (removed.length)\n            this.$onRemoveRange(removed);\n        if (this.rangeCount > 1 && !this.inMultiSelectMode) {\n            this._signal(\"multiSelect\");\n            this.inMultiSelectMode = true;\n            this.session.$undoSelect = false;\n            this.rangeList.attach(this.session);\n        }\n        return $blockChangeEvents || this.fromOrientedRange(range);\n    };\n    this.toSingleRange = function (range) {\n        range = range || this.ranges[0];\n        var removed = this.rangeList.removeAll();\n        if (removed.length)\n            this.$onRemoveRange(removed);\n        range && this.fromOrientedRange(range);\n    };\n    this.substractPoint = function (pos) {\n        var removed = this.rangeList.substractPoint(pos);\n        if (removed) {\n            this.$onRemoveRange(removed);\n            return removed[0];\n        }\n    };\n    this.mergeOverlappingRanges = function () {\n        var removed = this.rangeList.merge();\n        if (removed.length)\n            this.$onRemoveRange(removed);\n    };\n    this.$onAddRange = function (range) {\n        this.rangeCount = this.rangeList.ranges.length;\n        this.ranges.unshift(range);\n        this._signal(\"addRange\", { range: range });\n    };\n    this.$onRemoveRange = function (removed) {\n        this.rangeCount = this.rangeList.ranges.length;\n        if (this.rangeCount == 1 && this.inMultiSelectMode) {\n            var lastRange = this.rangeList.ranges.pop();\n            removed.push(lastRange);\n            this.rangeCount = 0;\n        }\n        for (var i = removed.length; i--;) {\n            var index = this.ranges.indexOf(removed[i]);\n            this.ranges.splice(index, 1);\n        }\n        this._signal(\"removeRange\", { ranges: removed });\n        if (this.rangeCount === 0 && this.inMultiSelectMode) {\n            this.inMultiSelectMode = false;\n            this._signal(\"singleSelect\");\n            this.session.$undoSelect = true;\n            this.rangeList.detach(this.session);\n        }\n        lastRange = lastRange || this.ranges[0];\n        if (lastRange && !lastRange.isEqual(this.getRange()))\n            this.fromOrientedRange(lastRange);\n    };\n    this.$initRangeList = function () {\n        if (this.rangeList)\n            return;\n        this.rangeList = new RangeList();\n        this.ranges = [];\n        this.rangeCount = 0;\n    };\n    this.getAllRanges = function () {\n        return this.rangeCount ? this.rangeList.ranges.concat() : [this.getRange()];\n    };\n    this.splitIntoLines = function () {\n        var ranges = this.ranges.length ? this.ranges : [this.getRange()];\n        var newRanges = [];\n        for (var i = 0; i < ranges.length; i++) {\n            var range = ranges[i];\n            var row = range.start.row;\n            var endRow = range.end.row;\n            if (row === endRow) {\n                newRanges.push(range.clone());\n            }\n            else {\n                newRanges.push(new Range(row, range.start.column, row, this.session.getLine(row).length));\n                while (++row < endRow)\n                    newRanges.push(this.getLineRange(row, true));\n                newRanges.push(new Range(endRow, 0, endRow, range.end.column));\n            }\n            if (i == 0 && !this.isBackwards())\n                newRanges = newRanges.reverse();\n        }\n        this.toSingleRange();\n        for (var i = newRanges.length; i--;)\n            this.addRange(newRanges[i]);\n    };\n    this.joinSelections = function () {\n        var ranges = this.rangeList.ranges;\n        var lastRange = ranges[ranges.length - 1];\n        var range = Range.fromPoints(ranges[0].start, lastRange.end);\n        this.toSingleRange();\n        this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n    };\n    this.toggleBlockSelection = function () {\n        if (this.rangeCount > 1) {\n            var ranges = this.rangeList.ranges;\n            var lastRange = ranges[ranges.length - 1];\n            var range = Range.fromPoints(ranges[0].start, lastRange.end);\n            this.toSingleRange();\n            this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n        }\n        else {\n            var cursor = this.session.documentToScreenPosition(this.cursor);\n            var anchor = this.session.documentToScreenPosition(this.anchor);\n            var rectSel = this.rectangularRangeBlock(cursor, anchor);\n            rectSel.forEach(this.addRange, this);\n        }\n    };\n    this.rectangularRangeBlock = function (screenCursor, screenAnchor, includeEmptyLines) {\n        var rectSel = [];\n        var xBackwards = screenCursor.column < screenAnchor.column;\n        if (xBackwards) {\n            var startColumn = screenCursor.column;\n            var endColumn = screenAnchor.column;\n            var startOffsetX = screenCursor.offsetX;\n            var endOffsetX = screenAnchor.offsetX;\n        }\n        else {\n            var startColumn = screenAnchor.column;\n            var endColumn = screenCursor.column;\n            var startOffsetX = screenAnchor.offsetX;\n            var endOffsetX = screenCursor.offsetX;\n        }\n        var yBackwards = screenCursor.row < screenAnchor.row;\n        if (yBackwards) {\n            var startRow = screenCursor.row;\n            var endRow = screenAnchor.row;\n        }\n        else {\n            var startRow = screenAnchor.row;\n            var endRow = screenCursor.row;\n        }\n        if (startColumn < 0)\n            startColumn = 0;\n        if (startRow < 0)\n            startRow = 0;\n        if (startRow == endRow)\n            includeEmptyLines = true;\n        var docEnd;\n        for (var row = startRow; row <= endRow; row++) {\n            var range = Range.fromPoints(this.session.screenToDocumentPosition(row, startColumn, startOffsetX), this.session.screenToDocumentPosition(row, endColumn, endOffsetX));\n            if (range.isEmpty()) {\n                if (docEnd && isSamePoint(range.end, docEnd))\n                    break;\n                docEnd = range.end;\n            }\n            range.cursor = xBackwards ? range.start : range.end;\n            rectSel.push(range);\n        }\n        if (yBackwards)\n            rectSel.reverse();\n        if (!includeEmptyLines) {\n            var end = rectSel.length - 1;\n            while (rectSel[end].isEmpty() && end > 0)\n                end--;\n            if (end > 0) {\n                var start = 0;\n                while (rectSel[start].isEmpty())\n                    start++;\n            }\n            for (var i = end; i >= start; i--) {\n                if (rectSel[i].isEmpty())\n                    rectSel.splice(i, 1);\n            }\n        }\n        return rectSel;\n    };\n}).call(Selection.prototype);\nvar Editor = require(\"./editor\").Editor;\n(function () {\n    this.updateSelectionMarkers = function () {\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n    this.addSelectionMarker = function (orientedRange) {\n        if (!orientedRange.cursor)\n            orientedRange.cursor = orientedRange.end;\n        var style = this.getSelectionStyle();\n        orientedRange.marker = this.session.addMarker(orientedRange, \"ace_selection\", style);\n        this.session.$selectionMarkers.push(orientedRange);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n        return orientedRange;\n    };\n    this.removeSelectionMarker = function (range) {\n        if (!range.marker)\n            return;\n        this.session.removeMarker(range.marker);\n        var index = this.session.$selectionMarkers.indexOf(range);\n        if (index != -1)\n            this.session.$selectionMarkers.splice(index, 1);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n    };\n    this.removeSelectionMarkers = function (ranges) {\n        var markerList = this.session.$selectionMarkers;\n        for (var i = ranges.length; i--;) {\n            var range = ranges[i];\n            if (!range.marker)\n                continue;\n            this.session.removeMarker(range.marker);\n            var index = markerList.indexOf(range);\n            if (index != -1)\n                markerList.splice(index, 1);\n        }\n        this.session.selectionMarkerCount = markerList.length;\n    };\n    this.$onAddRange = function (e) {\n        this.addSelectionMarker(e.range);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n    this.$onRemoveRange = function (e) {\n        this.removeSelectionMarkers(e.ranges);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n    this.$onMultiSelect = function (e) {\n        if (this.inMultiSelectMode)\n            return;\n        this.inMultiSelectMode = true;\n        this.setStyle(\"ace_multiselect\");\n        this.keyBinding.addKeyboardHandler(commands.keyboardHandler);\n        this.commands.setDefaultHandler(\"exec\", this.$onMultiSelectExec);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n    this.$onSingleSelect = function (e) {\n        if (this.session.multiSelect.inVirtualMode)\n            return;\n        this.inMultiSelectMode = false;\n        this.unsetStyle(\"ace_multiselect\");\n        this.keyBinding.removeKeyboardHandler(commands.keyboardHandler);\n        this.commands.removeDefaultHandler(\"exec\", this.$onMultiSelectExec);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n        this._emit(\"changeSelection\");\n    };\n    this.$onMultiSelectExec = function (e) {\n        var command = e.command;\n        var editor = e.editor;\n        if (!editor.multiSelect)\n            return;\n        if (!command.multiSelectAction) {\n            var result = command.exec(editor, e.args || {});\n            editor.multiSelect.addRange(editor.multiSelect.toOrientedRange());\n            editor.multiSelect.mergeOverlappingRanges();\n        }\n        else if (command.multiSelectAction == \"forEach\") {\n            result = editor.forEachSelection(command, e.args);\n        }\n        else if (command.multiSelectAction == \"forEachLine\") {\n            result = editor.forEachSelection(command, e.args, true);\n        }\n        else if (command.multiSelectAction == \"single\") {\n            editor.exitMultiSelectMode();\n            result = command.exec(editor, e.args || {});\n        }\n        else {\n            result = command.multiSelectAction(editor, e.args || {});\n        }\n        return result;\n    };\n    this.forEachSelection = function (cmd, args, options) {\n        if (this.inVirtualSelectionMode)\n            return;\n        var keepOrder = options && options.keepOrder;\n        var $byLines = options == true || options && options.$byLines;\n        var session = this.session;\n        var selection = this.selection;\n        var rangeList = selection.rangeList;\n        var ranges = (keepOrder ? selection : rangeList).ranges;\n        var result;\n        if (!ranges.length)\n            return cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n        var reg = selection._eventRegistry;\n        selection._eventRegistry = {};\n        var tmpSel = new Selection(session);\n        this.inVirtualSelectionMode = true;\n        for (var i = ranges.length; i--;) {\n            if ($byLines) {\n                while (i > 0 && ranges[i].start.row == ranges[i - 1].end.row)\n                    i--;\n            }\n            tmpSel.fromOrientedRange(ranges[i]);\n            tmpSel.index = i;\n            this.selection = session.selection = tmpSel;\n            var cmdResult = cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n            if (!result && cmdResult !== undefined)\n                result = cmdResult;\n            tmpSel.toOrientedRange(ranges[i]);\n        }\n        tmpSel.detach();\n        this.selection = session.selection = selection;\n        this.inVirtualSelectionMode = false;\n        selection._eventRegistry = reg;\n        selection.mergeOverlappingRanges();\n        if (selection.ranges[0])\n            selection.fromOrientedRange(selection.ranges[0]);\n        var anim = this.renderer.$scrollAnimation;\n        this.onCursorChange();\n        this.onSelectionChange();\n        if (anim && anim.from == anim.to)\n            this.renderer.animateScrolling(anim.from);\n        return result;\n    };\n    this.exitMultiSelectMode = function () {\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode)\n            return;\n        this.multiSelect.toSingleRange();\n    };\n    this.getSelectedText = function () {\n        var text = \"\";\n        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n            var ranges = this.multiSelect.rangeList.ranges;\n            var buf = [];\n            for (var i = 0; i < ranges.length; i++) {\n                buf.push(this.session.getTextRange(ranges[i]));\n            }\n            var nl = this.session.getDocument().getNewLineCharacter();\n            text = buf.join(nl);\n            if (text.length == (buf.length - 1) * nl.length)\n                text = \"\";\n        }\n        else if (!this.selection.isEmpty()) {\n            text = this.session.getTextRange(this.getSelectionRange());\n        }\n        return text;\n    };\n    this.$checkMultiselectChange = function (e, anchor) {\n        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n            var range = this.multiSelect.ranges[0];\n            if (this.multiSelect.isEmpty() && anchor == this.multiSelect.anchor)\n                return;\n            var pos = anchor == this.multiSelect.anchor\n                ? range.cursor == range.start ? range.end : range.start\n                : range.cursor;\n            if (pos.row != anchor.row\n                || this.session.$clipPositionToDocument(pos.row, pos.column).column != anchor.column)\n                this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange());\n            else\n                this.multiSelect.mergeOverlappingRanges();\n        }\n    };\n    this.findAll = function (needle, options, additive) {\n        options = options || {};\n        options.needle = needle || options.needle;\n        if (options.needle == undefined) {\n            var range = this.selection.isEmpty()\n                ? this.selection.getWordRange()\n                : this.selection.getRange();\n            options.needle = this.session.getTextRange(range);\n        }\n        this.$search.set(options);\n        var ranges = this.$search.findAll(this.session);\n        if (!ranges.length)\n            return 0;\n        var selection = this.multiSelect;\n        if (!additive)\n            selection.toSingleRange(ranges[0]);\n        for (var i = ranges.length; i--;)\n            selection.addRange(ranges[i], true);\n        if (range && selection.rangeList.rangeAtPoint(range.start))\n            selection.addRange(range, true);\n        return ranges.length;\n    };\n    this.selectMoreLines = function (dir, skip) {\n        var range = this.selection.toOrientedRange();\n        var isBackwards = range.cursor == range.end;\n        var screenLead = this.session.documentToScreenPosition(range.cursor);\n        if (this.selection.$desiredColumn)\n            screenLead.column = this.selection.$desiredColumn;\n        var lead = this.session.screenToDocumentPosition(screenLead.row + dir, screenLead.column);\n        if (!range.isEmpty()) {\n            var screenAnchor = this.session.documentToScreenPosition(isBackwards ? range.end : range.start);\n            var anchor = this.session.screenToDocumentPosition(screenAnchor.row + dir, screenAnchor.column);\n        }\n        else {\n            var anchor = lead;\n        }\n        if (isBackwards) {\n            var newRange = Range.fromPoints(lead, anchor);\n            newRange.cursor = newRange.start;\n        }\n        else {\n            var newRange = Range.fromPoints(anchor, lead);\n            newRange.cursor = newRange.end;\n        }\n        newRange.desiredColumn = screenLead.column;\n        if (!this.selection.inMultiSelectMode) {\n            this.selection.addRange(range);\n        }\n        else {\n            if (skip)\n                var toRemove = range.cursor;\n        }\n        this.selection.addRange(newRange);\n        if (toRemove)\n            this.selection.substractPoint(toRemove);\n    };\n    this.transposeSelections = function (dir) {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var all = sel.ranges;\n        for (var i = all.length; i--;) {\n            var range = all[i];\n            if (range.isEmpty()) {\n                var tmp = session.getWordRange(range.start.row, range.start.column);\n                range.start.row = tmp.start.row;\n                range.start.column = tmp.start.column;\n                range.end.row = tmp.end.row;\n                range.end.column = tmp.end.column;\n            }\n        }\n        sel.mergeOverlappingRanges();\n        var words = [];\n        for (var i = all.length; i--;) {\n            var range = all[i];\n            words.unshift(session.getTextRange(range));\n        }\n        if (dir < 0)\n            words.unshift(words.pop());\n        else\n            words.push(words.shift());\n        for (var i = all.length; i--;) {\n            var range = all[i];\n            var tmp = range.clone();\n            session.replace(range, words[i]);\n            range.start.row = tmp.start.row;\n            range.start.column = tmp.start.column;\n        }\n        sel.fromOrientedRange(sel.ranges[0]);\n    };\n    this.selectMore = function (dir, skip, stopAtFirst) {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var range = sel.toOrientedRange();\n        if (range.isEmpty()) {\n            range = session.getWordRange(range.start.row, range.start.column);\n            range.cursor = dir == -1 ? range.start : range.end;\n            this.multiSelect.addRange(range);\n            if (stopAtFirst)\n                return;\n        }\n        var needle = session.getTextRange(range);\n        var newRange = find(session, needle, dir);\n        if (newRange) {\n            newRange.cursor = dir == -1 ? newRange.start : newRange.end;\n            this.session.unfold(newRange);\n            this.multiSelect.addRange(newRange);\n            this.renderer.scrollCursorIntoView(null, 0.5);\n        }\n        if (skip)\n            this.multiSelect.substractPoint(range.cursor);\n    };\n    this.alignCursors = function () {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var ranges = sel.ranges;\n        var row = -1;\n        var sameRowRanges = ranges.filter(function (r) {\n            if (r.cursor.row == row)\n                return true;\n            row = r.cursor.row;\n        });\n        if (!ranges.length || sameRowRanges.length == ranges.length - 1) {\n            var range = this.selection.getRange();\n            var fr = range.start.row, lr = range.end.row;\n            var guessRange = fr == lr;\n            if (guessRange) {\n                var max = this.session.getLength();\n                var line;\n                do {\n                    line = this.session.getLine(lr);\n                } while (/[=:]/.test(line) && ++lr < max);\n                do {\n                    line = this.session.getLine(fr);\n                } while (/[=:]/.test(line) && --fr > 0);\n                if (fr < 0)\n                    fr = 0;\n                if (lr >= max)\n                    lr = max - 1;\n            }\n            var lines = this.session.removeFullLines(fr, lr);\n            lines = this.$reAlignText(lines, guessRange);\n            this.session.insert({ row: fr, column: 0 }, lines.join(\"\\n\") + \"\\n\");\n            if (!guessRange) {\n                range.start.column = 0;\n                range.end.column = lines[lines.length - 1].length;\n            }\n            this.selection.setRange(range);\n        }\n        else {\n            sameRowRanges.forEach(function (r) {\n                sel.substractPoint(r.cursor);\n            });\n            var maxCol = 0;\n            var minSpace = Infinity;\n            var spaceOffsets = ranges.map(function (r) {\n                var p = r.cursor;\n                var line = session.getLine(p.row);\n                var spaceOffset = line.substr(p.column).search(/\\S/g);\n                if (spaceOffset == -1)\n                    spaceOffset = 0;\n                if (p.column > maxCol)\n                    maxCol = p.column;\n                if (spaceOffset < minSpace)\n                    minSpace = spaceOffset;\n                return spaceOffset;\n            });\n            ranges.forEach(function (r, i) {\n                var p = r.cursor;\n                var l = maxCol - p.column;\n                var d = spaceOffsets[i] - minSpace;\n                if (l > d)\n                    session.insert(p, lang.stringRepeat(\" \", l - d));\n                else\n                    session.remove(new Range(p.row, p.column, p.row, p.column - l + d));\n                r.start.column = r.end.column = maxCol;\n                r.start.row = r.end.row = p.row;\n                r.cursor = r.end;\n            });\n            sel.fromOrientedRange(ranges[0]);\n            this.renderer.updateCursor();\n            this.renderer.updateBackMarkers();\n        }\n    };\n    this.$reAlignText = function (lines, forceLeft) {\n        var isLeftAligned = true, isRightAligned = true;\n        var startW, textW, endW;\n        return lines.map(function (line) {\n            var m = line.match(/(\\s*)(.*?)(\\s*)([=:].*)/);\n            if (!m)\n                return [line];\n            if (startW == null) {\n                startW = m[1].length;\n                textW = m[2].length;\n                endW = m[3].length;\n                return m;\n            }\n            if (startW + textW + endW != m[1].length + m[2].length + m[3].length)\n                isRightAligned = false;\n            if (startW != m[1].length)\n                isLeftAligned = false;\n            if (startW > m[1].length)\n                startW = m[1].length;\n            if (textW < m[2].length)\n                textW = m[2].length;\n            if (endW > m[3].length)\n                endW = m[3].length;\n            return m;\n        }).map(forceLeft ? alignLeft :\n            isLeftAligned ? isRightAligned ? alignRight : alignLeft : unAlign);\n        function spaces(n) {\n            return lang.stringRepeat(\" \", n);\n        }\n        function alignLeft(m) {\n            return !m[2] ? m[0] : spaces(startW) + m[2]\n                + spaces(textW - m[2].length + endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n        function alignRight(m) {\n            return !m[2] ? m[0] : spaces(startW + textW - m[2].length) + m[2]\n                + spaces(endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n        function unAlign(m) {\n            return !m[2] ? m[0] : spaces(startW) + m[2]\n                + spaces(endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n    };\n}).call(Editor.prototype);\nfunction isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n}\nexports.onSessionChange = function (e) {\n    var session = e.session;\n    if (session && !session.multiSelect) {\n        session.$selectionMarkers = [];\n        session.selection.$initRangeList();\n        session.multiSelect = session.selection;\n    }\n    this.multiSelect = session && session.multiSelect;\n    var oldSession = e.oldSession;\n    if (oldSession) {\n        oldSession.multiSelect.off(\"addRange\", this.$onAddRange);\n        oldSession.multiSelect.off(\"removeRange\", this.$onRemoveRange);\n        oldSession.multiSelect.off(\"multiSelect\", this.$onMultiSelect);\n        oldSession.multiSelect.off(\"singleSelect\", this.$onSingleSelect);\n        oldSession.multiSelect.lead.off(\"change\", this.$checkMultiselectChange);\n        oldSession.multiSelect.anchor.off(\"change\", this.$checkMultiselectChange);\n    }\n    if (session) {\n        session.multiSelect.on(\"addRange\", this.$onAddRange);\n        session.multiSelect.on(\"removeRange\", this.$onRemoveRange);\n        session.multiSelect.on(\"multiSelect\", this.$onMultiSelect);\n        session.multiSelect.on(\"singleSelect\", this.$onSingleSelect);\n        session.multiSelect.lead.on(\"change\", this.$checkMultiselectChange);\n        session.multiSelect.anchor.on(\"change\", this.$checkMultiselectChange);\n    }\n    if (session && this.inMultiSelectMode != session.selection.inMultiSelectMode) {\n        if (session.selection.inMultiSelectMode)\n            this.$onMultiSelect();\n        else\n            this.$onSingleSelect();\n    }\n};\nfunction MultiSelect(editor) {\n    if (editor.$multiselectOnSessionChange)\n        return;\n    editor.$onAddRange = editor.$onAddRange.bind(editor);\n    editor.$onRemoveRange = editor.$onRemoveRange.bind(editor);\n    editor.$onMultiSelect = editor.$onMultiSelect.bind(editor);\n    editor.$onSingleSelect = editor.$onSingleSelect.bind(editor);\n    editor.$multiselectOnSessionChange = exports.onSessionChange.bind(editor);\n    editor.$checkMultiselectChange = editor.$checkMultiselectChange.bind(editor);\n    editor.$multiselectOnSessionChange(editor);\n    editor.on(\"changeSession\", editor.$multiselectOnSessionChange);\n    editor.on(\"mousedown\", onMouseDown);\n    editor.commands.addCommands(commands.defaultCommands);\n    addAltCursorListeners(editor);\n}\nfunction addAltCursorListeners(editor) {\n    if (!editor.textInput)\n        return;\n    var el = editor.textInput.getElement();\n    var altCursor = false;\n    event.addListener(el, \"keydown\", function (e) {\n        var altDown = e.keyCode == 18 && !(e.ctrlKey || e.shiftKey || e.metaKey);\n        if (editor.$blockSelectEnabled && altDown) {\n            if (!altCursor) {\n                editor.renderer.setMouseCursor(\"crosshair\");\n                altCursor = true;\n            }\n        }\n        else if (altCursor) {\n            reset();\n        }\n    }, editor);\n    event.addListener(el, \"keyup\", reset, editor);\n    event.addListener(el, \"blur\", reset, editor);\n    function reset(e) {\n        if (altCursor) {\n            editor.renderer.setMouseCursor(\"\");\n            altCursor = false;\n        }\n    }\n}\nexports.MultiSelect = MultiSelect;\nrequire(\"./config\").defineOptions(Editor.prototype, \"editor\", {\n    enableMultiselect: {\n        set: function (val) {\n            MultiSelect(this);\n            if (val) {\n                this.on(\"changeSession\", this.$multiselectOnSessionChange);\n                this.on(\"mousedown\", onMouseDown);\n            }\n            else {\n                this.off(\"changeSession\", this.$multiselectOnSessionChange);\n                this.off(\"mousedown\", onMouseDown);\n            }\n        },\n        value: true\n    },\n    enableBlockSelect: {\n        set: function (val) {\n            this.$blockSelectEnabled = val;\n        },\n        value: true\n    }\n});\n\n});\n\nace.define(\"ace/mode/folding/fold_mode\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"../../range\").Range;\nvar FoldMode = exports.FoldMode = function () { };\n(function () {\n    this.foldingStartMarker = null;\n    this.foldingStopMarker = null;\n    this.getFoldWidget = function (session, foldStyle, row) {\n        var line = session.getLine(row);\n        if (this.foldingStartMarker.test(line))\n            return \"start\";\n        if (foldStyle == \"markbeginend\"\n            && this.foldingStopMarker\n            && this.foldingStopMarker.test(line))\n            return \"end\";\n        return \"\";\n    };\n    this.getFoldWidgetRange = function (session, foldStyle, row) {\n        return null;\n    };\n    this.indentationBlock = function (session, row, column) {\n        var re = /\\S/;\n        var line = session.getLine(row);\n        var startLevel = line.search(re);\n        if (startLevel == -1)\n            return;\n        var startColumn = column || line.length;\n        var maxRow = session.getLength();\n        var startRow = row;\n        var endRow = row;\n        while (++row < maxRow) {\n            var level = session.getLine(row).search(re);\n            if (level == -1)\n                continue;\n            if (level <= startLevel) {\n                var token = session.getTokenAt(row, 0);\n                if (!token || token.type !== \"string\")\n                    break;\n            }\n            endRow = row;\n        }\n        if (endRow > startRow) {\n            var endColumn = session.getLine(endRow).length;\n            return new Range(startRow, startColumn, endRow, endColumn);\n        }\n    };\n    this.openingBracketBlock = function (session, bracket, row, column, typeRe) {\n        var start = { row: row, column: column + 1 };\n        var end = session.$findClosingBracket(bracket, start, typeRe);\n        if (!end)\n            return;\n        var fw = session.foldWidgets[end.row];\n        if (fw == null)\n            fw = session.getFoldWidget(end.row);\n        if (fw == \"start\" && end.row > start.row) {\n            end.row--;\n            end.column = session.getLine(end.row).length;\n        }\n        return Range.fromPoints(start, end);\n    };\n    this.closingBracketBlock = function (session, bracket, row, column, typeRe) {\n        var end = { row: row, column: column };\n        var start = session.$findOpeningBracket(bracket, end);\n        if (!start)\n            return;\n        start.column++;\n        end.column--;\n        return Range.fromPoints(start, end);\n    };\n}).call(FoldMode.prototype);\n\n});\n\nace.define(\"ace/line_widgets\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"./lib/dom\");\nfunction LineWidgets(session) {\n    this.session = session;\n    this.session.widgetManager = this;\n    this.session.getRowLength = this.getRowLength;\n    this.session.$getWidgetScreenLength = this.$getWidgetScreenLength;\n    this.updateOnChange = this.updateOnChange.bind(this);\n    this.renderWidgets = this.renderWidgets.bind(this);\n    this.measureWidgets = this.measureWidgets.bind(this);\n    this.session._changedWidgets = [];\n    this.$onChangeEditor = this.$onChangeEditor.bind(this);\n    this.session.on(\"change\", this.updateOnChange);\n    this.session.on(\"changeFold\", this.updateOnFold);\n    this.session.on(\"changeEditor\", this.$onChangeEditor);\n}\n(function () {\n    this.getRowLength = function (row) {\n        var h;\n        if (this.lineWidgets)\n            h = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;\n        else\n            h = 0;\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1 + h;\n        }\n        else {\n            return this.$wrapData[row].length + 1 + h;\n        }\n    };\n    this.$getWidgetScreenLength = function () {\n        var screenRows = 0;\n        this.lineWidgets.forEach(function (w) {\n            if (w && w.rowCount && !w.hidden)\n                screenRows += w.rowCount;\n        });\n        return screenRows;\n    };\n    this.$onChangeEditor = function (e) {\n        this.attach(e.editor);\n    };\n    this.attach = function (editor) {\n        if (editor && editor.widgetManager && editor.widgetManager != this)\n            editor.widgetManager.detach();\n        if (this.editor == editor)\n            return;\n        this.detach();\n        this.editor = editor;\n        if (editor) {\n            editor.widgetManager = this;\n            editor.renderer.on(\"beforeRender\", this.measureWidgets);\n            editor.renderer.on(\"afterRender\", this.renderWidgets);\n        }\n    };\n    this.detach = function (e) {\n        var editor = this.editor;\n        if (!editor)\n            return;\n        this.editor = null;\n        editor.widgetManager = null;\n        editor.renderer.off(\"beforeRender\", this.measureWidgets);\n        editor.renderer.off(\"afterRender\", this.renderWidgets);\n        var lineWidgets = this.session.lineWidgets;\n        lineWidgets && lineWidgets.forEach(function (w) {\n            if (w && w.el && w.el.parentNode) {\n                w._inDocument = false;\n                w.el.parentNode.removeChild(w.el);\n            }\n        });\n    };\n    this.updateOnFold = function (e, session) {\n        var lineWidgets = session.lineWidgets;\n        if (!lineWidgets || !e.action)\n            return;\n        var fold = e.data;\n        var start = fold.start.row;\n        var end = fold.end.row;\n        var hide = e.action == \"add\";\n        for (var i = start + 1; i < end; i++) {\n            if (lineWidgets[i])\n                lineWidgets[i].hidden = hide;\n        }\n        if (lineWidgets[end]) {\n            if (hide) {\n                if (!lineWidgets[start])\n                    lineWidgets[start] = lineWidgets[end];\n                else\n                    lineWidgets[end].hidden = hide;\n            }\n            else {\n                if (lineWidgets[start] == lineWidgets[end])\n                    lineWidgets[start] = undefined;\n                lineWidgets[end].hidden = hide;\n            }\n        }\n    };\n    this.updateOnChange = function (delta) {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets)\n            return;\n        var startRow = delta.start.row;\n        var len = delta.end.row - startRow;\n        if (len === 0) {\n        }\n        else if (delta.action == \"remove\") {\n            var removed = lineWidgets.splice(startRow + 1, len);\n            if (!lineWidgets[startRow] && removed[removed.length - 1]) {\n                lineWidgets[startRow] = removed.pop();\n            }\n            removed.forEach(function (w) {\n                w && this.removeLineWidget(w);\n            }, this);\n            this.$updateRows();\n        }\n        else {\n            var args = new Array(len);\n            if (lineWidgets[startRow] && lineWidgets[startRow].column != null) {\n                if (delta.start.column > lineWidgets[startRow].column)\n                    startRow++;\n            }\n            args.unshift(startRow, 0);\n            lineWidgets.splice.apply(lineWidgets, args);\n            this.$updateRows();\n        }\n    };\n    this.$updateRows = function () {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets)\n            return;\n        var noWidgets = true;\n        lineWidgets.forEach(function (w, i) {\n            if (w) {\n                noWidgets = false;\n                w.row = i;\n                while (w.$oldWidget) {\n                    w.$oldWidget.row = i;\n                    w = w.$oldWidget;\n                }\n            }\n        });\n        if (noWidgets)\n            this.session.lineWidgets = null;\n    };\n    this.$registerLineWidget = function (w) {\n        if (!this.session.lineWidgets)\n            this.session.lineWidgets = new Array(this.session.getLength());\n        var old = this.session.lineWidgets[w.row];\n        if (old) {\n            w.$oldWidget = old;\n            if (old.el && old.el.parentNode) {\n                old.el.parentNode.removeChild(old.el);\n                old._inDocument = false;\n            }\n        }\n        this.session.lineWidgets[w.row] = w;\n        return w;\n    };\n    this.addLineWidget = function (w) {\n        this.$registerLineWidget(w);\n        w.session = this.session;\n        if (!this.editor)\n            return w;\n        var renderer = this.editor.renderer;\n        if (w.html && !w.el) {\n            w.el = dom.createElement(\"div\");\n            w.el.innerHTML = w.html;\n        }\n        if (w.el) {\n            dom.addCssClass(w.el, \"ace_lineWidgetContainer\");\n            w.el.style.position = \"absolute\";\n            w.el.style.zIndex = 5;\n            renderer.container.appendChild(w.el);\n            w._inDocument = true;\n            if (!w.coverGutter) {\n                w.el.style.zIndex = 3;\n            }\n            if (w.pixelHeight == null) {\n                w.pixelHeight = w.el.offsetHeight;\n            }\n        }\n        if (w.rowCount == null) {\n            w.rowCount = w.pixelHeight / renderer.layerConfig.lineHeight;\n        }\n        var fold = this.session.getFoldAt(w.row, 0);\n        w.$fold = fold;\n        if (fold) {\n            var lineWidgets = this.session.lineWidgets;\n            if (w.row == fold.end.row && !lineWidgets[fold.start.row])\n                lineWidgets[fold.start.row] = w;\n            else\n                w.hidden = true;\n        }\n        this.session._emit(\"changeFold\", { data: { start: { row: w.row } } });\n        this.$updateRows();\n        this.renderWidgets(null, renderer);\n        this.onWidgetChanged(w);\n        return w;\n    };\n    this.removeLineWidget = function (w) {\n        w._inDocument = false;\n        w.session = null;\n        if (w.el && w.el.parentNode)\n            w.el.parentNode.removeChild(w.el);\n        if (w.editor && w.editor.destroy)\n            try {\n                w.editor.destroy();\n            }\n            catch (e) { }\n        if (this.session.lineWidgets) {\n            var w1 = this.session.lineWidgets[w.row];\n            if (w1 == w) {\n                this.session.lineWidgets[w.row] = w.$oldWidget;\n                if (w.$oldWidget)\n                    this.onWidgetChanged(w.$oldWidget);\n            }\n            else {\n                while (w1) {\n                    if (w1.$oldWidget == w) {\n                        w1.$oldWidget = w.$oldWidget;\n                        break;\n                    }\n                    w1 = w1.$oldWidget;\n                }\n            }\n        }\n        this.session._emit(\"changeFold\", { data: { start: { row: w.row } } });\n        this.$updateRows();\n    };\n    this.getWidgetsAtRow = function (row) {\n        var lineWidgets = this.session.lineWidgets;\n        var w = lineWidgets && lineWidgets[row];\n        var list = [];\n        while (w) {\n            list.push(w);\n            w = w.$oldWidget;\n        }\n        return list;\n    };\n    this.onWidgetChanged = function (w) {\n        this.session._changedWidgets.push(w);\n        this.editor && this.editor.renderer.updateFull();\n    };\n    this.measureWidgets = function (e, renderer) {\n        var changedWidgets = this.session._changedWidgets;\n        var config = renderer.layerConfig;\n        if (!changedWidgets || !changedWidgets.length)\n            return;\n        var min = Infinity;\n        for (var i = 0; i < changedWidgets.length; i++) {\n            var w = changedWidgets[i];\n            if (!w || !w.el)\n                continue;\n            if (w.session != this.session)\n                continue;\n            if (!w._inDocument) {\n                if (this.session.lineWidgets[w.row] != w)\n                    continue;\n                w._inDocument = true;\n                renderer.container.appendChild(w.el);\n            }\n            w.h = w.el.offsetHeight;\n            if (!w.fixedWidth) {\n                w.w = w.el.offsetWidth;\n                w.screenWidth = Math.ceil(w.w / config.characterWidth);\n            }\n            var rowCount = w.h / config.lineHeight;\n            if (w.coverLine) {\n                rowCount -= this.session.getRowLineCount(w.row);\n                if (rowCount < 0)\n                    rowCount = 0;\n            }\n            if (w.rowCount != rowCount) {\n                w.rowCount = rowCount;\n                if (w.row < min)\n                    min = w.row;\n            }\n        }\n        if (min != Infinity) {\n            this.session._emit(\"changeFold\", { data: { start: { row: min } } });\n            this.session.lineWidgetWidth = null;\n        }\n        this.session._changedWidgets = [];\n    };\n    this.renderWidgets = function (e, renderer) {\n        var config = renderer.layerConfig;\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets)\n            return;\n        var first = Math.min(this.firstRow, config.firstRow);\n        var last = Math.max(this.lastRow, config.lastRow, lineWidgets.length);\n        while (first > 0 && !lineWidgets[first])\n            first--;\n        this.firstRow = config.firstRow;\n        this.lastRow = config.lastRow;\n        renderer.$cursorLayer.config = config;\n        for (var i = first; i <= last; i++) {\n            var w = lineWidgets[i];\n            if (!w || !w.el)\n                continue;\n            if (w.hidden) {\n                w.el.style.top = -100 - (w.pixelHeight || 0) + \"px\";\n                continue;\n            }\n            if (!w._inDocument) {\n                w._inDocument = true;\n                renderer.container.appendChild(w.el);\n            }\n            var top = renderer.$cursorLayer.getPixelPosition({ row: i, column: 0 }, true).top;\n            if (!w.coverLine)\n                top += config.lineHeight * this.session.getRowLineCount(w.row);\n            w.el.style.top = top - config.offset + \"px\";\n            var left = w.coverGutter ? 0 : renderer.gutterWidth;\n            if (!w.fixedWidth)\n                left -= renderer.scrollLeft;\n            w.el.style.left = left + \"px\";\n            if (w.fullWidth && w.screenWidth) {\n                w.el.style.minWidth = config.width + 2 * config.padding + \"px\";\n            }\n            if (w.fixedWidth) {\n                w.el.style.right = renderer.scrollBar.getWidth() + \"px\";\n            }\n            else {\n                w.el.style.right = \"\";\n            }\n        }\n    };\n}).call(LineWidgets.prototype);\nexports.LineWidgets = LineWidgets;\n\n});\n\nace.define(\"ace/ext/error_marker\",[\"require\",\"exports\",\"module\",\"ace/line_widgets\",\"ace/lib/dom\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar LineWidgets = require(\"../line_widgets\").LineWidgets;\nvar dom = require(\"../lib/dom\");\nvar Range = require(\"../range\").Range;\nfunction binarySearch(array, needle, comparator) {\n    var first = 0;\n    var last = array.length - 1;\n    while (first <= last) {\n        var mid = (first + last) >> 1;\n        var c = comparator(needle, array[mid]);\n        if (c > 0)\n            first = mid + 1;\n        else if (c < 0)\n            last = mid - 1;\n        else\n            return mid;\n    }\n    return -(first + 1);\n}\nfunction findAnnotations(session, row, dir) {\n    var annotations = session.getAnnotations().sort(Range.comparePoints);\n    if (!annotations.length)\n        return;\n    var i = binarySearch(annotations, { row: row, column: -1 }, Range.comparePoints);\n    if (i < 0)\n        i = -i - 1;\n    if (i >= annotations.length)\n        i = dir > 0 ? 0 : annotations.length - 1;\n    else if (i === 0 && dir < 0)\n        i = annotations.length - 1;\n    var annotation = annotations[i];\n    if (!annotation || !dir)\n        return;\n    if (annotation.row === row) {\n        do {\n            annotation = annotations[i += dir];\n        } while (annotation && annotation.row === row);\n        if (!annotation)\n            return annotations.slice();\n    }\n    var matched = [];\n    row = annotation.row;\n    do {\n        matched[dir < 0 ? \"unshift\" : \"push\"](annotation);\n        annotation = annotations[i += dir];\n    } while (annotation && annotation.row == row);\n    return matched.length && matched;\n}\nexports.showErrorMarker = function (editor, dir) {\n    var session = editor.session;\n    if (!session.widgetManager) {\n        session.widgetManager = new LineWidgets(session);\n        session.widgetManager.attach(editor);\n    }\n    var pos = editor.getCursorPosition();\n    var row = pos.row;\n    var oldWidget = session.widgetManager.getWidgetsAtRow(row).filter(function (w) {\n        return w.type == \"errorMarker\";\n    })[0];\n    if (oldWidget) {\n        oldWidget.destroy();\n    }\n    else {\n        row -= dir;\n    }\n    var annotations = findAnnotations(session, row, dir);\n    var gutterAnno;\n    if (annotations) {\n        var annotation = annotations[0];\n        pos.column = (annotation.pos && typeof annotation.column != \"number\"\n            ? annotation.pos.sc\n            : annotation.column) || 0;\n        pos.row = annotation.row;\n        gutterAnno = editor.renderer.$gutterLayer.$annotations[pos.row];\n    }\n    else if (oldWidget) {\n        return;\n    }\n    else {\n        gutterAnno = {\n            text: [\"Looks good!\"],\n            className: \"ace_ok\"\n        };\n    }\n    editor.session.unfold(pos.row);\n    editor.selection.moveToPosition(pos);\n    var w = {\n        row: pos.row,\n        fixedWidth: true,\n        coverGutter: true,\n        el: dom.createElement(\"div\"),\n        type: \"errorMarker\"\n    };\n    var el = w.el.appendChild(dom.createElement(\"div\"));\n    var arrow = w.el.appendChild(dom.createElement(\"div\"));\n    arrow.className = \"error_widget_arrow \" + gutterAnno.className;\n    var left = editor.renderer.$cursorLayer\n        .getPixelPosition(pos).left;\n    arrow.style.left = left + editor.renderer.gutterWidth - 5 + \"px\";\n    w.el.className = \"error_widget_wrapper\";\n    el.className = \"error_widget \" + gutterAnno.className;\n    el.innerHTML = gutterAnno.text.join(\"<br>\");\n    el.appendChild(dom.createElement(\"div\"));\n    var kb = function (_, hashId, keyString) {\n        if (hashId === 0 && (keyString === \"esc\" || keyString === \"return\")) {\n            w.destroy();\n            return { command: \"null\" };\n        }\n    };\n    w.destroy = function () {\n        if (editor.$mouseHandler.isMousePressed)\n            return;\n        editor.keyBinding.removeKeyboardHandler(kb);\n        session.widgetManager.removeLineWidget(w);\n        editor.off(\"changeSelection\", w.destroy);\n        editor.off(\"changeSession\", w.destroy);\n        editor.off(\"mouseup\", w.destroy);\n        editor.off(\"change\", w.destroy);\n    };\n    editor.keyBinding.addKeyboardHandler(kb);\n    editor.on(\"changeSelection\", w.destroy);\n    editor.on(\"changeSession\", w.destroy);\n    editor.on(\"mouseup\", w.destroy);\n    editor.on(\"change\", w.destroy);\n    editor.session.widgetManager.addLineWidget(w);\n    w.el.onmousedown = editor.focus.bind(editor);\n    editor.renderer.scrollCursorIntoView(null, 0.5, { bottom: w.el.offsetHeight });\n};\ndom.importCssString(\"\\n    .error_widget_wrapper {\\n        background: inherit;\\n        color: inherit;\\n        border:none\\n    }\\n    .error_widget {\\n        border-top: solid 2px;\\n        border-bottom: solid 2px;\\n        margin: 5px 0;\\n        padding: 10px 40px;\\n        white-space: pre-wrap;\\n    }\\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\\n        border-color: #ff5a5a\\n    }\\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\\n        border-color: #F1D817\\n    }\\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\\n        border-color: #5a5a5a\\n    }\\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\\n        border-color: #5aaa5a\\n    }\\n    .error_widget_arrow {\\n        position: absolute;\\n        border: solid 5px;\\n        border-top-color: transparent!important;\\n        border-right-color: transparent!important;\\n        border-left-color: transparent!important;\\n        top: -5px;\\n    }\\n\", \"error_marker.css\", false);\n\n});\n\nace.define(\"ace/ace\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/range\",\"ace/editor\",\"ace/edit_session\",\"ace/undomanager\",\"ace/virtual_renderer\",\"ace/worker/worker_client\",\"ace/keyboard/hash_handler\",\"ace/placeholder\",\"ace/multi_select\",\"ace/mode/folding/fold_mode\",\"ace/theme/textmate\",\"ace/ext/error_marker\",\"ace/config\",\"ace/loader_build\"], function(require, exports, module){/**\n * The main class required to set up an Ace instance in the browser.\n *\n * @class Ace\n **/\n\"use strict\";\nrequire(\"./loader_build\")(exports)\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\nvar Range = require(\"./range\").Range;\nvar Editor = require(\"./editor\").Editor;\nvar EditSession = require(\"./edit_session\").EditSession;\nvar UndoManager = require(\"./undomanager\").UndoManager;\nvar Renderer = require(\"./virtual_renderer\").VirtualRenderer;\nrequire(\"./worker/worker_client\");\nrequire(\"./keyboard/hash_handler\");\nrequire(\"./placeholder\");\nrequire(\"./multi_select\");\nrequire(\"./mode/folding/fold_mode\");\nrequire(\"./theme/textmate\");\nrequire(\"./ext/error_marker\");\nexports.config = require(\"./config\");\nexports.edit = function (el, options) {\n    if (typeof el == \"string\") {\n        var _id = el;\n        el = document.getElementById(_id);\n        if (!el)\n            throw new Error(\"ace.edit can't find div #\" + _id);\n    }\n    if (el && el.env && el.env.editor instanceof Editor)\n        return el.env.editor;\n    var value = \"\";\n    if (el && /input|textarea/i.test(el.tagName)) {\n        var oldNode = el;\n        value = oldNode.value;\n        el = dom.createElement(\"pre\");\n        oldNode.parentNode.replaceChild(el, oldNode);\n    }\n    else if (el) {\n        value = el.textContent;\n        el.innerHTML = \"\";\n    }\n    var doc = exports.createEditSession(value);\n    var editor = new Editor(new Renderer(el), doc, options);\n    var env = {\n        document: doc,\n        editor: editor,\n        onResize: editor.resize.bind(editor, null)\n    };\n    if (oldNode)\n        env.textarea = oldNode;\n    event.addListener(window, \"resize\", env.onResize);\n    editor.on(\"destroy\", function () {\n        event.removeListener(window, \"resize\", env.onResize);\n        env.editor.container.env = null; // prevent memory leak on old ie\n    });\n    editor.container.env = editor.env = env;\n    return editor;\n};\nexports.createEditSession = function (text, mode) {\n    var doc = new EditSession(text, mode);\n    doc.setUndoManager(new UndoManager());\n    return doc;\n};\nexports.Range = Range;\nexports.Editor = Editor;\nexports.EditSession = EditSession;\nexports.UndoManager = UndoManager;\nexports.VirtualRenderer = Renderer;\nexports.version = exports.config.version;\n\n});            (function() {\n                ace.require([\"ace/ace\"], function(a) {\n                    if (a) {\n                        a.config.init(true);\n                        a.define = ace.define;\n                    }\n                    if (!window.ace)\n                        window.ace = a;\n                    for (var key in a) if (a.hasOwnProperty(key))\n                        window.ace[key] = a[key];\n                    window.ace[\"default\"] = window.ace;\n                    if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                        module.exports = window.ace;\n                    }\n                });\n            })();\n        ","ace.define(\"ace/split\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/editor\",\"ace/virtual_renderer\",\"ace/edit_session\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Editor = require(\"./editor\").Editor;\nvar Renderer = require(\"./virtual_renderer\").VirtualRenderer;\nvar EditSession = require(\"./edit_session\").EditSession;\nvar Split = function (container, theme, splits) {\n    this.BELOW = 1;\n    this.BESIDE = 0;\n    this.$container = container;\n    this.$theme = theme;\n    this.$splits = 0;\n    this.$editorCSS = \"\";\n    this.$editors = [];\n    this.$orientation = this.BESIDE;\n    this.setSplits(splits || 1);\n    this.$cEditor = this.$editors[0];\n    this.on(\"focus\", function (editor) {\n        this.$cEditor = editor;\n    }.bind(this));\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.$createEditor = function () {\n        var el = document.createElement(\"div\");\n        el.className = this.$editorCSS;\n        el.style.cssText = \"position: absolute; top:0px; bottom:0px\";\n        this.$container.appendChild(el);\n        var editor = new Editor(new Renderer(el, this.$theme));\n        editor.on(\"focus\", function () {\n            this._emit(\"focus\", editor);\n        }.bind(this));\n        this.$editors.push(editor);\n        editor.setFontSize(this.$fontSize);\n        return editor;\n    };\n    this.setSplits = function (splits) {\n        var editor;\n        if (splits < 1) {\n            throw \"The number of splits have to be > 0!\";\n        }\n        if (splits == this.$splits) {\n            return;\n        }\n        else if (splits > this.$splits) {\n            while (this.$splits < this.$editors.length && this.$splits < splits) {\n                editor = this.$editors[this.$splits];\n                this.$container.appendChild(editor.container);\n                editor.setFontSize(this.$fontSize);\n                this.$splits++;\n            }\n            while (this.$splits < splits) {\n                this.$createEditor();\n                this.$splits++;\n            }\n        }\n        else {\n            while (this.$splits > splits) {\n                editor = this.$editors[this.$splits - 1];\n                this.$container.removeChild(editor.container);\n                this.$splits--;\n            }\n        }\n        this.resize();\n    };\n    this.getSplits = function () {\n        return this.$splits;\n    };\n    this.getEditor = function (idx) {\n        return this.$editors[idx];\n    };\n    this.getCurrentEditor = function () {\n        return this.$cEditor;\n    };\n    this.focus = function () {\n        this.$cEditor.focus();\n    };\n    this.blur = function () {\n        this.$cEditor.blur();\n    };\n    this.setTheme = function (theme) {\n        this.$editors.forEach(function (editor) {\n            editor.setTheme(theme);\n        });\n    };\n    this.setKeyboardHandler = function (keybinding) {\n        this.$editors.forEach(function (editor) {\n            editor.setKeyboardHandler(keybinding);\n        });\n    };\n    this.forEach = function (callback, scope) {\n        this.$editors.forEach(callback, scope);\n    };\n    this.$fontSize = \"\";\n    this.setFontSize = function (size) {\n        this.$fontSize = size;\n        this.forEach(function (editor) {\n            editor.setFontSize(size);\n        });\n    };\n    this.$cloneSession = function (session) {\n        var s = new EditSession(session.getDocument(), session.getMode());\n        var undoManager = session.getUndoManager();\n        s.setUndoManager(undoManager);\n        s.setTabSize(session.getTabSize());\n        s.setUseSoftTabs(session.getUseSoftTabs());\n        s.setOverwrite(session.getOverwrite());\n        s.setBreakpoints(session.getBreakpoints());\n        s.setUseWrapMode(session.getUseWrapMode());\n        s.setUseWorker(session.getUseWorker());\n        s.setWrapLimitRange(session.$wrapLimitRange.min, session.$wrapLimitRange.max);\n        s.$foldData = session.$cloneFoldData();\n        return s;\n    };\n    this.setSession = function (session, idx) {\n        var editor;\n        if (idx == null) {\n            editor = this.$cEditor;\n        }\n        else {\n            editor = this.$editors[idx];\n        }\n        var isUsed = this.$editors.some(function (editor) {\n            return editor.session === session;\n        });\n        if (isUsed) {\n            session = this.$cloneSession(session);\n        }\n        editor.setSession(session);\n        return session;\n    };\n    this.getOrientation = function () {\n        return this.$orientation;\n    };\n    this.setOrientation = function (orientation) {\n        if (this.$orientation == orientation) {\n            return;\n        }\n        this.$orientation = orientation;\n        this.resize();\n    };\n    this.resize = function () {\n        var width = this.$container.clientWidth;\n        var height = this.$container.clientHeight;\n        var editor;\n        if (this.$orientation == this.BESIDE) {\n            var editorWidth = width / this.$splits;\n            for (var i = 0; i < this.$splits; i++) {\n                editor = this.$editors[i];\n                editor.container.style.width = editorWidth + \"px\";\n                editor.container.style.top = \"0px\";\n                editor.container.style.left = i * editorWidth + \"px\";\n                editor.container.style.height = height + \"px\";\n                editor.resize();\n            }\n        }\n        else {\n            var editorHeight = height / this.$splits;\n            for (var i = 0; i < this.$splits; i++) {\n                editor = this.$editors[i];\n                editor.container.style.width = width + \"px\";\n                editor.container.style.top = i * editorHeight + \"px\";\n                editor.container.style.left = \"0px\";\n                editor.container.style.height = editorHeight + \"px\";\n                editor.resize();\n            }\n        }\n    };\n}).call(Split.prototype);\nexports.Split = Split;\n\n});\n\nace.define(\"ace/ext/split\",[\"require\",\"exports\",\"module\",\"ace/split\"], function(require, exports, module){\"use strict\";\nmodule.exports = require(\"../split\");\n\n});                (function() {\n                    ace.require([\"ace/ext/split\"], function(m) {\n                        if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                            module.exports = m;\n                        }\n                    });\n                })();\n            "],"names":["diff_match_patch","this","Diff_Timeout","Diff_EditCost","Match_Threshold","Match_Distance","Patch_DeleteThreshold","Patch_Margin","Match_MaxBits","DIFF_DELETE","Diff","op","text","prototype","diff_main","text1","text2","opt_checklines","opt_deadline","Number","MAX_VALUE","Date","getTime","deadline","Error","checklines","commonlength","diff_commonPrefix","commonprefix","substring","diff_commonSuffix","commonsuffix","length","diffs","diff_compute_","unshift","push","diff_cleanupMerge","longtext","shorttext","i","indexOf","hm","diff_halfMatch_","text1_a","text1_b","text2_a","text2_b","mid_common","diffs_a","diffs_b","concat","diff_lineMode_","diff_bisect_","a","diff_linesToChars_","chars1","chars2","linearray","lineArray","diff_charsToLines_","diff_cleanupSemantic","pointer","count_delete","count_insert","text_delete","text_insert","splice","subDiff","j","pop","text1_length","text2_length","max_d","Math","ceil","v_offset","v_length","v1","Array","v2","x","delta","front","k1start","k1end","k2start","k2end","d","k1","k1_offset","y1","x1","charAt","k2_offset","x2","diff_bisectSplit_","k2","y2","y","text1a","text2a","text1b","text2b","diffsb","lineHash","diff_linesToCharsMunge_","chars","lineStart","lineEnd","lineArrayLength","line","hasOwnProperty","undefined","String","fromCharCode","maxLines","charCodeAt","join","pointermin","pointermax","min","pointermid","pointerstart","floor","pointerend","diff_commonOverlap_","text_length","best","pattern","found","dmp","diff_halfMatchI_","best_longtext_a","best_longtext_b","best_shorttext_a","best_shorttext_b","seed","best_common","prefixLength","suffixLength","hm1","hm2","changes","equalities","equalitiesLength","lastEquality","length_insertions1","length_deletions1","length_insertions2","length_deletions2","max","diff_cleanupSemanticLossless","deletion","insertion","overlap_length1","overlap_length2","diff_cleanupSemanticScore_","one","two","char1","char2","nonAlphaNumeric1","match","nonAlphaNumericRegex_","nonAlphaNumeric2","whitespace1","whitespaceRegex_","whitespace2","lineBreak1","linebreakRegex_","lineBreak2","blankLine1","blanklineEndRegex_","blankLine2","blanklineStartRegex_","equality1","edit","equality2","commonOffset","commonString","bestEquality1","bestEdit","bestEquality2","bestScore","score","diff_cleanupEfficiency","pre_ins","pre_del","post_ins","post_del","diff_xIndex","loc","last_chars1","last_chars2","diff_prettyHtml","html","pattern_amp","pattern_lt","pattern_gt","pattern_para","replace","diff_text1","diff_text2","diff_levenshtein","levenshtein","insertions","deletions","data","diff_toDelta","encodeURI","diff_fromDelta","diffsLength","tokens","split","param","decodeURI","ex","n","parseInt","isNaN","match_main","match_bitap_","s","match_alphabet_","match_bitapScore_","e","accuracy","proximity","abs","score_threshold","best_loc","lastIndexOf","bin_min","bin_mid","matchmask","last_rd","bin_max","start","finish","rd","charMatch","patch_addContext_","patch","start2","length1","padding","prefix","suffix","start1","length2","patch_make","opt_b","opt_c","patches","patch_obj","patchDiffLength","char_count1","char_count2","prepatch_text","postpatch_text","diff_type","diff_text","patch_deepCopy","patchesCopy","patchCopy","patch_apply","nullPadding","patch_addPadding","patch_splitMax","results","start_loc","expected_loc","end_loc","index2","index1","mod","paddingLength","extraLength","patch_size","bigpatch","precontext","empty","shift","postcontext","patch_toText","patch_fromText","textline","textPointer","patchHeader","m","sign","toString","module","exports","HASH_UNDEFINED","funcTag","genTag","reIsDeepProp","reIsPlainProp","reLeadingDot","rePropName","reEscapeChar","reIsHostCtor","freeGlobal","global","Object","freeSelf","self","root","Function","arrayProto","funcProto","objectProto","coreJsData","maskSrcKey","uid","exec","keys","IE_PROTO","funcToString","objectToString","reIsNative","RegExp","call","Symbol","Map","getNative","nativeCreate","symbolProto","symbolToString","Hash","entries","index","clear","entry","set","ListCache","MapCache","assocIndexOf","array","key","value","other","baseGet","object","path","isArray","type","isSymbol","test","isKey","stringToPath","toKey","baseIsNative","isObject","func","tag","isFunction","result","isHostObject","toSource","getMapData","map","__data__","isKeyable","getValue","has","get","memoize","string","baseToString","number","quote","resolver","TypeError","memoized","args","arguments","apply","cache","Cache","isObjectLike","defaultValue","MAX_SAFE_INTEGER","argsTag","arrayTag","boolTag","dateTag","errorTag","mapTag","numberTag","objectTag","promiseTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","reIsUint","typedArrayTags","freeExports","nodeType","freeModule","moduleExports","freeProcess","process","nodeUtil","binding","nodeIsTypedArray","isTypedArray","arraySome","predicate","mapToArray","size","forEach","setToArray","transform","nativeObjectToString","Buffer","Uint8Array","propertyIsEnumerable","symToStringTag","toStringTag","nativeGetSymbols","getOwnPropertySymbols","nativeIsBuffer","isBuffer","nativeKeys","arg","DataView","Promise","Set","WeakMap","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolValueOf","valueOf","SetCache","values","add","Stack","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","iteratee","baseTimes","isIndex","eq","baseGetTag","isOwn","unmasked","getRawTag","baseIsArguments","baseIsEqual","bitmask","customizer","stack","equalFunc","objIsArr","othIsArr","objTag","getTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","byteLength","byteOffset","buffer","name","message","convert","isPartial","stacked","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","getAllKeys","objLength","othProps","othLength","skipCtor","objValue","othValue","compared","objCtor","constructor","othCtor","equalObjects","baseIsEqualDeep","isMasked","baseKeys","Ctor","proto","isPrototype","arrLength","seen","arrValue","othIndex","keysFunc","symbolsFunc","offset","arrayPush","baseGetAllKeys","getSymbols","pairs","LARGE_ARRAY_SIZE","resIndex","arrayFilter","symbol","ArrayBuffer","resolve","ctorString","isLength","baseUnary","ReactPropTypesSecret","require","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","props","propName","componentName","location","propFullName","secret","err","getShim","isRequired","ReactPropTypes","bigint","bool","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","isEqual","ace","getAceInstance","_super","editorOptions_1","method","_this","bind","debounce","__extends","ReactAce","parent","parentNode","className","onBeforeLoad","onValidate","mode","focus","theme","fontSize","showGutter","wrapEnabled","showPrintMargin","_b","scrollMargin","keyboardHandler","onLoad","commands","annotations","markers","placeholder","editor","refEditor","editorProps","debounceChangePeriod","onChange","renderer","setScrollMargin","isInShadow","attachToShadowRoot","getSession","setMode","setTheme","setFontSize","setValue","navigateToFileEnd","navigateFileEnd","setShowGutter","setUseWrapMode","setShowPrintMargin","on","onFocus","onBlur","onCopy","onPaste","onInput","updatePlaceholder","selection","onSelectionChange","onCursorChange","getAnnotations","session","onScroll","setAnnotations","handleMarkers","availableOptions","$options","option","setOption","console","warn","handleOptions","command","bindKey","addCommand","setKeyboardHandler","resize","prevProps","oldProps","nextProps","appliedClassesArray_1","trim","oldClass","valueChanged","silent","pos","toJSON","cursorStart","fromJSON","setOptions","handleScrollMargins","height","width","margins","destroy","event","getSelection","_a","currentMarkers","getMarkers","removeMarker","id","clazz","startRow","startCol","endRow","endCol","inFront","range","ace_builds_1","addMarker","showPlaceholder","placeholderNode","scroller","removeChild","document","createElement","textContent","style","position","zIndex","appendChild","item","divStyle","React","ref","updateRef","minLines","readOnly","highlightActiveLine","tabSize","enableSnippets","enableBasicAutocompletion","enableLiveAutocompletion","Component","DiffMatchPatch","state","diff","DiffComponent","setState","lhString","rhString","diffedLines","generateDiffedLines","setCodeMarkers","C","left","right","cursor","chunk","chunkType","lines","firstChar","lastChar","linesToHighlight","startLine","endLine","codeEditorSettings","newMarkerSet","markerObj","split_1","orientation","splits","window","acequire","fn","delay","timer","context","clearTimeout","setTimeout","diff_1","ace_1","SplitComponent","ext_split_1","container","env","splitEditor","getEditor","defaultValueForEditor","valueForEditor","setUndoManager","UndoManager","newAnnotations","newMarkers","sp","setOrientation","BELOW","BESIDE","setSplits","nextValue","oldAnnotations","oldMarkers","value_1","value_2","value_3","define","deps","payload","modules","payloads","original","error","trace","_require","parentId","callback","lookup","params","l","dep","packagedModule","normalizeModule","moduleName","chunks","slice","previous","uri","packaged","ns","exportAce","defineProp","obj","val","defineProperty","enumerable","writable","configurable","startsWith","searchString","endsWith","subjectString","lastIndex","repeat","count","includes","str","assign","target","output","source","o","k","find","len","thisArg","kValue","findIndex","fill","O","relativeStart","end","relativeEnd","final","of","last","stringReverse","reverse","stringRepeat","trimBeginRegexp","trimEndRegexp","stringTrimLeft","stringTrimRight","copyObject","copy","copyArray","deepCopy","arrayToMap","arr","createMap","create","arrayRemove","escapeRegExp","escapeHTML","getMatchOffsets","regExp","matches","deferredCall","fcn","deferred","timeout","cancel","schedule","isPending","delayedCall","defaultTimeout","_self","inherits","ctor","superCtor","super_","mixin","implement","OS","LINUX","MAC","WINDOWS","getOS","isMac","isLinux","_navigator","navigator","os","platform","toLowerCase","ua","userAgent","appName","isWin","isIE","parseFloat","isOldIE","isGecko","isMozilla","isOpera","opera","isWebKit","isChrome","isEdge","isAIR","isAndroid","isChromeOS","isIOS","MSStream","isMobile","strictCSP","useragent","buildDom","refs","txt","createTextNode","els","ch","el","options","childIndex","cssText","setAttribute","getDocumentHead","doc","head","getElementsByTagName","documentElement","createElementNS","removeChildren","innerHTML","ownerDocument","createFragment","createDocumentFragment","hasCssClass","addCssClass","removeCssClass","classes","toggleCssClass","setCssClass","include","hasCssString","sheets","querySelectorAll","removeElementById","getElementById","remove","cssCache","insertPendingStyles","importCssString","getRootNode","insertBefore","firstChild","useStrictCSP","importCssStylsheet","rel","href","scrollbarWidth","inner","minWidth","display","outer","overflow","body","noScrollbar","offsetWidth","withScrollbar","clientWidth","computedStyle","getComputedStyle","setStyle","styles","property","HAS_CSS_ANIMATION","HAS_CSS_TRANSFORMS","HI_DPI","devicePixelRatio","div","animationName","translate","tx","ty","round","top","dom","url","xhr","XMLHttpRequest","open","onreadystatechange","readyState","responseText","send","loadScript","src","onload","_","isAbort","qualifyURL","EventEmitter","stopPropagation","propagationStopped","preventDefault","defaultPrevented","_emit","_dispatchEvent","eventName","_eventRegistry","_defaultHandlers","listeners","defaultHandler","_signal","once","newCallback","off","setDefaultHandler","handlers","_disabled_","old","disabled","removeDefaultHandler","addEventListener","capturing","removeListener","removeEventListener","removeAllListeners","oop","optionsProvider","optList","getOptions","optionNames","filter","hidden","getOption","opt","forwardTo","handlesSet","reportError","msg","AppConfig","$defaultOptions","defineOptions","initialValue","resetOptions","setDefaultValue","opts","setDefaultValues","optionHash","isDark","cssClass","$id","lang","net","workerPath","modePath","themePath","basePath","$moduleUrls","loadWorkerFromBlob","sharedPopups","all","$modes","moduleUrl","component","parts","sep","base","re","setModuleUrl","subst","loader","cb","setLoader","$loading","loadModule","moduleType","afterLoad","reportErrorIfPathIsNotConfigured","version","config","init","scriptOptions","scriptUrl","currentScript","_currentScript","scripts","script","getAttribute","attributes","attr","m1","toUpperCase","Keys","ret","MODIFIER_KEYS","KEY_MODS","FUNCTION_KEYS","PRINTABLE_KEYS","enter","escape","esc","del","mods","pow","keyCodeToString","keyCode","keyString","activeListenerOptions","pressedKeys","ts","getListenerOptions","createComment","passive","detectListenerOptionsSupport","EventListener","elem","addListener","destroyer","$toDestroy","stopEvent","getButton","ctrlKey","altKey","shiftKey","button","capture","eventHandler","releaseCaptureHandler","onMouseUp","addMouseWheelListener","deltaX","deltaY","deltaMode","DOM_DELTA_PIXEL","wheelX","wheelY","DOM_DELTA_LINE","DOM_DELTA_PAGE","addMultiMouseDownListener","elements","timeouts","callbackName","startX","startY","clicks","eventNames","onMousedown","detail","isNewClick","clientX","clientY","_clicks","getModifierHash","metaKey","normalizeCommandKeys","hashId","getModifierState","altGr","keyLocation","timeStamp","resetPressedKeys","getModifierString","addCommandKeyListener","isOldGecko","lastKeyDownKeyCode","lastDefaultPrevented","postMessage","postMessageId","nextTick","win","messageName","listener","$idleBlocked","onIdle","handler","$idleBlockId","blockIdle","nextFrame","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","Range","startColumn","endColumn","row","column","contains","compare","compareRange","cmp","comparePoint","p","containsRange","intersects","isEnd","isStart","setStart","setEnd","inside","insideStart","insideEnd","isMultiLine","compareStart","compareEnd","compareInside","clipRows","firstRow","lastRow","fromPoints","extend","isEmpty","clone","collapseRows","toScreenRange","screenPosStart","documentToScreenPosition","screenPosEnd","moveBy","comparePoints","p1","p2","$cancelT","lineMode","pasteCancelled","now","clipboard","BROKEN_SETDATA","USE_IE_MIME_TYPE","HAS_FOCUS_ARGS","MAX_LINE_LENGTH","KEYS","MODS","valueResetRegex","TextInput","host","opacity","copied","pasted","inComposition","sendingText","tempStyle","commandMode","ignoreFocusEvents","lastValue","lastSelectionStart","lastSelectionEnd","lastRestoreEnd","isFocused","activeElement","setAriaOptions","activeDescendant","removeAttribute","role","hasFocus","resetSelection","$focusScroll","preventScroll","isTransformed","getBoundingClientRect","ancestors","t","parentElement","blur","curOp","commandName","isUserAction","docChanged","selectionChanged","onCompositionEnd","newValue","selectionEnd","setSelectionRange","afterContextMenu","selectionStart","getRange","getLine","prevLine","nextLine","inputHandler","setInputHandler","getInputHandler","sendText","fromInput","extendLeft","extendRight","inserted","restoreStart","restoreEnd","endIndex","shouldReset","onTextInput","onCompositionUpdate","inputType","execCommand","handleClipboardData","forceIEMime","clipboardData","mime","setData","getData","doCopy","isCut","getCopyText","onCut","select","onCommandKey","isAllSelected","selectAll","$readOnly","cancelComposition","useTextareaForIME","markerRange","compositionStartOffset","closeTimeout","syncComposition","onContextMenuClose","$isMousePressed","$keepTextAreaAtCursor","$moveTextAreaToCursor","onCompositionStart","getSelectionRange","msGetInputContext","getInputContext","getElement","setCommandMode","setReadOnly","setCopyWithEmptySelection","onContextMenu","domEvent","moveToMouse","bringToFront","characterWidth","rect","borderTopWidth","borderLeftWidth","maxTop","bottom","clientHeight","move","textInput","typingResetTimeout","typing","detectArrowKeys","$mouseHandler","isMousePressed","modifier","up","home","down","findKeyCommand","addIosSelectionHandler","$setUserAgentForTests","_isMobile","_isIOS","DefaultHandlers","mouseHandler","$clickSelection","onMouseDown","onDoubleClick","onTripleClick","onQuadClick","onMouseWheel","selectByLines","extendSelectionBy","selectByWords","calcRangeOrientation","anchor","ev","inSelection","getDocumentPosition","mousedownEvent","moveToPosition","time","$focusTimeout","inMultiSelectMode","captureMouse","startSelect","waitForClickSelection","screenToTextCoordinates","getShiftKey","selectToPosition","setCapture","orientedRange","setSelectionAnchor","scrollCursorIntoView","unitName","cmpStart","cmpEnd","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","unsetStyle","releaseCapture","focusWait","ax","ay","bx","by","distance","sqrt","getBracketRange","getWordRange","getLineRange","getAccelKey","$lastScroll","vx","vy","allowed","prevScroll","dt","direction","canScroll","isScrollableBy","speed","scrollBy","stop","CLASSNAME","Tooltip","isOpen","$element","$parentNode","$init","setText","setHtml","setPosition","setClassName","show","hide","getHeight","offsetHeight","getWidth","GutterTooltip","windowWidth","innerWidth","windowHeight","innerHeight","GutterHandler","tooltipTimeout","mouseEvent","tooltipAnnotation","gutter","$gutterLayer","tooltip","hideTooltip","moveTooltip","getRegion","selectTo","srcElement","$tooltipFollowsMouse","annotation","$annotations","getLength","screenRow","pixelToScreenCoordinates","$pos","documentToScreenRow","annotationClassName","showTooltip","$gutter","MouseEvent","$inSelection","selectionRange","DragdropHandler","dragImage","dragSelectionMarker","timerId","dragCursor","dragOperation","isInternal","autoScrollStartTime","cursorMovedTime","cursorPointOnCaretMoved","mouseTarget","counter","onDragInterval","prevCursor","vMovement","hMovement","moveCursorToPosition","calcDistance","lineHeight","layerConfig","editorRect","offsets","nearestXOffset","nearestYOffset","scrollCursor","vScroll","hScroll","autoScroll","addDragMarker","toOrientedRange","getSelectionStyle","clearSelection","$cursorLayer","setBlinking","clearInterval","setInterval","onMouseMove","clearDragMarker","fromOrientedRange","$resetCursorStyle","onDragStart","cancelDrag","draggable","dataTransfer","effectAllowed","getReadOnly","setDragImage","clearData","getTextRange","onDragEnd","dropEffect","setCursorStyle","onDragEnter","canAccept","getDropEffect","onDragOver","onMouseMoveTimer","onDragLeave","onDrop","moveText","dropData","insert","types","some","copyAllowed","copyModifierState","dragWait","getDragDelay","startDrag","dragWaitEnd","dragReadyEnd","cursorStyle","onMouseDrag","dragDrop","$dragEnabled","eventTarget","unselectable","addTouchListeners","touchStartT","lastT","longTouchTimer","animationTimer","pressed","contextMenu","animationSteps","clickCount","vX","vY","createContextMenu","handleClick","action","selected","hasUndo","getUndoManager","replaceChild","class","updateMenu","readText","then","writeText","ontouchstart","ontouchend","onclick","showContextMenu","pagePos","textToScreenCoordinates","leftOffset","pageX","scrollLeft","pageY","hideContextMenu","handleLongTap","selectWord","touches","h","w","touchObj","setRange","switchToSelectionMode","cursorPos","getPixelPosition","anchorPos","offsetTop","offsetLeft","weightedDistance","diff1","diff2","oldScrollTop","getScrollTop","DefaultGutterHandler","MouseHandler","focusEditor","getMouseEventTarget","onMouseEvent","scrollBarV","scrollBarH","Boolean","gutterEl","$dragDelay","character","mousemove","$scrollSpeed","mouseMoveHandler","which","releaseMouse","$mouseMoved","onCaptureEnd","onOperationEnd","onCaptureInterval","$onCaptureMouseMove","endOperation","startOperation","cancelContextMenu","scrollSpeed","dragDelay","dragEnabled","focusTimeout","tooltipFollowsMouse","FoldHandler","fold","getFoldAt","removeFold","expandFold","getUseWrapMode","foldWidgets","onFoldWidgetClick","getParentFoldRangeData","firstRange","addFold","keyUtil","KeyBinding","$editor","$data","$handlers","kb","removeKeyboardHandler","$defaultHandler","addKeyboardHandler","handleKeyboard","attach","detach","getKeyboardHandler","getStatusText","$callKeyboardHandlers","toExecute","success","passEvent","dir","hiLevel","lastArabic","hasUBAT_B","hasUBAT_S","impTab_LTR","impTab_RTL","ET","BN","UnicodeTBL00","UnicodeTBL20","_invertLevel","lev","levels","_array","lo","hi","tmp","_getCharClass","ix","wType","nType","cType","c","rtlCandidate","_getCharacterType","uc","L","R","EN","ON_R","AN","R_H","B","RLE","DOT","doBidiReorder","textCharTypes","isRtl","logicalFromVisual","bidiLevels","charTypes","impTab","prevState","newClass","newLevel","newState","condPos","_computeLevels","hasBidiCharacters","getVisualFromLogicalIdx","logIdx","rowMap","bidiUtil","bidiRE","BidiHandler","bidiMap","currentRow","charWidths","EOL","showInvisibles","isRtlDir","$isRtl","wrapIndent","EOF","contentWidth","fontMetrics","rtlLineOffset","wrapOffset","isMoveLeftOperation","seenBidi","isBidiRow","docRow","splitIndex","updateRowLine","updateBidiMap","getDocumentRow","rowCache","$screenRowCache","$getRowCacheIndex","$docRowCache","getSplitIndex","currentIndex","prevIndex","endOfLine","$useWrapMode","$wrapData","indent","isFullWidth","getScreenTabSize","$main","substr","markAsDirty","updateCharacterWidths","$characterSize","bidiCharWidth","$measureCharWidth","setShowInvisibles","setEolChar","eolChar","setContentWidth","isRtlLine","setRtlDirection","getCursorPosition","getSelectionAnchor","$bidiHandler","removeInLine","getPosLeft","col","leftBoundary","logicalIdx","getOverwrite","visualIdx","getSelections","level","selections","selColMin","selColMax","isSelected","isSelectedPrev","visIdx","offsetToCol","posX","charWidth","Selection","getDocument","lead","createAnchor","$silent","$cursorChanged","$isEmpty","$keepDesiredColumnOnChange","$desiredColumn","$anchorChanged","getCursor","getPosition","getAnchor","getSelectionLead","isBackwards","$setSelection","anchorRow","anchorColumn","cursorRow","cursorColumn","wasEmpty","wasMultiselect","$moveSelection","mover","moveCursorTo","moveTo","selectUp","moveCursorUp","selectDown","moveCursorDown","selectRight","moveCursorRight","selectLeft","moveCursorLeft","selectLineStart","moveCursorLineStart","selectLineEnd","moveCursorLineEnd","selectFileEnd","moveCursorFileEnd","selectFileStart","moveCursorFileStart","selectWordRight","moveCursorWordRight","selectWordLeft","moveCursorWordLeft","selectAWord","getAWordRange","excludeLastChar","rowEnd","rowStart","foldLine","getFoldLine","selectLine","moveCursorBy","wouldMoveIntoSoftTab","isTabStop","getTabSize","getNavigateWithinSoftTabs","firstColumnPosition","screenToDocumentPosition","leadingSpace","getDisplayLine","$useEmacsStyleLineStart","getDocumentLastRowColumnPosition","textEnd","search","moveCursorLongWordRight","rightOfCursor","nonTokenRe","tokenRe","moveCursorLongWordLeft","getFoldStringAt","leftOfCursor","$shortWordEndIndex","whitespaceRe","moveCursorShortWordRight","moveCursorShortWordLeft","$selectLongWords","rows","offsetX","screenPos","lineWidgets","widget","rowsAbove","rowCount","docPos","keepDesiredColumn","moveCursorToScreen","desiredColumn","r","getRangeOfMovements","rangeCount","ranges","r1","rangeList","toSingleRange","addRange","MAX_TOKEN_COUNT","Tokenizer","rules","states","regExps","matchMappings","ruleRegExps","matchTotal","mapping","defaultToken","flag","splitterRurles","rule","caseInsensitive","unicode","regex","adjustedregex","matchcount","token","groupCount","tokenArray","onMatch","$arrayTokens","$applyToken","digit","removeCapturingGroups","splitRegex","createSplitterRegexp","$setMaxTokenCount","inChClass","lastCapture","parenOpen","parenClose","square","getLineTokens","startState","currentState","matchAttempts","skipped","next","consumeLineEnd","merge","TextHighlightRules","$rules","addRules","nextState","getRules","embedRules","HighlightRules","escapeRules","append","$embeds","getEmbeds","pushState","popState","normalizeRules","processState","processed","toInsert","stateName","includeName","noEscape","keywordMap","createKeywordMapper","ignoreCase","splitChar","keywords","$keywordList","list","word","getKeywords","$keywords","Behaviour","$behaviours","addBehaviours","behaviours","inherit","getBehaviours","TokenIterator","initialRow","initialColumn","$session","$row","$rowTokens","getTokens","getTokenAt","$tokenIndex","stepBackward","stepForward","getCurrentToken","getCurrentTokenRow","getCurrentTokenColumn","rowTokens","tokenIndex","getCurrentTokenPosition","getCurrentTokenRange","SAFE_INSERT_IN_TOKENS","SAFE_INSERT_BEFORE_TOKENS","contextCache","defaultQuotes","initContext","multiSelect","autoInsertedBrackets","autoInsertedRow","autoInsertedLineEnd","maybeInsertedBrackets","maybeInsertedRow","maybeInsertedLineStart","maybeInsertedLineEnd","getWrapped","opening","closing","rowDiff","CstyleBehaviour","getWrapBehavioursEnabled","isSaneInsertion","braces","recordAutoInsert","recordMaybeInsert","$findOpeningBracket","isAutoInsertedClosing","popAutoInsertedClosing","isMaybeInsertedClosing","clearMaybeInsertedClosing","openBracePos","findMatchingBracket","next_indent","$getIndent","getTabString","quotes","$mode","$quotes","lineCommentStart","leftChar","rightChar","rightToken","pair","stringBefore","stringAfter","wordRe","isWordBefore","isWordAfter","charBefore","iterator","$matchTokenType","iterator2","bracket","wordChars","code","Mode","$defaultBehaviour","getTokenizer","$tokenizer","$highlightRules","$highlightRuleConfig","blockComment","toggleCommentLines","ignoreBlankLines","shouldRemove","minIndent","Infinity","insertAtTabStop","regexpStart","getUseSoftTabs","uncomment","shouldInsertSpace","commentWithSpace","comment","insertInLine","testRemove","before","after","spaces","lineCommentEnd","regexpEnd","iter","fun","minEmptyLength","toggleBlockComment","colDiff","initialRange","startRange","endRange","getNextLineIndent","tab","checkOutdent","input","autoOutdent","createWorker","createModeDelegates","delegations","scope","functionName","$delegator","language","transformAction","$behaviour","completionKeywords","ruleItr","aLength","$createKeywordList","getCompletions","meta","applyDelta","docLines","doNotValidate","Anchor","$onChange","$pointsInOrder","point1","point2","equalPointsInOrder","bColIsAfter","$clipPositionToDocument","$insertRight","point","moveIfEqual","deltaIsInsert","deltaRowShift","deltaColShift","deltaStart","deltaEnd","$getTransformedPoint","noClip","Document","textOrLines","$lines","insertMergedLines","getAllLines","getNewLineCharacter","$split","$detectNewLine","$autoNewLine","$newLineMode","setNewLineMode","newLineMode","getNewLineMode","isNewLine","getLines","getLinesForRange","insertLines","insertFullLines","removeLines","removeFullLines","insertNewLine","clippedPos","clonePos","$clipPosition","deleteFirstNewLine","deleteLastNewLine","deletedLines","removeNewLine","applyDeltas","deltas","revertDeltas","revertDelta","isInsert","$splitAndapplyLargeDelta","$safeApplyDelta","docLength","MAX","from","to","indexToPosition","newlineLength","positionToIndex","BackgroundTokenizer","tokenizer","running","currentLine","$worker","workerStart","processedLines","$tokenizeRow","fireUpdateEvent","setTokenizer","setDocument","first","scheduleStart","$updateOnChange","getState","cleanup","SearchHighlight","setRegexp","MAX_RANGES","update","markerLayer","renderedMarkerRanges","rangeToAddMarkerTo","rangeAsString","drawSingleLineMarker","FoldLine","foldData","folds","setFoldLine","shiftRow","sameRow","sort","b","containsRow","walk","lastEnd","isNewRow","getNextFoldTo","kind","addRemoveChars","log","foldBefore","newFoldLine","foldLineNext","idxToPosition","idx","lastFoldEndColumn","RangeList","$bias","pointIndex","excludeEdges","startIndex","addList","removed","substractPoint","containsPoint","rangeAtPoint","clipped","removeAll","lineDif","Fold","subFolds","consumePoint","restorePoint","subFold","collapseChildren","addSubFold","afterStart","firstConsumed","consumedFolds","restoreRange","Folding","side","getFoldsInRange","foldLines","$foldData","foundFolds","getFoldsInRangeList","getAllFolds","lastFold","startFoldLine","getNextFoldLine","getFoldedRowCount","$addFoldLine","added","$clipRangeToDocument","startFold","endFold","removeFolds","$updateWrapData","$updateRowLengthCache","$modified","addFolds","$updating","cloneFolds","foldAll","expandFolds","unfold","expandInner","outermostFolds","isRowFolded","startFoldRow","getRowFoldEnd","getRowFoldStart","getFoldDisplayLine","textLine","lastColumn","$cloneFoldData","fd","toggleFold","tryToUnfold","bracketPos","getCommentFoldRange","depth","getFoldWidget","getFoldWidgetRange","foldToLevel","foldAllComments","$foldStyles","$foldStyle","setFoldStyle","$foldMode","$setFolding","foldMode","$updateFoldWidgets","$tokenizerUpdateFoldWidgets","updateFoldWidgets","tokenizerUpdateFoldWidgets","ignoreCurrent","fw","children","siblings","$toggleFoldWidget","toggleFoldWidget","toggleParent","BracketMatch","chr","charBeforeCursor","$findClosingBracket","getMatchingBracketRanges","bracketsRegExp","$brackets","typeRe","openBracket","valueIndex","closingBracket","valueLength","getMatchingTags","$findTagName","$findClosingTag","$findOpeningTag","backward","prevToken","currentTag","openTagStart","openTagName","foundOpenTagEnd","openTagEnd","closeTagStart","closeTagName","closeTagEnd","openTag","closeTag","stepCount","tmpToken","TextMode","EditSession","$breakpoints","$decorations","$frontMarkers","$backMarkers","$markerId","$undoSelect","$uid","bgTokenizer","onChangeFold","destroyed","resetCaches","$resetRowCache","cacheArray","low","mid","$rowLengthCache","removedFolds","$updateInternalDataOnChange","$fromUndo","$undoManager","mergeUndoDeltas","$informUndoManager","reset","undoManager","addSession","$syncInformUndoManager","markUndoGroup","$defaultUndoManager","undo","redo","hasRedo","addSelection","startNewGroup","setUseSoftTabs","$useSoftTabs","$indentWithTabs","setTabSize","$tabSize","setNavigateWithinSoftTabs","navigateWithinSoftTabs","$navigateWithinSoftTabs","$overwrite","setOverwrite","overwrite","toggleOverwrite","addGutterDecoration","removeGutterDecoration","getBreakpoints","setBreakpoints","clearBreakpoints","setBreakpoint","clearBreakpoint","marker","addDynamicMarker","markerId","highlight","$searchHighlight","highlightLines","clearAnnotations","inToken","wordRange","setUseWorker","useWorker","getUseWorker","$useWorker","onReloadTokenizer","$modeId","$onChangeMode","$isPlaceholder","oldMode","$stopWorker","$startWorker","attachToSession","wrapMethod","$wrapMethod","foldingRules","terminate","getMode","$scrollTop","setScrollTop","scrollTop","$scrollLeft","setScrollLeft","getScrollLeft","getScreenWidth","$computeWidth","getLineWidgetMaxWidth","screenWidth","lineWidgetsWidth","lineWidgetWidth","force","$wrapLimit","longestScreenLine","foldIndex","foldStart","$getStringScreenWidth","undoChanges","dontSelect","selectionBefore","$getUndoSelection","redoChanges","selectionAfter","setUndoSelect","enable","isUndo","fromRange","toPosition","toRange","collDiff","oldStart","newStart","indentRows","indentString","outdentRows","rowRange","deleteRange","$moveLines","$clipRowToDocument","moveLinesUp","moveLinesDown","duplicateLines","$clipColumnToRow","$wrapLimitRange","useWrapMode","setWrapLimitRange","adjustWrapLimit","desiredLimit","$printMargin","limits","wrapLimit","$constrainWrapLimit","getWrapLimit","setWrapLimit","limit","getWrapLimitRange","foldLineBefore","wrapData","walkTokens","$getDisplayTokens","PLACEHOLDER_START","PLACEHOLDER_BODY","$computeWrapSplits","displayLength","lastSplit","lastDocSplit","isCode","$wrapAsCode","indentedSoftWrap","$indentedSoftWrap","maxIndent","addSplit","indentation","getWrapIndent","minSplit","maxScreenColumn","screenColumn","getRowLength","getRowLineCount","getRowWrapIndent","getScreenLastRowColumn","documentToScreenColumn","getDocumentLastRowColumn","docColumn","getRowSplitData","screenToDocumentRow","screenToDocumentColumn","rowLength","doCache","maxRow","foldStartRow","wrapRow","screenRowOffset","getScreenLength","screenRows","$getWidgetScreenLength","$setFontMetrics","fm","$enableVarChar","getCharacterWidth","wrap","$wrap","firstLineNumber","useSoftTabs","foldStyle","Search","$matchIterator","sr","sc","er","ec","skipCurrent","findAll","needle","$assembleRegExp","$isMultiLine","prevRange","replacement","preserveCase","$disableFakeMultiline","wholeWord","wordBoundary","addWordBoundary","caseSensitive","$assembleMultilineRegExp","backwards","forEachInLine","HashHandler","commandKeyBinding","addCommands","$singleCommand","MultiHashHandler","isDefault","removeCommand","_buildKeyHash","keepCommand","ckb","keyId","cmdGroup","keyPart","chain","parseKeys","_addCommandToBinding","removeCommands","bindKeys","keyList","$keyChain","CommandManager","byName","$checkCommandState","isAvailable","returnValue","toggleRecording","$inReplay","recording","macro","$addCommandToMacro","oldMacro","replay","trimMacro","mac","description","showSettingsMenu","showErrorMarker","scrollIntoView","centerSelection","gotoLine","prompt","$type","multiSelectAction","getAllRanges","findNext","findPrevious","aceCommandGroup","navigateFileStart","navigateUp","times","navigateDown","navigateWordLeft","navigateLineStart","navigateLeft","navigateWordRight","navigateLineEnd","navigateRight","selectPageDown","scrollPageDown","gotoPageDown","selectPageUp","scrollPageUp","gotoPageUp","jumpToMatching","$copyWithEmptySelection","$handlePaste","duplicateSelection","sortLines","modifyNumber","copyLinesUp","copyLinesDown","removeToLineStart","removeToLineEnd","removeWordLeft","removeWordRight","blockOutdent","blockIndent","splitLine","transposeLetters","transposeSelections","autoIndent","openLink","firstLineEndCol","selectedCount","insertLine","curLine","newRanges","exitMultiSelectMode","__values","done","defaultCommands","Editor","getContainerElement","getTextAreaContainer","textarea","keyBinding","$search","$historyTracker","$initOperationListeners","_$emitInputEvent","setSession","$opResetTimer","$lastSel","prevOp","commandEvent","previousCommand","scrollSelectionIntoView","animateScrolling","sel","$mergeableCommands","$mergeUndoDeltas","prev","mergeableCommands","shouldMerge","mergeNextCommand","sequenceStartTime","$keybindingId","oldSession","$onDocumentChange","$onTokenizerUpdate","$onChangeTabSize","$onChangeWrapLimit","$onChangeWrapMode","$onChangeFold","$onChangeFrontMarker","$onChangeBackMarker","$onChangeBreakpoint","$onChangeAnnotation","$onCursorChange","$onScrollTopChange","$onScrollLeftChange","$onSelectionChange","onDocumentChange","onChangeMode","onTokenizerUpdate","onChangeTabSize","onChangeWrapLimit","onChangeWrapMode","onChangeFrontMarker","onChangeBackMarker","onChangeBreakpoint","onChangeAnnotation","onScrollTopChange","onScrollLeftChange","updateFull","oldEditor","onResize","getTheme","getFontSize","$highlightBrackets","$highlightPending","$bracketHighlight","markerIds","$getDirectionForHighlight","tagNamesRanges","getMatching","markerType","getHighlightIndentGuides","$textLayer","$highlightIndentGuide","$isFocused","showCursor","visualizeFocus","hideCursor","visualizeBlur","$cursorChange","updateCursor","$updateHighlightActiveLine","updateLines","scrollToY","scrollToX","$highlightActiveLine","$selectionStyle","$selectionColorConflict","$maxLines","$minLines","$highlightLineMarker","$selectionMarker","$highlightSelectedWord","$getSelectionHighLightRegexp","wordWithBoundary","updateFrontMarkers","updateBackMarkers","updateBreakpoints","updateText","getSelectedText","nl","copyLine","inVirtualSelectionMode","isFullLine","getBehavioursEnabled","lineState","shouldOutdent","$enableAutoIndent","lineIndent","selectedRange","currIndent","prevLineState","composition","applyComposition","forEachSelection","setScrollSpeed","getScrollSpeed","setDragDelay","setSelectionStyle","setHighlightActiveLine","shouldHighlight","getHighlightActiveLine","setHighlightGutterLine","getHighlightGutterLine","setHighlightSelectedWord","getHighlightSelectedWord","setAnimatedScroll","shouldAnimate","getAnimatedScroll","getShowInvisibles","setDisplayIndentGuides","getDisplayIndentGuides","setHighlightIndentGuides","getShowPrintMargin","setPrintMarginColumn","getPrintMarginColumn","setBehavioursEnabled","enabled","setWrapBehavioursEnabled","setShowFoldWidgets","getShowFoldWidgets","setFadeFoldWidgets","fade","getFadeFoldWidgets","new_range","swap","originalRange","$getSelectedRows","getNumberAt","_numberRx","amount","charRange","isFinite","nr","fp","decimals","nnr","toFixed","replaceRange","toggleWord","$toggleWordPairs","currWordStart","wordParts","curLength","itLength","that","reg","wordPairs","negate","firstCondition","res","findLinkAt","e_1","columnPosition","previousPosition","currentPosition","wordParts_1","wordParts_1_1","e_1_1","return","endPoint","moved","totalDiff","rangeIndex","subRows","compositionState","showComposition","setCompositionText","hideComposition","getFirstVisibleRow","getLastVisibleRow","isRowVisible","isRowFullyVisible","getFirstFullyVisibleRow","getLastFullyVisibleRow","$getVisibleRowCount","getScrollBottomRow","getScrollTopRow","$moveByPage","scrollToRow","scrollToLine","center","animate","alignCursor","getCursorPositionScreen","expand","tokenCount","matchType","bracketType","brackets","tagsRanges","lineNumber","navigateTo","replaced","$tryReplace","replaceAll","getLastSearchOptions","newRange","revealRange","setAutoScrollEditorIntoView","shouldScroll","$scrollAnchor","scrollAnchor","onChangeSelection","onBeforeRender","onAfterRender","searchBox","$pixelPos","$cursorStyle","cursorLayer","setSmoothBlinking","isBlinking","selectionStyle","highlightSelectedWord","copyWithEmptySelection","behavioursEnabled","wrapBehavioursEnabled","enableAutoIndent","autoScrollEditorIntoView","showLineNumbers","setShowLineNumbers","$loop","CHANGE_GUTTER","$relativeLineNumbers","relativeNumberRenderer","relativeLineNumbers","$showLineNumbers","$updatePlaceholder","$composition","$placeholder","content","customScrollbar","hScrollBarAlwaysVisible","vScrollBarAlwaysVisible","highlightGutterLine","animatedScroll","printMarginColumn","printMargin","fadeFoldWidgets","showFoldWidgets","displayIndentGuides","highlightIndentGuides","fontFamily","scrollPastEnd","fixedWidthGutter","hasCssTransforms","maxPixelHeight","getText","lastLineNumber","$renderer","$maxRev","$undoDepth","allowMerge","$lastDelta","$keepRedoStack","$redoStack","lastDeltas","undoStackLength","$undoStack","$rev","rev","markIgnored","ignore","getRevision","getDeltas","getChangedRanges","getChangedLines","deltaSet","swapped","swapGroups","rearrangeUndoStack","$redoStackBaseRev","undoSelectionRange","$syncRev","redoStack","deltaSets","moveDeltasByOne","rebaseRedoStack","redoSelectionRange","nextDelta","mark","canUndo","canRedo","bookmark","isAtBookmark","isClean","markClean","$prettyPrint","stringifyDelta","stringifyRange","d1","d2","i1","i2","ds1","ds2","xform","c1","splitDelta","shiftPos","rowsBefore","otherLines","cloneDelta","xformed","Lines","canvasHeight","cells","cellCache","$offsetCoefficient","moveContainer","firstRowScreen","pageChanged","oldConfig","newConfig","computeLineTop","screenTop","screenPage","computeLineHeight","$cacheCell","cell","fragment","insertAdjacentElement","createCell","initElement","Gutter","parentEl","$showFoldWidgets","gutterWidth","$updateAnnotations","onCreateCell","textNode","foldWidget","rowInfo","annoText","gutterOffset","oldLastRow","$updateCursorRow","$renderCell","$updateGutterWidth","gutterRenderer","$firstLineNumber","lastLineText","$fixedWidth","$padding","$computePadding","$highlightGutterLine","$cursorRow","updateLineHighlight","$cursorCell","scrollLines","$renderLines","childNodes","breakpoints","decorations","foldHeight","getShowLineNumbers","paddingLeft","borderRightWidth","paddingRight","Marker","setPadding","setMarkers","elt","css","$getTop","drawFullLineMarker","drawScreenLineMarker","drawTextMarker","drawMultiLineMarker","childElementCount","lastChild","stringBuilder","extraStyle","curr","lineRange","range1","drawBidiSingleLineMarker","radiusClass","Text","$updateEolChar","EOF_CHAR","EOL_CHAR_LF","EOL_CHAR_CRLF","EOL_CHAR","TAB_CHAR","SPACE_CHAR","MAX_CHUNK_LENGTH","margin","getLineHeight","$fontMetrics","measure","$pollSizeChanges","checkForSizeChanges","$pollSizeChangesTimer","$computeTabString","showSpaces","showTabs","showEOL","$highlightIndentGuides","$tabStrings","tabStr","span","$indentGuideRe","spaceClass","spaceContent","tabClass","tabContent","lineElements","lineElementsIdx","heightChanged","lineElement","$renderLine","$renderLinesFragment","lineEl","$useLineGroups","$textToken","$renderTokenInChunks","newScreenColumn","valueChunk","tokenChunk","$renderToken","valueFragment","simpleSpace","controlCharacter","cjkSpace","cjk","cloneNode","com","renderIndentGuide","cols","$highlightIndentGuideMarker","indentLevel","initialIndent","elementIndentLevel","currentIndent","$renderHighlightIndentGuide","$clearActiveIndentGuide","classList","$setIndentGuideActive","$createLineElement","$renderWrappedLine","splitChars","$renderOverflowMessage","$renderSimpleLine","overflowEl","$getFoldLineTokens","lastLineEl","invisibleEl","renderTokens","addTokens","Cursor","isVisible","blinkInterval","smoothBlinking","cursors","addCursor","$updateCursors","$updateOpacity","$startCssAnimation","animationDuration","$isAnimating","$stopCssAnimation","blinking","restartTimer","setBlinkInterval","removeCursor","intervalId","timeoutId","$isSmoothBlinking","blink","onScreen","isCursorInView","pixelPos","maxHeight","$selectionMarkers","cursorIndex","drawCursor","$setOverwrite","MAX_SCROLL_H","ScrollBar","classSuffix","setVisible","skipEvent","coeff","VScrollBar","scrollHeight","$scrollbarWidth","$minWidth","setHeight","setInnerHeight","setScrollHeight","HScrollBar","setWidth","setInnerWidth","setScrollWidth","ScrollBarV","ScrollBarH","VScrollWidth","HScrollHeight","eType","mousePageY","startTop","thumbTop","scrollTopFromThumbTop","thumbHeight","pageHeight","viewHeight","slideHeight","scrollWidth","mousePageX","startLeft","thumbLeft","scrollLeftFromThumbLeft","thumbWidth","pageWidth","viewWidth","slideWidth","RenderLoop","onRender","pending","$recursionLimit","_flush","change","USE_OBSERVER","ResizeObserver","FontMetrics","charCount","$setMeasureNodeStyles","$measureNode","$addObserver","isRoot","visibility","whiteSpace","font","$measureSizes","fontWeight","boldSize","charSizes","allowBoldFonts","$observer","observe","setPolling","charSize","disconnect","$getZoom","getZoom","zoom","$initTransformMeasureNodes","transformCoordinates","clientPos","elPos","mul","solve","l1","l2","det","sub","m2","ut","u","f","Decorator","canvas","pixelRatio","heightRatio","canvasWidth","minDecorationHeight","halfMinDecorationHeight","colors","dark","light","$updateDecorators","ctx","getContext","clearRect","priorities","priority","compensateFold","compensateFoldRows","currentY","yCenter","fillStyle","fillRect","GutterLayer","MarkerLayer","TextLayer","CursorLayer","HScrollBarCustom","VScrollBarCustom","editorCss","HIDE_TEXTAREA","VirtualRenderer","onGutterResize","$markerBack","textLayer","$markerFront","$horizScroll","$vScroll","scrollBar","$scrollAnimation","updateCharacterSize","$size","scrollerHeight","scrollerWidth","$dirty","minHeight","v","$renderChanges","defaultView","CHANGE_FULL","CHANGE_CURSOR","CHANGE_MARKER","CHANGE_SCROLL","CHANGE_LINES","CHANGE_TEXT","CHANGE_SIZE","CHANGE_MARKER_BACK","CHANGE_MARKER_FRONT","CHANGE_H_SCROLL","$allowBoldFonts","$updatePrintMargin","onChangeNewLineMode","$changedLines","updateFontSize","$changes","$updateSizeAsync","resizing","$updateCachedSize","$customScrollbar","$updateCustomScrollbar","$extraHeight","oldSize","$showGutter","$computeLayerConfig","availableWidth","$showPrintMargin","$printMarginColumn","$animatedScroll","getShowGutter","$printMarginEl","containerEl","posTop","posLeft","sm","setMargin","getHScrollBarAlwaysVisible","$hScrollBarAlwaysVisible","setHScrollBarAlwaysVisible","alwaysVisible","getVScrollBarAlwaysVisible","$vScrollBarAlwaysVisible","setVScrollBarAlwaysVisible","$updateScrollBarV","$scrollPastEnd","$updateScrollBarH","$frozen","freeze","unfreeze","st","$scrollDecorator","$updateLines","$autosize","desiredHeight","$maxPixelHeight","$gutterWidth","hideScrollbars","longestLine","$getLongestLine","horizScroll","hScrollChanged","vScrollBefore","vScrollChanged","firstRowHeight","lineCount","$viewMargin","newLeft","newTop","topMargin","bottomMargin","$stopAnimation","currentTop","currentLeft","twoCharsWidth","alignment","STEPS","$calcSteps","fromValue","toValue","x_min","steps","initialScroll","oldSteps","$timer","endAnimation","scrollTo","canvasPos","$hasCssTransforms","$blockCursor","$useTextareaForIME","addToken","removeExtraToken","newToken","$themeId","$theme","setMouseCursor","workerUrl","Worker","blob","Blob","blobBuilder","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","getBlob","$workerBlob","blobURL","URL","webkitURL","createObjectURL","WorkerClient","worker","$createWorkerFromOldConfig","$sendDeltaQueue","changeListener","onMessage","callbackId","callbacks","onmessage","topLevelNamespaces","classname","importScripts","nameToUrl","toUrl","normalizePath","$normalizePath","tlns","deltaQueue","$doc","cmd","emit","attachToDocument","q","UIWorkerClient","main","emitSync","sender","messageBuffer","workerClient","processNext","setEmitSync","Main","PlaceHolder","others","mainClass","othersClass","$onUpdate","onUpdate","$others","undoStack","$undostack","$undoStackDepth","setup","showOtherMarkers","othersActive","hideOtherMarkers","updateAnchors","lengthDiff","inMainRange","distanceFromStart","newPos","otherPos","updateMarkers","updateMarker","undosRequired","isSamePoint","alt","ctrl","accel","selectionMode","isMultiSelect","mouseX","mouseY","screenAnchor","screenCursor","$enableJumpToDef","$blockSelectEnabled","addSelectionMarker","oldRange","removeSelectionMarker","tmpSel","rectSel","blockSelect","newCursor","removeSelectionMarkers","rectangularRangeBlock","updateSelectionMarkers","onSelectionInterval","selectMoreLines","selectMore","joinSelections","splitIntoLines","alignCursors","multiSelectCommands","getSelectionMarkers","$blockChangeEvents","$onAddRange","$onRemoveRange","mergeOverlappingRanges","lastRange","$initRangeList","toggleBlockSelection","includeEmptyLines","xBackwards","startOffsetX","endOffsetX","docEnd","yBackwards","MultiSelect","$multiselectOnSessionChange","$onMultiSelect","$onSingleSelect","onSessionChange","$checkMultiselectChange","altCursor","altDown","addAltCursorListeners","selectionMarkerCount","markerList","$onMultiSelectExec","inVirtualMode","keepOrder","$byLines","cmdResult","anim","buf","additive","skip","screenLead","toRemove","words","stopAtFirst","sameRowRanges","maxCol","minSpace","spaceOffsets","spaceOffset","fr","lr","guessRange","$reAlignText","forceLeft","startW","textW","endW","isLeftAligned","isRightAligned","alignLeft","enableMultiselect","enableBlockSelect","FoldMode","foldingStartMarker","foldingStopMarker","indentationBlock","startLevel","openingBracketBlock","closingBracketBlock","LineWidgets","widgetManager","updateOnChange","renderWidgets","measureWidgets","_changedWidgets","$onChangeEditor","updateOnFold","_inDocument","removeLineWidget","$updateRows","noWidgets","$oldWidget","$registerLineWidget","addLineWidget","coverGutter","pixelHeight","$fold","onWidgetChanged","w1","getWidgetsAtRow","changedWidgets","fixedWidth","coverLine","fullWidth","oldWidget","gutterAnno","comparator","binarySearch","matched","findAnnotations","arrow","onmousedown","Renderer","_id","tagName","oldNode","createEditSession","Split","$container","$splits","$editorCSS","$editors","$orientation","$cEditor","$createEditor","$fontSize","getSplits","getCurrentEditor","keybinding","$cloneSession","isUsed","getOrientation","editorWidth","editorHeight"],"sourceRoot":""}